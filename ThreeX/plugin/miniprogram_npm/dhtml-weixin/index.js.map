{"version":3,"sources":["index.js","Blob.js","createImageBitmap.js","HTMLImageElement.js","EventTarget.js","core/ArrayX.js","Event.js","core/Base64.js","btoa.js","core/Page.js","CSSStyleDeclaration.js","document.js","window.js","URL.js","core/GUID.js","Performance.js","Location.js","requestAnimationFrame.js","cancelAnimationFrame.js","HTMLCanvasElement.js","ImageBitmap.js","Worker.js","AudioContext.js","Style.js","core/String.js","Element.js","Node.js","ClassCollection.js","fetch.js","Response.js","Headers.js","navigator.js","Request.js","WebAssembly.js","XMLHttpRequest.js","core/xmldom/dom-parser.js","core/xmldom/entities.js","core/xmldom/sax.js","core/xmldom/dom.js","core/index.js","core/Canvas.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ACHA,AFMA;ACFA,ACHA,AFMA;ACFA,ACHA,AFMA;ACFA,AENA,ADGA,AFMA;ACFA,AENA,ADGA,AFMA;ACFA,AENA,ADGA,AFMA;ACFA,AGTA,ADGA,ADGA,AFMA;ACFA,AGTA,ADGA,ADGA,AFMA;ACFA,AGTA,ADGA,ADGA,AFMA;ACFA,AGTA,ADGA,AENA,AHSA,AFMA;ACFA,AGTA,ADGA,AENA,AHSA,AFMA;AIXA,ADGA,AENA,AHSA,AFMA;AMjBA,AFMA,ADGA,AENA,AHSA,AFMA;AMjBA,AFMA,ADGA,AENA,AHSA,AFMA;AMjBA,AFMA,ADGA,AENA,AHSA,AFMA;AMjBA,AFMA,ADGA,AENA,AENA,APqBA;AMjBA,AFMA,ADGA,AENA,AENA,APqBA;AMjBA,AFMA,ADGA,AENA,AENA,APqBA;AMjBA,AFMA,ADGA,AKfA,AHSA,AENA,APqBA;AMjBA,AFMA,ADGA,AKfA,ADGA,APqBA;AMjBA,AFMA,ADGA,AKfA,ADGA,APqBA;AMjBA,AFMA,ADGA,AKfA,ADGA,AENA,AT2BA;AMjBA,AFMA,ADGA,AKfA,ADGA,AENA,AT2BA;AMjBA,AFMA,ADGA,AKfA,ADGA,AENA,AT2BA;AU7BA,AJYA,AFMA,ADGA,AKfA,ADGA,AENA,AT2BA;AU7BA,AJYA,AFMA,ADGA,AKfA,ADGA,AENA,AT2BA;AU7BA,AJYA,AFMA,ADGA,AKfA,ADGA,AENA,AT2BA;AU7BA,AJYA,AFMA,ADGA,AKfA,ADGA,AENA,AENA,AXiCA;AU7BA,AJYA,AFMA,ADGA,AKfA,ADGA,AENA,AENA,AXiCA;AU7BA,AJYA,AFMA,ADGA,AKfA,ADGA,AENA,AENA,AXiCA;AU7BA,AJYA,AFMA,ADGA,AKfA,ADGA,AENA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AKfA,ADGA,AENA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AKfA,ADGA,AENA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AU9BA,ALeA,ADGA,AENA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AU9BA,ALeA,ADGA,AENA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AU9BA,ALeA,ADGA,AENA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AU9BA,ALeA,ADGA,AOrBA,ALeA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AU9BA,ALeA,ADGA,AOrBA,ALeA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AU9BA,ALeA,ADGA,AOrBA,ALeA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AYpCA,AFMA,ALeA,ADGA,AOrBA,ALeA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AYpCA,AFMA,ALeA,ADGA,AOrBA,ALeA,AENA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AYpCA,AFMA,ALeA,ADGA,AOrBA,AHSA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AavCA,ADGA,AFMA,ALeA,ADGA,AOrBA,AHSA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AavCA,ADGA,AFMA,ALeA,ADGA,AOrBA,AHSA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AavCA,ADGA,AFMA,ALeA,ADGA,AOrBA,AHSA,AXiCA,AYpCA;AFOA,AJYA,AFMA,ADGA,AavCA,ADGA,AFMA,ALeA,ADGA,AOrBA,AHSA,AXiCA,AiBnDA,ALeA;AFOA,AJYA,AFMA,ADGA,AavCA,ADGA,AFMA,ALeA,ADGA,AIZA,AXiCA,AiBnDA,ALeA;AFOA,AJYA,AFMA,ADGA,AavCA,ADGA,AFMA,ALeA,ADGA,AIZA,AXiCA,AiBnDA,ALeA;AFOA,AJYA,AFMA,ADGA,AavCA,ADGA,AFMA,ALeA,AU9BA,AXiCA,AIZA,AXiCA,AiBnDA,ALeA;AFOA,AJYA,AFMA,ADGA,AavCA,AHSA,ALeA,AU9BA,AXiCA,AIZA,AXiCA,AiBnDA,ALeA;AFOA,ANkBA,ADGA,AavCA,AHSA,ALeA,AU9BA,AXiCA,AIZA,AXiCA,AiBnDA,ALeA;AFOA,ANkBA,Ae7CA,AhBgDA,AU9BA,ALeA,AU9BA,AXiCA,AIZA,AXiCA,AiBnDA,ALeA;AFOA,ANkBA,Ae7CA,AhBgDA,AU9BA,ALeA,AU9BA,AXiCA,AIZA,AXiCA,AiBnDA,ALeA;AFOA,ANkBA,Ae7CA,AhBgDA,AU9BA,AKfA,AXiCA,AIZA,AXiCA,AiBnDA,ALeA;AFOA,ANkBA,Ae7CA,AhBgDA,AiBnDA,APqBA,AKfA,AXiCA,AIZA,AXiCA,AiBnDA,ALeA;AFOA,ANkBA,Ae7CA,AhBgDA,AiBnDA,APqBA,AKfA,AXiCA,AIZA,AXiCA,AiBnDA,ALeA;ARyBA,Ae7CA,AhBgDA,AiBnDA,APqBA,AKfA,AXiCA,AIZA,AXiCA,AiBnDA,ALeA;ARyBA,Ae7CA,AhBgDA,AiBnDA,APqBA,AQxBA,AHSA,AXiCA,AIZA,AXiCA,AYpCA;ARyBA,Ae7CA,AhBgDA,AiBnDA,APqBA,AQxBA,AHSA,AXiCA,AIZA,AXiCA,AYpCA;ARyBA,Ae7CA,AhBgDA,AiBnDA,APqBA,AQxBA,AHSA,AXiCA,AIZA,ACHA;AU7BA,AlBsDA,Ae7CA,AhBgDA,AiBnDA,ACHA,AHSA,AXiCA,AIZA,ACHA;AU7BA,AlBsDA,Ae7CA,AhBgDA,AiBnDA,ACHA,AHSA,AXiCA,AIZA,ACHA;AU7BA,AlBsDA,Ae7CA,AhBgDA,AiBnDA,ACHA,AHSA,AXiCA,AIZA,ACHA;AU7BA,AlBsDA,ADGA,AiBnDA,AGTA,AFMA,AHSA,AXiCA,AIZA,ACHA;AU7BA,AlBsDA,ADGA,AiBnDA,AGTA,AFMA,AHSA,AXiCA,AIZA,ACHA;AU7BA,AlBsDA,ADGA,AiBnDA,AGTA,AFMA,AHSA,AXiCA,AIZA,ACHA;AU7BA,AlBsDA,ADGA,AiBnDA,AGTA,AFMA,Ad0CA,AiBnDA,AbuCA,ACHA;AU7BA,AlBsDA,ADGA,AiBnDA,AGTA,AFMA,Ad0CA,AiBnDA,AbuCA,ACHA;AU7BA,AlBsDA,ADGA,AiBnDA,AGTA,AFMA,Ad0CA,AiBnDA,AbuCA,ACHA;AU7BA,AGTA,ArB+DA,ADGA,AoB5DA,AFMA,Ad0CA,AiBnDA,AbuCA,ACHA;AU7BA,AGTA,AtBkEA,AoB5DA,AFMA,AGTA,AbuCA,ACHA;AU7BA,AGTA,AtBkEA,AoB5DA,AFMA,AGTA,AbuCA,ACHA;AU7BA,AGTA,AtBkEA,AuBrEA,AHSA,AFMA,AGTA,AbuCA,ACHA;AU7BA,AGTA,AtBkEA,AuBrEA,AHSA,AFMA,AGTA,AbuCA,ACHA;AU7BA,AGTA,AtBkEA,AuBrEA,AHSA,AFMA,AGTA,AbuCA,ACHA;AU7BA,AKfA,AFMA,AtBkEA,AuBrEA,AHSA,AFMA,AGTA,AbuCA,ACHA;AU7BA,AKfA,AFMA,AtBkEA,AuBrEA,AHSA,AFMA,AGTA,AbuCA,ACHA;AU7BA,AKfA,AFMA,AtBkEA,AuBrEA,AHSA,AFMA,AGTA,AbuCA,ACHA;AU7BA,AKfA,AFMA,AtBkEA,AuBrEA,AHSA,AFMA,AGTA,AbuCA,AiBnDA,AhBgDA;AU7BA,AKfA,AxBwEA,AuBrEA,AHSA,AFMA,AV8BA,AiBnDA,AhBgDA;AU7BA,AKfA,AxBwEA,AuBrEA,AHSA,AFMA,AV8BA,AiBnDA,AhBgDA;AU7BA,AKfA,AxBwEA,A0B9EA,ANkBA,AFMA,AV8BA,AiBnDA,AhBgDA;AU7BA,AKfA,AxBwEA,A0B9EA,ANkBA,AFMA,AV8BA,AiBnDA,AhBgDA;AU7BA,AKfA,AxBwEA,A0B9EA,ANkBA,AFMA,AV8BA,AiBnDA,AhBgDA;AU7BA,AKfA,AxBwEA,A2BjFA,ADGA,ANkBA,AFMA,AV8BA,AiBnDA,AhBgDA;AU7BA,AKfA,AxBwEA,A2BjFA,ADGA,ANkBA,AFMA,AV8BA,AiBnDA,AhBgDA;AU7BA,AKfA,AxBwEA,A2BjFA,ADGA,ANkBA,AFMA,AV8BA,ACHA;AU7BA,AKfA,AGTA,ADGA,ANkBA,AFMA,AV8BA,AoB5DA,AnByDA;AU7BA,AKfA,AGTA,ADGA,ANkBA,AFMA,AV8BA,AoB5DA,AnByDA;AU7BA,AKfA,AGTA,ADGA,ANkBA,AFMA,AV8BA,AoB5DA,AnByDA;AU7BA,AKfA,AKfA,AHSA,ANkBA,AFMA,AV8BA,AoB5DA,AnByDA;AU7BA,AKfA,AKfA,AHSA,ANkBA,AFMA,AV8BA,AoB5DA,AnByDA;AU7BA,AKfA,AKfA,AHSA,ANkBA,AFMA,AV8BA,AoB5DA,AnByDA;AU7BA,AKfA,AKfA,AHSA,ANkBA,AU9BA,AZoCA,AV8BA,AoB5DA,AnByDA;AU7BA,AU9BA,AHSA,ANkBA,AU9BA,AZoCA,AV8BA,AoB5DA,AnByDA;AU7BA,AU9BA,AHSA,ANkBA,AU9BA,AZoCA,AV8BA,AoB5DA,AnByDA;AU7BA,AU9BA,AHSA,ANkBA,AU9BA,AZoCA,AavCA,AvBqEA,AoB5DA,AnByDA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AvBqEA,AoB5DA,AnByDA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AvBqEA,AoB5DA,AnByDA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,AxBwEA,AoB5DA,AnByDA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,AxBwEA,AoB5DA,AnByDA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,AxBwEA,AoB5DA,AnByDA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,ACHA,AzB2EA,AoB5DA,AnByDA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,ACHA,AzB2EA,AoB5DA,AnByDA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,ACHA,AzB2EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,ACHA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,ACHA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,ACHA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AKfA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AKfA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AKfA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AU9BA,AZoCA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AU7BA,AOrBA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AiBlDA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AiBlDA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AiBlDA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AiBlDA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AiBlDA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AiBlDA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AiBlDA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AiBlDA,ANkBA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA,ACHA;AWhCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,AMlBA,ALeA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,AavCA,ACHA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA,A1B8EA;AYnCA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;Ad2CA,AFMA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,AFMA,ACHA;AhBiDA,Ac1CA,AGTA,ADGA;AhBiDA,Ac1CA,AGTA,ADGA;AhBiDA,Ac1CA,AGTA,ADGA;AhBiDA,Ac1CA,AGTA,ADGA;AhBiDA,Ac1CA,AGTA,ADGA;AhBiDA,Ac1CA,AGTA,ADGA;AhBiDA,Ac1CA,AGTA,ADGA;AhBiDA,Ac1CA,AGTA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;AhBiDA,AiBnDA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["var __TEMP__ = require('./Blob');var Blob = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./createImageBitmap');var createImageBitmap = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./CSSStyleDeclaration');var CSSStyleDeclaration = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./document');var Document = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./fetch');var fetch = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Headers');var Headers = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./HTMLImageElement');var HTMLImageElement = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./HTMLCanvasElement');var HTMLCanvasElement = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./ImageBitmap');var ImageBitmap = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./navigator');var navigator = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Request');var Request = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./requestAnimationFrame');var requestAnimationFrame = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./cancelAnimationFrame');var cancelAnimationFrame = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Response');var Response = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./URL');var URL = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./window');var Window = __REQUIRE_DEFAULT__(__TEMP__);\r\nconst WebAssembly = require(\"./WebAssembly\");\r\nvar __TEMP__ = require('./Worker');var Worker = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./XMLHttpRequest');var XMLHttpRequest = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Location');var Location = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./core/xmldom/dom-parser');var DOMParser = __TEMP__['DOMParser'];\r\nvar __TEMP__ = require('./core/index');var core = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Element');var Element = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Node');var Node = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Event');var Event = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Performance');var Performance = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./btoa');var btoa = __REQUIRE_DEFAULT__(__TEMP__);\r\nconst performance = new Performance();\r\nconst document = new Document();\r\nconst window = new Window();\r\nconst self = window;\r\nconst location = new Location();\r\nmodule.exports = {\r\n  Blob,\r\n  btoa,\r\n  createImageBitmap,\r\n  CSSStyleDeclaration,\r\n  performance,\r\n  document,\r\n  DOMParser,\r\n  EventTarget,\r\n  Element,\r\n  fetch,\r\n  Headers,\r\n  HTMLCanvasElement,\r\n  HTMLImageElement,\r\n  ImageBitmap,\r\n  location,\r\n  navigator,\r\n  Node,\r\n  Event,\r\n  Request,\r\n  requestAnimationFrame,\r\n  cancelAnimationFrame,\r\n  Response,\r\n  self,\r\n  URL,\r\n  window,\r\n  WebAssembly,\r\n  Worker,\r\n  XMLHttpRequest,\r\n  core,\r\n};\r\n","/* eslint-disable camelcase */\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Blob {\r\n  constructor(array, options) {\r\n    this.array = array\r\n    this.options = options\r\n  }\r\n  get size(){\r\n    return this.array[0].length\r\n  }\r\n  arrayBuffer(){\r\n    return this.array[0]\r\n  }\r\n};exports.default = Blob\r\n","/* eslint-disable no-unused-vars */\r\nvar __TEMP__ = require('./HTMLImageElement');var HTMLImageElement = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\r\n\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function createImageBitmap(src, options) {\r\n  return new Promise((resolve) => {\r\n    const canvas = Page.current.canvas\r\n    const img = new HTMLImageElement(canvas)\r\n    img.onload = function() {\r\n      resolve(img)\r\n    }\r\n    img.src = src\r\n  })\r\n};exports.default = createImageBitmap\r\n","/* eslint-disable prefer-spread */\r\n/* eslint-disable no-console */\r\n/* eslint-disable no-mixed-operators */\r\n/* eslint-disable no-bitwise */\r\n/* eslint-disable no-cond-assign */\r\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./core/Base64');var Base64 = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class HTMLImageElement extends EventTarget {\r\n\tconstructor(canvas2d) {\r\n\t\tsuper();\r\n\t\tconst canvas = canvas2d || Page.current.canvas;\r\n\t\tthis.wx_element = canvas.createImage();\r\n\t\tthis.wx_element.onload = () => {\r\n\t\t\tif (this.onload) {\r\n\t\t\t\tthis.onload.call(this);\r\n\t\t\t}\r\n\t\t\tif (this._all_event_handlers.load) {\r\n\t\t\t\tthis._all_event_handlers.load.forEach((handler) => {\r\n\t\t\t\t\thandler.call(this);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.wx_element.onerror = (e) => {\r\n\t\t\tif (this.onerror) {\r\n\t\t\t\tthis.onerror.call(this, e);\r\n\t\t\t}\r\n\t\t\tif (this._all_event_handlers.error) {\r\n\t\t\t\tthis._all_event_handlers.error.forEach((handler) => {\r\n\t\t\t\t\thandler.call(this, e);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.onekit_image = this;\r\n\t}\r\n\tget width() {\r\n\t\treturn this.wx_element.width;\r\n\t}\r\n\tget height() {\r\n\t\treturn this.wx_element.height;\r\n\t}\r\n\tget data() {\r\n\t\treturn this.wx_element.data;\r\n\t}\r\n\tget complete() {\r\n\t\treturn this.wx_element.complete;\r\n\t}\r\n\tset crossOrigin(crossOrigin) {\r\n\t\tthis._crossOrigin = crossOrigin;\r\n\t}\r\n\r\n\tget crossOrigin() {\r\n\t\treturn this._crossOrigin;\r\n\t}\r\n\r\n\tset src(src) {\r\n\t\tconst onekit_debug = Page.getApp().onekit_debug\r\n\t\tif (onekit_debug) {\r\n\t\t\tif (src.startsWith(\"data:\")) {\r\n\t\t\t\tconsole[onekit_debug](\"[image]\", \"blob\");\r\n\t\t\t} else {\r\n\t\t\t\tconsole[onekit_debug](\"[image]\", src);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._src = src;\r\n\r\n\t\tif (src.startsWith(\"blob:\")) {\r\n\t\t\ttry {\r\n\t\t\t\tconst arrayBuffer = Page.current.DataURL[src].array[0]\r\n\t\t\t\tconst base64 = \"data:image/png;base64,\" + Base64.arrayBufferToBase64(arrayBuffer)\r\n\t\t\t\tthis.wx_element.src = base64\r\n\t\t\t} catch (ex) {\r\n\t\t\t\tconsole.error(ex);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.wx_element.src = src;\r\n\t\t}\r\n\t}\r\n\r\n\tget src() {\r\n\t\treturn this._src;\r\n\t}\r\n};exports.default = HTMLImageElement\r\n","/* eslint-disable class-methods-use-this */\r\n/* eslint-disable max-len */\r\nvar __TEMP__ = require('./core/ArrayX');var ArrayX = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Event');var Event = __REQUIRE_DEFAULT__(__TEMP__);\r\n\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class EventTarget {\r\n  constructor() {\r\n    this._all_event_handlers = {};\r\n  }\r\n\r\n  addEventListener(type, handler) {\r\n    if (!this._all_event_handlers[type]) {\r\n      this._all_event_handlers[type] = [];\r\n    }\r\n    this._all_event_handlers[type].push(handler);\r\n  }\r\n\r\n  removeEventListener(type, handler) {\r\n    this._all_event_handlers[type] = ArrayX.remove(\r\n      this._all_event_handlers[type],\r\n      handler\r\n    );\r\n  }\r\n\r\n  createEvent(type) {\r\n    return new Event(type);\r\n  }\r\n  dispatchEvent(e) {\r\n    setTimeout(() => {\r\n      var type = e.type;\r\n      switch (e.type) {\r\n        case \"touchstart\":\r\n          type = \"pointerdown\";\r\n          break;\r\n        case \"touchmove\":\r\n          type = \"pointermove\";\r\n         /* const prev_e = this._prev_e;\r\n          if (prev_e) {\r\n            if (\r\n              Math.abs(prev_e.clientX - e.clientX) < 5 &&\r\n              Math.abs(prev_e.clientY - e.clientY) < 5\r\n            ) {\r\n              return;\r\n            }\r\n          }\r\n          this._prev_e = e;*/\r\n          break;\r\n        case \"touchend\":\r\n          type = \"pointerup\";\r\n          break;\r\n        case \"touchcancel\":\r\n          type = \"pointercancel\";\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      const event_handlers = this._all_event_handlers[type] || [];\r\n      for (var event_handler of event_handlers) {\r\n        event_handler.call(this, e);\r\n      }\r\n    }, 1);\r\n  }\r\n};exports.default = EventTarget\r\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = {\r\n  remove(array, item) {\r\n    const index = array.indexOf(item)\r\n    if (index > -1) {\r\n      array.splice(index, 1)\r\n    }\r\n    return array\r\n  }\r\n};\r\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Event {\r\n    \r\n    static fix(wx_e){\r\n        const web_e = new Event(wx_e.type)\r\n        web_e.button = null;\r\n        web_e.ctrlKey = false;\r\n        web_e.metaKey = false;\r\n        web_e.shiftKey = false;\r\n        web_e.code = \"\";\r\n        web_e.pointerType = \"touch\";\r\n        //\r\n        if(wx_e.changedTouches.length>0){\r\n            const touch = wx_e.changedTouches[0]\r\n            web_e.pointerId = touch.identifier || 2;\r\n            web_e.pageX = touch.x;\r\n            web_e.pageY = touch.y;\r\n            web_e.clientX = touch.x-wx_e.currentTarget.offsetLeft;\r\n            web_e.clientY = touch.y-wx_e.currentTarget.offsetTop;\r\n            //\r\n            web_e.offsetX = web_e.clientX;\r\n            web_e.offsetY = web_e.clientY;\r\n            web_e.deltaX = web_e.offsetX;\r\n            web_e.deltaY = web_e.offsetY;\r\n        }\r\n        return web_e\r\n    }\r\n    \r\n    //////////////////////////////////////////////////////////////\r\n\r\n    constructor(type, options) {\r\n        this.type = type\r\n        this.options = options\r\n    }\r\n    preventDefault() {\r\n\r\n    }\r\n};exports.default = Event\r\n","/* eslint-disable max-len */\r\n/* eslint-disable no-useless-escape */\r\n/* eslint-disable no-nested-ternary */\r\n/* eslint-disable no-var */\r\n/* eslint-disable no-mixed-operators */\r\n/* eslint-disable vars-on-top */\r\n/* eslint-disable no-bitwise */\r\nvar __TEMP__ = require('../btoa');var btoa = __REQUIRE_DEFAULT__(__TEMP__);\r\nfunction b64ToUint6(nChr) {\r\n  return nChr > 64 && nChr < 91\r\n    ? nChr - 65\r\n    : nChr > 96 && nChr < 123\r\n      ? nChr - 71\r\n      : nChr > 47 && nChr < 58\r\n        ? nChr + 4\r\n        : nChr === 43\r\n          ? 62\r\n          : nChr === 47\r\n            ? 63\r\n            : 0\r\n}\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Base64 {\r\n  static arrayBufferToBase64(array) {\r\n  //  return String.fromCharCode.apply(null, new Int8Array(buffer))\r\n  \r\n      let binary = ''\r\n      const bytes = new Uint8Array(array)\r\n      const len = bytes.byteLength\r\n      for (let i = 0; i < len; i++) {\r\n        binary += String.fromCharCode(bytes[i])\r\n      }\r\n      return btoa(binary)\r\n  }\r\n\r\n  static base64ToArrayBuffer(sBase64, nBlockSize) {\r\n    const\r\n      sB64Enc = sBase64.replace(/[^A-Za-z0-9\\+\\/]/g, ''); const nInLen = sB64Enc.length\r\n    const nOutLen = nBlockSize ? Math.ceil((nInLen * 3 + 1 >>> 2) / nBlockSize) * nBlockSize : nInLen * 3 + 1 >>> 2; const\r\n      aBytes = new Int8Array(nOutLen)\r\n\r\n    for (var nMod3, nMod4, nUint24 = 0, nOutIdx = 0, nInIdx = 0; nInIdx < nInLen; nInIdx++) {\r\n      nMod4 = nInIdx & 3\r\n      nUint24 |= b64ToUint6(sB64Enc.charCodeAt(nInIdx)) << 18 - 6 * nMod4\r\n      if (nMod4 === 3 || nInLen - nInIdx === 1) {\r\n        for (nMod3 = 0; nMod3 < 3 && nOutIdx < nOutLen; nMod3++, nOutIdx++) {\r\n          aBytes[nOutIdx] = nUint24 >>> (16 >>> nMod3 & 24) & 255\r\n        }\r\n        nUint24 = 0\r\n      }\r\n    }\r\n\r\n    return aBytes.buffer\r\n  }\r\n};exports.default = Base64\r\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function btoa(string) {\r\n  const b64 =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n  string = String(string);\r\n  let bitmap;\r\n  let a;\r\n  let b;\r\n  let c;\r\n  let result = \"\";\r\n  let i = 0;\r\n  const rest = string.length % 3; // To determine the final padding\r\n\r\n  for (; i < string.length; ) {\r\n    if (\r\n      (a = string.charCodeAt(i++)) > 255 ||\r\n      (b = string.charCodeAt(i++)) > 255 ||\r\n      (c = string.charCodeAt(i++)) > 255\r\n    ) {\r\n      throw new TypeError(\r\n        \"Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.\"\r\n      );\r\n    }\r\n\r\n    bitmap = (a << 16) | (b << 8) | c;\r\n    result +=\r\n      b64.charAt((bitmap >> 18) & 63) +\r\n      b64.charAt((bitmap >> 12) & 63) +\r\n      b64.charAt((bitmap >> 6) & 63) +\r\n      b64.charAt(bitmap & 63);\r\n  }\r\n\r\n  // If there's need of padding, replace the last 'A's with equal signs\r\n  return rest ? result.slice(0, rest - 3) + \"===\".substring(rest) : result;\r\n};exports.default = btoa\r\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Page{\r\n    static get current(){\r\n        const pages = this.getCurrentPages()\r\n        return pages[pages.length-1]\r\n    }\r\n    static getCurrentPages(){\r\n        if(typeof requireMiniProgram ==\"undefined\"){\r\n            return getCurrentPages()\r\n        }else{\r\n            return requireMiniProgram().getCurrentPages()\r\n        }\r\n    }\r\n    static getApp(){\r\n        if(typeof requireMiniProgram ==\"undefined\"){\r\n            return getApp()\r\n        }else{\r\n            return requireMiniProgram().getApp()\r\n        }\r\n    }\r\n};exports.default = Page","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class CSSStyleDeclaration {\r\n  constructor() {\r\n    this.fill = ''\r\n    this['fill-opacity'] = ''\r\n    this['fill-rule'] = ''\r\n    this.opacity = ''\r\n    this.stroke = ''\r\n    this['stroke-opacity'] = ''\r\n    this['stroke-width'] = ''\r\n    this['stroke-linejoin'] = ''\r\n    this['stroke-linecap'] = ''\r\n    this['stroke-miterlimit'] = ''\r\n    this.visibility = ''\r\n  }\r\n\r\n  static parse(css) {\r\n    const style = new CSSStyleDeclaration()\r\n    const pairs = css.split(';')\r\n    for (const pair of pairs) {\r\n      if (!pair) {\r\n        continue\r\n      }\r\n      if (!pair.includes(':')) {\r\n        continue\r\n      }\r\n      const kv = pair.trim().split(':')\r\n      style[kv[0].trim()] = kv[1].trim()\r\n    }\r\n    return style\r\n  }\r\n};exports.default = CSSStyleDeclaration\r\n","/* eslint-disable no-redeclare */\r\n/* eslint-disable import/export */\r\n/* eslint-disable no-use-before-define */\r\n/* eslint-disable class-methods-use-this */\r\n/* eslint-disable no-console */\r\nvar __TEMP__ = require('./HTMLImageElement');var HTMLImageElement = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./window');var Window = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Location');var Location = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Style');var Style = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Element');var Element = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./ClassCollection');var ClassCollection = __REQUIRE_DEFAULT__(__TEMP__);\r\nconst window = new Window()\r\nfunction getPage() {\r\n  const pages = Page.getCurrentPages();\r\n  return pages[pages.length - 1];\r\n}\r\nclass HTMLElement extends Element {\r\n  constructor(wx_element) {\r\n    super();\r\n    this.wx_element = wx_element;\r\n    this.style = new Style();\r\n    this.classList = new ClassCollection();\r\n    this._children = [];\r\n    this._childNodes = [];\r\n    this.textContent = \"\";\r\n  }\r\n\r\n  get ownerDocument() {\r\n    return new Document();\r\n  }\r\n\r\n  get parentElement() {\r\n    return new HTMLElement();\r\n  }\r\n  set id(id) {\r\n    this._id = id;\r\n    this.wx_key = id;\r\n  }\r\n  get id() {\r\n    return this._id;\r\n  }\r\n  get children() {\r\n    return this._children;\r\n  }\r\n  get childNodes() {\r\n    return this._childNodes;\r\n  }\r\n  set innerHTML(innerHTML) {\r\n    if (typeof innerHTML != \"string\") {\r\n      return;\r\n    }\r\n    innerHTML = innerHTML.replaceAll(\"<br/>\", \"\\n\");\r\n    innerHTML = innerHTML.replaceAll(\"<br>\", \"\\n\");\r\n    innerHTML = innerHTML.replaceAll(\"&nbsp;\", \" \");\r\n    const page = getPage();\r\n    const key = `${this.wx_key}_innerHTML`;\r\n    const data = {};\r\n    data[key] = innerHTML;\r\n    page.setData(data);\r\n  }\r\n  get innerHTML() {\r\n    return this._innerHTML;\r\n  }\r\n  append() {}\r\n  appendChild() {}\r\n  removeChild() {}\r\n  remove() {}\r\n\r\n  insertBefore() {}\r\n\r\n  setAttribute() {}\r\n\r\n  toggleAttribute() {}\r\n\r\n  click() {}\r\n\r\n  getBoundingClientRect() {\r\n\t\tif (this.wx_element) {\r\n\t\t\treturn {\r\n\t\t\t\tleft: 0,\r\n\t\t\t\ttop:0,\r\n\t\t\t\twidth: this.wx_element.width/window.devicePixelRatio,\r\n\t\t\t\theight: this.wx_element.height/window.devicePixelRatio,\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0\r\n\t\t};\r\n  }\r\n  play() {}\r\n  setPointerCapture() {}\r\n  releasePointerCapture() {}\r\n  get clientWidth() {\r\n    return this.wx_element ? this.wx_element.width : 0;\r\n  }\r\n  get clientHeight() {\r\n    return this.wx_element ? this.wx_element.height : 0;\r\n  }\r\n}\r\n\r\nclass Head extends HTMLElement {}\r\n\r\nclass Body extends HTMLElement {}\r\n\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Document extends EventTarget {\r\n  constructor() {\r\n    super();\r\n    this.window = window;\r\n  }\r\n\r\n  get body() {\r\n    return new Body();\r\n  }\r\n\r\n  get head() {\r\n    return new Head();\r\n  }\r\n\r\n  async createElementAsync(nodeName, canvasType = \"2d\", THIS) {\r\n    switch (nodeName) {\r\n      case \"canvas\":\r\n        return new Promise((resolve) => {\r\n          var query = wx.createSelectorQuery();\r\n          if (THIS) {\r\n            query = query.in(THIS);\r\n          }\r\n          query\r\n            .select(`#canvas_${canvasType}`)\r\n            .fields({ node: true })\r\n            .exec((res) => {\r\n              const canvas = res[0].node;\r\n              if (canvasType === \"2d\") {\r\n                const context = canvas.getContext(\"2d\");\r\n                context.clearRect(0, 0, 10000, 10000);\r\n              }\r\n              resolve(canvas);\r\n            });\r\n        });\r\n      default:\r\n        console.error(\"createElementAsync\", nodeName);\r\n        throw new Error(nodeName);\r\n    }\r\n  }\r\n\r\n  async getElementByIdAsync(id) {\r\n    return new Promise((resolve) => {\r\n      const query = wx.createSelectorQuery();\r\n      query\r\n        .select(`#${id}`)\r\n        .fields({ node: true })\r\n        .exec((res) => {\r\n          resolve(res[0].node);\r\n        });\r\n    });\r\n  }\r\n\r\n  async getElementsByTagNameAsync(tagName) {\r\n    return new Promise((resolve) => {\r\n      const query = wx.createSelectorQuery();\r\n      query\r\n        .select(tagName)\r\n        .fields({ node: true })\r\n        .exec((res) => {\r\n          resolve(res[0].node);\r\n        });\r\n    });\r\n  }\r\n\r\n  async getElementsByClassNameAsync(className) {\r\n    return new Promise((resolve) => {\r\n      const query = wx.createSelectorQuery();\r\n      query\r\n        .select(`.${className}`)\r\n        .fields({ node: true })\r\n        .exec((res) => {\r\n          resolve(res[0].node);\r\n        });\r\n    });\r\n  }\r\n\r\n  createElement(nodeName, canvasType = \"2d\",canvas) {\r\n    switch (nodeName) {\r\n      case \"canvas\":\r\n        return wx.createOffscreenCanvas({ type: canvasType });\r\n      case \"img\":\r\n        return new HTMLImageElement(canvas);\r\n      default:\r\n        return new HTMLElement();\r\n    }\r\n  }\r\n\r\n  createElementNS(namesspace, nodeName, canvasType) {\r\n    return this.createElement(nodeName, canvasType);\r\n  }\r\n\r\n  get documentElement() {\r\n    return new HTMLElement();\r\n  }\r\n\r\n  getElementById() {\r\n    return new HTMLElement();\r\n  }\r\n\r\n  getElementsByTagName() {\r\n    return [];\r\n  }\r\n\r\n  getElementsByClassName() {\r\n    return [];\r\n  }\r\n\r\n  querySelector() {\r\n    return new HTMLElement();\r\n  }\r\n\r\n  get location() {\r\n    return new Location();\r\n  }\r\n\r\n  querySelectorAll() {\r\n    return [];\r\n  }\r\n};exports.default = Document\r\n","/* eslint-disable no-undef */\r\n/* eslint-disable getter-return */\r\n/* eslint-disable class-methods-use-this */\r\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./URL');var URL = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Performance');var Performance = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Location');var Location = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./requestAnimationFrame');var requestAnimationFrame = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./cancelAnimationFrame');var cancelAnimationFrame = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./createImageBitmap');var createImageBitmap = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./HTMLImageElement');var HTMLImageElement = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./HTMLCanvasElement');var HTMLCanvasElement = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./ImageBitmap');var ImageBitmap = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Worker');var Worker = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./btoa');var btoa = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./AudioContext');var AudioContext = __REQUIRE_DEFAULT__(__TEMP__);\r\n// ///////////////////////////////////////////////\r\n\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Window extends EventTarget {\r\n  get btoa() {\r\n    return btoa\r\n  }\r\n  get Int8Array() {\r\n    return Int8Array\r\n  }\r\n\r\n  get Uint8Array() {\r\n    return Uint8Array\r\n  }\r\n\r\n  get Uint8ClampedArray() {\r\n    return Uint8ClampedArray\r\n  }\r\n\r\n  get Int16Array() {\r\n    return Int16Array\r\n  }\r\n\r\n  get Uint16Array() {\r\n    return Uint16Array\r\n  }\r\n\r\n  get Int32Array() {\r\n    return Int32Array\r\n  }\r\n\r\n  get Uint32Array() {\r\n    return Uint32Array\r\n  }\r\n\r\n  get Float32Array() {\r\n    return Float32Array\r\n  }\r\n\r\n  get Float64Array() {\r\n    return Float64Array\r\n  }\r\n\r\n  get BigInt64Array() {\r\n    return BigInt64Array\r\n  }\r\n\r\n  get BigUint64Array() {\r\n    return BigUint64Array\r\n  }\r\n  // /////////////////\r\n\r\n  _getSystemInfoSync() {\r\n    if (!this.onekit_systemInfo) {\r\n      this.onekit_systemInfo = wx.getSystemInfoSync()\r\n    }\r\n  }\r\n\r\n  constructor() {\r\n    super()\r\n    this.URL = URL\r\n    this.AudioContext = AudioContext\r\n    this.performance = new Performance()\r\n\r\n    this.setTimeout = setTimeout\r\n    this.clearTimeout = clearTimeout\r\n    this.setInterval = setInterval\r\n    this.clearInterval = clearInterval\r\n  }\r\n  get HTMLImageElement() {\r\n    return HTMLImageElement\r\n  }\r\n  get HTMLCanvasElement() {\r\n    return HTMLCanvasElement\r\n  }\r\n  get ImageBitmap() {\r\n    return ImageBitmap\r\n  }\r\n  get devicePixelRatio() {\r\n    this._getSystemInfoSync()\r\n    return this.onekit_systemInfo.pixelRatio\r\n  }\r\n\r\n  get innerWidth() {\r\n    this._getSystemInfoSync()\r\n    return this.onekit_systemInfo.windowWidth\r\n  }\r\n\r\n  get innerHeight() {\r\n    this._getSystemInfoSync()\r\n    return this.onekit_systemInfo.windowHeight\r\n  }\r\n\r\n  get Math() {\r\n    return this.Math\r\n  }\r\n\r\n  get location() {\r\n    return new Location()\r\n  }\r\n\r\n  get requestAnimationFrame() {\r\n    return requestAnimationFrame\r\n  }\r\n\r\n  get cancelAnimationFrame() {\r\n    return cancelAnimationFrame\r\n  }\r\n\r\n  get createImageBitmap() {\r\n    return createImageBitmap\r\n  }\r\n\r\n  get localStorage() {\r\n    return localStorage\r\n  }\r\n\r\n  postMessage(json) {\r\n    return Worker.self_postMessage(json)\r\n  }\r\n  onmessage(msg) {\r\n    return Worker.self_onmessage(msg)\r\n  }\r\n};exports.default = Window\r\n","var __TEMP__ = require('./core/GUID');var GUID = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class URL {\r\n  static createObjectURL(blob) {\r\n    const guid = GUID();\r\n    const url = `blob:http://localhost/${guid}`;\r\n    try {\r\n  const page = Page.current\r\nif(!page.DataURL){\r\n    page.DataURL = {}\r\n}\r\npage.DataURL[url] = blob\r\n    } catch (ex) {\r\n      console.error(ex);\r\n    }\r\n    return url;\r\n  }\r\n\r\n  static revokeObjectURL(url) {\r\n    try {\r\n        delete  Page.current.DataURL[url]\r\n    } catch (ex) {\r\n      console.error(ex);\r\n    }\r\n  }\r\n};exports.default = URL\r\n","/* eslint-disable no-mixed-operators */\r\n/* eslint-disable no-bitwise */\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function GUID() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n    const r = Math.random() * 16 | 0; const\r\n      v = c === 'x' ? r : (r & 0x3 | 0x8)\r\n    return v.toString(16)\r\n  })\r\n};exports.default = GUID\r\n","/* eslint-disable class-methods-use-this */\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Performance {\r\n  constructor() {\r\n    this.wx_performance = wx.getPerformance();\r\n  }\r\n  now() {\r\n    return this.wx_performance.now();\r\n  }\r\n};exports.default = Performance\r\n","/* eslint-disable class-methods-use-this */\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Location {\r\n  constructor() {\r\n    this.hash = ''\r\n    this.search = ''\r\n    this.href = ''\r\n  }\r\n};exports.default = Location\r\n","var __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function requestAnimationFrame(callback,canvas=Page.current.canvas) {\r\n  if(!canvas){\r\n    return\r\n  }\r\n  if(canvas && canvas.wx_element){\r\n    canvas = canvas.wx_element\r\n  }\r\n  const requestId = canvas.requestAnimationFrame(callback)\r\n  return requestId\r\n};exports.default = requestAnimationFrame\r\n","var __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function cancelAnimationFrame(requestId,canvas=Page.current.canvas) {\r\n\ttry {\r\n\t\tif(!canvas){\r\n\t\t\treturn\r\n\t\t  }\r\n\t\tif (!requestId) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (canvas && canvas.wx_element) {\r\n\t\t\tcanvas = canvas.wx_element\r\n\t\t}\r\n\t\tcanvas.cancelAnimationFrame(requestId)\r\n\t} catch (ex) {\r\n\t\tconsole.error(ex)\r\n\t}\r\n};exports.default = cancelAnimationFrame\r\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class HTMLCanvasElement {\r\n  constructor(wx_element) {\r\n    this.wx_element = wx_element;\r\n  }\r\n  get width() {\r\n    return this.wx_element.width;\r\n  }\r\n  get height() {\r\n    return this.wx_element.height;\r\n  }\r\n};exports.default = HTMLCanvasElement\r\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class ImageBitmap {\r\n  constructor(wx_element) {\r\n    this.wx_element = wx_element;\r\n  }\r\n  get width() {\r\n    return this.wx_element.width;\r\n  }\r\n  get height() {\r\n    return this.wx_element.height;\r\n  }\r\n  get data() {\r\n    return this.wx_element.data;\r\n  }\r\n};exports.default = ImageBitmap\r\n","/* eslint-disable camelcase */\r\n/* eslint-disable no-console */\r\n/* eslint-disable no-tabs */\r\n/* eslint-disable no-case-declarations */\r\n/* eslint-disable complexity */\r\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\r\nfunction json2message(json) {\r\n  if (json == null) {\r\n    return null;\r\n  }\r\n  if (json instanceof ArrayBuffer) {\r\n    return {\r\n      t: \"ArrayBuffer\",\r\n      v: json,\r\n    };\r\n  }\r\n  if (json instanceof Int8Array) {\r\n    return {\r\n      t: \"Int8Array\",\r\n      v: json.buffer,\r\n    };\r\n  }\r\n  if (json instanceof Uint8Array) {\r\n    return {\r\n      t: \"Uint8Array\",\r\n      v: json.buffer,\r\n    };\r\n  }\r\n  if (json instanceof Uint8ClampedArray) {\r\n    return {\r\n      t: \"Uint8ClampedArray\",\r\n      v: json.buffer,\r\n    };\r\n  }\r\n  if (json instanceof Int16Array) {\r\n    return {\r\n      t: \"Int16Array\",\r\n      v: json.buffer,\r\n    };\r\n  }\r\n  if (json instanceof Uint16Array) {\r\n    return {\r\n      t: \"Uint16Array\",\r\n      v: json.buffer,\r\n    };\r\n  }\r\n  if (json instanceof Int32Array) {\r\n    return {\r\n      t: \"Int32Array\",\r\n      v: json.buffer,\r\n    };\r\n  }\r\n  if (json instanceof Uint32Array) {\r\n    return {\r\n      t: \"Uint32Array\",\r\n      v: json.buffer,\r\n    };\r\n  }\r\n  if (json instanceof Uint32Array) {\r\n    return {\r\n      t: \"Uint32Array\",\r\n      v: json.buffer,\r\n    };\r\n  }\r\n  if (json instanceof Float32Array) {\r\n    return {\r\n      t: \"Float32Array\",\r\n      v: json.buffer,\r\n    };\r\n  }\r\n  if (json instanceof Float64Array) {\r\n    return {\r\n      t: \"Float64Array\",\r\n      v: json.buffer,\r\n    };\r\n  }\r\n  if (json instanceof Array) {\r\n    return {\r\n      t: \"Array\",\r\n      v: json.map((item) => json2message(item)),\r\n    };\r\n  }\r\n  if (typeof json === \"boolean\") {\r\n    return {\r\n      t: \"Boolean\",\r\n      v: json,\r\n    };\r\n  }\r\n  if (typeof json === \"number\") {\r\n    return {\r\n      t: \"Number\",\r\n      v: json,\r\n    };\r\n  }\r\n  if (typeof json === \"string\") {\r\n    return {\r\n      t: \"String\",\r\n      v: json,\r\n    };\r\n  }\r\n  const dict = {};\r\n  for (const key of Object.keys(json)) {\r\n    dict[key] = json2message(json[key]);\r\n  }\r\n  return {\r\n    t: \"Dict\",\r\n    v: dict,\r\n  };\r\n}\r\n\r\nfunction message2json(message) {\r\n  if (message == null) {\r\n    return null;\r\n  }\r\n  const value = message.v;\r\n  switch (message.t) {\r\n    case \"ArrayBuffer\":\r\n      return value;\r\n    case \"Int8Array\":\r\n      return new Int8Array(value);\r\n    case \"Uint8Array\":\r\n      return new Uint8Array(value);\r\n    case \"Uint8ClampedArray\":\r\n      return new Uint8ClampedArray(value);\r\n    case \"Int16Array\":\r\n      return new Int16Array(value);\r\n    case \"Uint16Array\":\r\n      return new Uint16Array(value);\r\n    case \"Int32Array\":\r\n      return new Int32Array(value);\r\n    case \"Uint32Array\":\r\n      return new Uint32Array(value);\r\n    case \"Float32Array\":\r\n      return new Float32Array(value);\r\n    case \"Float64Array\":\r\n      return new Float64Array(value);\r\n\r\n    case \"Array\":\r\n      return value.map((item) => message2json(item));\r\n    case \"Boolean\":\r\n    case \"String\":\r\n    case \"Number\":\r\n      return value;\r\n    case \"Dict\":\r\n      const dict = {};\r\n      for (const key of Object.keys(value)) {\r\n        dict[key] = message2json(value[key]);\r\n      }\r\n      return dict;\r\n    default:\r\n      throw new Error(message.t);\r\n  }\r\n}\r\n/*\r\nfunction json2message(json) {\r\n  if (json == null) {\r\n    return null\r\n  }\r\n  if (json instanceof ArrayBuffer) {\r\n    return {\r\n      t: 'ArrayBuffer',\r\n      v: Array.prototype.slice.call(new Uint8Array(json))\r\n    }\r\n  }\r\n  if (json instanceof Int8Array) {\r\n    return {\r\n      t: 'Int8Array',\r\n      v: Array.prototype.slice.call(json)\r\n    }\r\n  }\r\n  if (json instanceof Uint8Array) {\r\n    return {\r\n      t: 'Uint8Array',\r\n      v: Array.prototype.slice.call(json)\r\n    }\r\n  }\r\n  if (json instanceof Uint8ClampedArray) {\r\n    return {\r\n      t: 'Uint8ClampedArray',\r\n      v: Array.prototype.slice.call(json)\r\n    }\r\n  }\r\n  if (json instanceof Int16Array) {\r\n    return {\r\n      t: 'Int16Array',\r\n      v: Array.prototype.slice.call(json)\r\n    }\r\n  }\r\n  if (json instanceof Uint16Array) {\r\n    return {\r\n      t: 'Uint16Array',\r\n      v: Array.prototype.slice.call(json)\r\n    }\r\n  }\r\n  if (json instanceof Int32Array) {\r\n    return {\r\n      t: 'Int32Array',\r\n      v: Array.prototype.slice.call(json)\r\n    }\r\n  }\r\n  if (json instanceof Uint32Array) {\r\n    return {\r\n      t: 'Uint32Array',\r\n      v: Array.prototype.slice.call(json)\r\n    }\r\n  }\r\n  if (json instanceof Uint32Array) {\r\n    return {\r\n      t: 'Uint32Array',\r\n      v: Array.prototype.slice.call(json)\r\n    }\r\n  }\r\n  if (json instanceof Float32Array) {\r\n    return {\r\n      t: 'Float32Array',\r\n      v: Array.prototype.slice.call(json)\r\n    }\r\n  }\r\n  if (json instanceof Float64Array) {\r\n    return {\r\n      t: 'Float64Array',\r\n      v: Array.prototype.slice.call(json)\r\n    }\r\n  }\r\n  if (json instanceof Array) {\r\n    return {\r\n      t: 'Array',\r\n      v: json.map(item => json2message(item))\r\n    }\r\n  }\r\n  if (typeof json === 'boolean') {\r\n    return {\r\n      t: 'Boolean',\r\n      v: json\r\n    }\r\n  }\r\n  if (typeof json === 'number') {\r\n    return {\r\n      t: 'Number',\r\n      v: json\r\n    }\r\n  }\r\n  if (typeof json === 'string') {\r\n    return {\r\n      t: 'String',\r\n      v: json\r\n    }\r\n  }\r\n  const dict = {}\r\n  for (const key of Object.keys(json)) {\r\n    dict[key] = json2message(json[key])\r\n  }\r\n  return {\r\n    t: 'Dict',\r\n    v: dict\r\n  }\r\n}\r\n\r\nfunction message2json(message) {\r\n  if (message == null) {\r\n    return null\r\n  }\r\n  const value = message.v\r\n  switch (message.t) {\r\n    case 'ArrayBuffer':\r\n      return new Uint8Array(value).buffer\r\n    case 'Int8Array':\r\n      return new Int8Array(value)\r\n    case 'Uint8Array':\r\n      return new Uint8Array(value)\r\n    case 'Uint8ClampedArray':\r\n      return new Uint8ClampedArray(value)\r\n    case 'Int16Array':\r\n      return new Int16Array(value)\r\n    case 'Uint16Array':\r\n      return new Uint16Array(value)\r\n    case 'Int32Array':\r\n      return new Int32Array(value)\r\n    case 'Uint32Array':\r\n      return new Uint32Array(value)\r\n    case 'Float32Array':\r\n      return new Float32Array(value)\r\n    case 'Float64Array':\r\n      return new Float64Array(value)\r\n\r\n    case 'Array':\r\n      return value.map(item => message2json(item))\r\n    case 'Boolean':\r\n    case 'String':\r\n    case 'Number':\r\n      return value\r\n    case 'Dict':\r\n      const dict = {}\r\n      for (const key of Object.keys(value)) {\r\n        dict[key] = message2json(value[key])\r\n      }\r\n      return dict\r\n    default:\r\n      throw new Error(message.t)\r\n  }\r\n}\r\n*/\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Worker extends EventTarget {\r\n  static self_onmessage(msg) {\r\n    return { data: message2json(msg) };\r\n  }\r\n\r\n  static self_postMessage(json) {\r\n    return worker.postMessage(json2message(json));\r\n  }\r\n  // /////////////////\r\n  constructor(url) {\r\n    super();\r\n\t\tconst onekit_debug = Page.getApp().onekit_debug\r\n    if (onekit_debug) {\r\n      console[onekit_debug](\"[Worker]\", url);\r\n    }\r\n    const createNewWorker = () => {\r\n      const worker = wx.createWorker(\"workers/\" + url, {\r\n        useExperimentalWorker: true,\r\n      });\r\n      worker.onMessage((msg) => {\r\n        if (this.onmessage) {\r\n          this.onmessage({\r\n            data: message2json(msg),\r\n          });\r\n        }\r\n        if (this._all_event_handlers.message) {\r\n          this._all_event_handlers.message.forEach((handler) => {\r\n            handler.apply(this);\r\n          });\r\n        }\r\n      });\r\n      //  worker \r\n      worker.onProcessKilled(() => {\r\n        // worker\r\n        createNewWorker();\r\n      });\r\n      this._worker = worker;\r\n    };\r\n    createNewWorker();\r\n  }\r\n\r\n  postMessage(json) {\r\n    const message = json2message(json);\r\n    // console.error(message)\r\n    this._worker.postMessage(message);\r\n  }\r\n\r\n  terminate() {\r\n    this._worker.terminate();\r\n  }\r\n};exports.default = Worker\r\n","class Gain {\r\n    constructor(wx_gain) {\r\n        this.wx_gain = wx_gain\r\n    }\r\n    connect() {\r\n\r\n    }\r\n}\r\nclass BufferSource {\r\n    constructor(wx_source) {\r\n        this.wx_source = wx_source\r\n    }\r\n    get playbackRate(){\r\n        return this.wx_source.playbackRate\r\n    }\r\n    set buffer(buffer){\r\n        this.wx_source.buffer = buffer\r\n    }\r\n    set loop(loop){\r\n        this.wx_source.loop = loop\r\n    }\r\n    set loopStart(loopStart){\r\n        this.wx_source.loopStart = loopStart\r\n    }\r\n    set loopEnd(loopEnd){\r\n        this.wx_source.loopEnd = loopEnd\r\n    }\r\n    set onended(onended){\r\n        this.wx_source.onended = onended\r\n    }\r\n    start(when, offset, duration){\r\n        this.wx_source.start(  when, offset, duration)\r\n    }\r\n    stop(){\r\n        this.wx_source.stop( )\r\n    }\r\n    connect(data){\r\n        this.wx_source.connect( data)\r\n    }\r\n}\r\nclass Panner {\r\n    constructor(wx_panner) {\r\n        this.wx_panner = wx_panner\r\n    }\r\n    set panningModel(panningModel) {\r\n        this.wx_panner.panningModel = panningModel\r\n    }\r\n    connect(gain) {\r\n      //  this.wx_panner.connct(gain.wx_gain)\r\n    }\r\n}\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class AudioContext {\r\n    constructor() {\r\n        this.wx_context = wx.createWebAudioContext()\r\n    }\r\n    createBufferSource() {\r\n        return new BufferSource(this.wx_context.createBufferSource())\r\n    }\r\n    createPanner() {\r\n        return new Panner(this.wx_context.createPanner())\r\n    }\r\n    get currentTime() {\r\n        return this.wx_context.currentTime\r\n    }\r\n    get destination() {\r\n        return this.wx_context.destination\r\n    }\r\n    createGain() {\r\n        return new Gain(this.wx_context.createGain())\r\n    }\r\n    createMediaElementSource(mediaElement) {\r\n\r\n    }\r\n    createMediaStreamSource(mediaStream) {\r\n\r\n    }\r\n    decodeAudioData(arrayBuffer, successCallback, errorCallback) {\r\n        this.wx_context.decodeAudioData(arrayBuffer, buffer => {\r\n            successCallback(buffer)\r\n        }, err => {\r\n            errorCallback(err)\r\n        })\r\n    }\r\n};exports.default = AudioContext","\r\n/* eslint-disable class-methods-use-this */\r\nvar __TEMP__ = require('./core/String');var String = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\r\nfunction fix(value){\r\n    if(value.endsWith(\"px\")){\r\n        value = value.substring(0,value.length-2)\r\n    }\r\n    return value\r\n}\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Style {\r\n\tconstructor(element) {\r\n\t\t//this.element = element;\r\n\t\tthis.styles = {};\r\n\t\tthis.value = \"\";\r\n\t}\r\n\tset cssText(cssText) {\r\n\t\tthis._cssText = cssText;\r\n\t}\r\n\r\n\tget cssText() {\r\n\t\treturn this._cssText;\r\n\t}\r\n\r\n\tsetProperty() {}\r\n\trun(key, value) {\r\n\t\treturn\r\n        if(!this.element){\r\n            return\r\n        }\r\n\t\tif(!this.element.wx_key){\r\n\t\t\treturn\r\n\t\t}\r\n\t\t/*\r\n\t\tfunction dict2string(dict) {\r\n\t\t  var string = \"\";\r\n\t\t  for (const key of Object.keys(dict)) {\r\n\t\t    string += `${String.fromHump(key)}:${dict[key]};`;\r\n\t\t  }\r\n\t\t  return string;\r\n\t\t}\r\n\t\tconst data = {};\r\n\t\tdata[`${this.element.wx_key}_style`] = dict2string(this.styles);*/\r\n\r\n\t\tconst data = {};\r\n\t\tthis.value += `${String.fromHump(key)}:${value};`;\r\n\t\tdata[`${this.element.wx_key}_style`] = this.value\r\n\t\t//\r\n\t\tif (!this.page) {\r\n\t\t\tconst pages = page.getCurrentPages();\r\n\t\t\tthis.page = pages[pages.length - 1];\r\n\t\t}\r\n\t\tif(!this.page){\r\n\t\t\treturn\r\n\t\t}\r\n\t\t//this.page.setData(data);\r\n\t}\r\n\tset display(value) {\r\n\t\t//this.styles.display = value;\r\n\t\tthis.run(\"display\", value);\r\n\t}\r\n\tset pointerEvents(value) {\r\n\t\t//this.styles.pointerEvents = value;\r\n\t\tthis.run(\"pointerEvents\", value);\r\n\t}\r\n\r\n\tset margin(value) {\r\n\t\t//this.styles.margin = value;\r\n\t\tthis.run(\"margin\", value);\r\n\t}\r\n\tset marginBottom(value) {\r\n\t\t//this.styles.marginBottom = value;\r\n\t\tthis.run(\"marginBottom\", value);\r\n\t}\r\n\tset marginTop(value) {\r\n\t\t//this.styles.marginTop = value;\r\n\t\tthis.run(\"marginTop\", value);\r\n\t}\r\n\tset marginLeft(value) {\r\n\t\t//this.styles.marginLeft = value;\r\n\t\tthis.run(\"marginLeft\", value);\r\n\t}\r\n\tset marginRight(value) {\r\n\t\t//this.styles.marginRight = value;\r\n\t\tthis.run(\"marginRight\", value);\r\n\t}\r\n\r\n\tset padding(value) {\r\n\t\t//this.styles.padding = value;\r\n\t\tthis.run(\"padding\", value);\r\n\t}\r\n\tset paddingBottom(value) {\r\n\t\t//this.styles.paddingBottom = value;\r\n\t\tthis.run(\"paddingBottom\", value);\r\n\t}\r\n\tset paddingTop(value) {\r\n\t\t//this.styles.paddingTop = value;\r\n\t\tthis.run(\"paddingTop\", value);\r\n\t}\r\n\tset paddingLeft(value) {\r\n\t\t//this.styles.paddingLeft = value;\r\n\t\tthis.run(\"paddingLeft\", value);\r\n\t}\r\n\tset paddingRight(value) {\r\n\t\t//this.styles.paddingRight = value;\r\n\t\tthis.run(\"paddingRight\", value);\r\n\t}\r\n\r\n\tset position(value) {\r\n\t\t//this.styles.position = value;\r\n\t\tthis.run(\"position\", value);\r\n\t}\r\n\tset backfaceVisibility(value) {\r\n\t\t//this.styles.backfaceVisibility = value;\r\n\t\tthis.run(\"backfaceVisibility\", value);\r\n\t}\r\n\tset transformStyle(value) {\r\n\t\t//this.styles.transformStyle = value;\r\n\t\tthis.run(\"transformStyle\", value);\r\n\t}\r\n\tset fontFamily(value) {\r\n\t\t//this.styles.fontFamily = value;\r\n\t\tthis.run(\"fontFamily\", value);\r\n\t}\r\n\tset fontSize(value) {\r\n\t\t//this.styles.fontSize = value;\r\n\t\tthis.run(\"fontSize\", value);\r\n\t}\r\n\tset fontStyle(value) {\r\n\t\t//this.styles.fontStyle = value;\r\n\t\tthis.run(\"fontStyle\", value);\r\n\t}\r\n\tset fontWeight(value) {\r\n\t\t//this.styles.fontWeight = value;\r\n\t\tthis.run(\"fontWeight\", value);\r\n\t}\r\n\tset letterSpacing(value) {\r\n\t\t//this.styles.letterSpacing = value;\r\n\t\tthis.run(\"letterSpacing\", value);\r\n\t}\r\n\tset color(value) {\r\n\t\t//this.styles.color = value;\r\n\t\tthis.run(\"color\", value);\r\n\t}\r\n\tset background(value) {\r\n\t\t//this.styles.background = value;\r\n\t\tthis.run(\"background\", value);\r\n\t}\r\n\tset backgroundColor(value) {\r\n\t\t//this.styles.backgroundColor = value;\r\n\t\tthis.run(\"backgroundColor\", value);\r\n\t}\r\n\tset touchAction(value) {\r\n\t\t//this.styles.touchAction = value;\r\n\t\tthis.run(\"touchAction\", value);\r\n\t}\r\n\tset visibility(value) {\r\n\t\t//this.styles.visibility = value;\r\n\t\tthis.run(\"visibility\", value);\r\n\t}\r\n\tset zoom(value) {\r\n\t\t//this.styles.zoom = value;\r\n\t\tthis.run(\"zoom\", value);\r\n\t}\r\n\tset userSelect(value) {\r\n\t\t//this.styles.userSelect = value;\r\n\t\tthis.run(\"userSelect\", value);\r\n\t}\r\n\tset overflow(value) {\r\n\t\t//this.styles.overflow = value;\r\n\t\tthis.run(\"overflow\", value);\r\n\t}\r\n\r\n\tset width(value0) {\r\n\t\tthis.run(\"width\", value0);\r\n\t}\r\n\tset height(value0) {\r\n\t\tthis.run(\"height\", value0);\r\n\t}\r\n\tset left(value0) {\r\n\t\tthis.run(\"left\", value0);\r\n\t}\r\n\tset right(value0) {\r\n\t\tthis.run(\"right\", value0);\r\n\t}\r\n\tset top(value0) {\r\n\t\tthis.run(\"top\", value0);\r\n\t}\r\n\tset bottom(value0) {\r\n\t\tthis.run(\"bottom\", value0);\r\n    }\r\n\r\n\r\n\tset opacity(value) {\r\n\t\t//this.styles.opacity = value;\r\n\t\tthis.run(\"opacity\", value);\r\n\t}\r\n\tset transform(value) {\r\n\t\t//this.styles.transform = value;\r\n\t\tthis.run(\"transform\", value);\r\n\t}\r\n\tset transformOrigin(value) {\r\n\t\t//this.styles.transformOrigin = value;\r\n\t\tthis.run(\"transformOrigin\", value);\r\n\t}\r\n};exports.default = Style\r\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class String {\r\n  static fromHump(s) {\r\n    return s.replace(/([A-Z])/g, \"-$1\").toLowerCase();\r\n  }\r\n  static toHump(name) {\r\n    return name.replace(/\\-(\\w)/g, function (all, letter) {\r\n      console.log(all); //\"_T\"\r\n      console.log(letter); //\"T\"\r\n      return letter.toUpperCase();\r\n    });\r\n  }\r\n};exports.default = String\r\n","/* eslint-disable no-useless-constructor */\r\n/* eslint-disable class-methods-use-this */\r\nvar __TEMP__ = require('./Node');var Node = __REQUIRE_DEFAULT__(__TEMP__);\r\n\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Element extends Node {\r\n  constructor() {\r\n    super()\r\n  }\r\n};exports.default = Element\r\n","/* eslint-disable no-useless-constructor */\r\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\r\n\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Node extends EventTarget {\r\n  constructor() {\r\n    super()\r\n  }\r\n};exports.default = Node\r\n","/* eslint-disable class-methods-use-this */\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class ClassCollection {\r\n  constructor(element){\r\n  //  this.element = element\r\n    this.classes = []\r\n  }\r\n  add(className) {\r\n   // this.element.wx_key = className\r\n  }\r\n\r\n  remove() {\r\n\r\n  }\r\n\r\n  toggle() {\r\n\r\n  }\r\n};exports.default = ClassCollection\r\n","var __TEMP__ = require('./Response');var Response = __REQUIRE_DEFAULT__(__TEMP__);\r\n\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function fetch(request) {\r\n  return new Promise((resolve) => {\r\n    resolve(new Response(null, {status: 200}, request))\r\n  })\r\n};exports.default = fetch\r\n","/* eslint-disable handle-callback-err */\r\n/* eslint-disable no-console */\r\nvar __TEMP__ = require('./core/Base64');var Base64 = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Response {\r\n  constructor(body, options = {}, request) {\r\n    if (!request) {\r\n      this.body = body\r\n      this.status = options.status\r\n      this.statusText = options.statusText\r\n      this.headers = options.headers\r\n    }\r\n    this.status = 200\r\n    this.request = request\r\n  }\r\n\r\n  _run(responseType, dataType = 'text') {\r\n\t\tconst onekit_debug = Page.getApp().onekit_debug\r\n    if(onekit_debug){\r\n      console[onekit_debug]('[fetch]', this.request.url, responseType, dataType)\r\n    }\r\n    if (this.request.url.endsWith('.js')) {\r\n      return new Promise((resolve) => {\r\n        resolve(this.request.url)\r\n      })\r\n    }\r\n    if (this.request.url.startsWith('data:')) {\r\n      return new Promise((resolve) => {\r\n        console.error(\"[fetch] base64 ??????????????????\")\r\n        const BASE64 = 'base64,'\r\n        const url = this.request.url.substring(this.request.url.indexOf(BASE64) + BASE64.length)\r\n        resolve(Base64.base64ToArrayBuffer(url))\r\n      })\r\n    }\r\n    // /////////////////////////\r\n    return new Promise((resolve,reject) => {\r\n      wx.request({\r\n        url: this.request.url,\r\n        headers: ((this.request.options || {}).headers || {}).data || {},\r\n        responseType,\r\n        dataType,\r\n        success(res) {\r\n          resolve(res.data)\r\n        },\r\n        fail: (e) => {\r\n          console.error('[fetch.fail]', this.request.url,e)\r\n          // eslint-disable-next-line prefer-promise-reject-errors\r\n           reject(null)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  arrayBuffer() {\r\n    return this._run('arraybuffer')\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  blob() {\r\n    throw new Error('[fetch]blob')\r\n  }\r\n\r\n  text() {\r\n    return this._run('text')\r\n  }\r\n\r\n  json() {\r\n    return this._run('text', 'json')\r\n  }\r\n};exports.default = Response\r\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Headers {\r\n  constructor(data) {\r\n    this.data = data\r\n  }\r\n};exports.default = Headers\r\n","class Navigator {\r\n  constructor() {\r\n    const systemInfo = wx.getSystemInfoSync()\r\n    this.userAgent = \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36\";\r\n    this.platform = systemInfo.platform;\r\n    this.mediaDevices = {\r\n      getUserMedia() {\r\n        return new Promise((resolve) => {\r\n          resolve();\r\n        });\r\n      },\r\n    };\r\n  }\r\n}\r\n\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = new Navigator();\r\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Request {\r\n  constructor(url, options = {}) {\r\n    this.url = url\r\n    this.options = options\r\n  }\r\n};exports.default = Request\r\n","module.exports = {\r\n  compile: WXWebAssembly.compile,\r\n\r\n  compileStreaming: WXWebAssembly.compileStreaming,\r\n\r\n  instantiate: WXWebAssembly.instantiate,\r\n\r\n  instantiateStreaming: WXWebAssembly.compileStreaming,\r\n\r\n  validate: WXWebAssembly.validate || function() { return true },\r\n\r\n  Module: WXWebAssembly.Module,\r\n\r\n  Global: WXWebAssembly.Global,\r\n\r\n  Instance: WXWebAssembly.Instance,\r\n\r\n  Memory: WXWebAssembly.Memory,\r\n\r\n  Table: WXWebAssembly.Table,\r\n\r\n  Tag: WXWebAssembly.Tag,\r\n\r\n  CompileError: Error,\r\n\r\n  LinkError: Error,\r\n\r\n  RuntimeError: Error,\r\n\r\n  Exception: Error\r\n}\r\n","/* eslint-disable camelcase */\r\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\r\n\r\nfunction run(cb, wx_object) {\r\n  return new Promise((resolve, reject) => {\r\n    wx_object.success = resolve;\r\n    wx_object.fail = reject;\r\n    cb(wx.request(wx_object));\r\n  });\r\n}\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class XMLHttpRequest extends EventTarget {\r\n  constructor() {\r\n    super();\r\n    this._responseType = \"text\";\r\n  }\r\n\r\n  open(method, url, async = true, user, password) {\r\n    this._method = method;\r\n    this._url = url;\r\n    this._async = async;\r\n    this._user = user;\r\n    this._password = password;\r\n  }\r\n\r\n  async send(body) {\r\n    const callback = (res) => {\r\n      this._response = res.data;\r\n      if (this._responseType === \"text\") {\r\n        this._responseText = this._response;\r\n      }\r\n      if (this.onload) {\r\n        this.onload.apply(this);\r\n      }\r\n      if (this._all_event_handlers.load) {\r\n        this._all_event_handlers.load.forEach((handler) => {\r\n          handler.apply(this);\r\n        });\r\n      }\r\n    };\r\n    const wx_object = {\r\n      url: this._url,\r\n      dataType: \"text\",\r\n      responseType: this._responseType,\r\n      method: this._method,\r\n      data: body,\r\n    };\r\n    if (this._async) {\r\n      wx_object.success = (res) => {\r\n        callback.call(this, res);\r\n      };\r\n      wx_object.fail = console.error\r\n      this._task = wx.request(wx_object);\r\n    } else {\r\n      try {\r\n        const res = await run((task) => {\r\n          this._task = task;\r\n        }, wx_object);\r\n        callback.call(this, res);\r\n      } catch (ex) {\r\n        console.error(ex);\r\n      }\r\n    }\r\n  }\r\n\r\n  set responseType(responseType) {\r\n    this._responseType = responseType;\r\n  }\r\n\r\n  get responseType() {\r\n    return this._responseType;\r\n  }\r\n\r\n  get status() {\r\n    return this.response.status;\r\n  }\r\n\r\n  get response() {\r\n    return this._response;\r\n  }\r\n\r\n  get responseText() {\r\n    return this._responseText;\r\n  }\r\n\r\n  set onload(onload) {\r\n    this._onload = onload;\r\n  }\r\n\r\n  get onload() {\r\n    return this._onload;\r\n  }\r\n\r\n  set onerror(onerror) {\r\n    this._onerror = onerror;\r\n  }\r\n\r\n  get onerror() {\r\n    return this._onerror;\r\n  }\r\n};exports.default = XMLHttpRequest\r\n","/* eslint-disable */\nfunction DOMParser(options) {\n  this.options = options || {locator: {}}\n}\n\nDOMParser.prototype.parseFromString = function(source, mimeType) {\n  const options = this.options\n  const sax = new XMLReader()\n  const domBuilder = options.domBuilder || new DOMHandler()// contentHandler and LexicalHandler\n  const errorHandler = options.errorHandler\n  const locator = options.locator\n  const defaultNSMap = options.xmlns || {}\n  const isHTML = /\\/x?html?$/.test(mimeType)// mimeType.toLowerCase().indexOf('html') > -1;\n  \tconst entityMap = isHTML ? htmlEntity.entityMap : {\n    lt: '<', gt: '>', amp: '&', quot: '\"', apos: \"'\"\n  }\n  if (locator) {\n    domBuilder.setDocumentLocator(locator)\n  }\n\n  sax.errorHandler = buildErrorHandler(errorHandler, domBuilder, locator)\n  sax.domBuilder = options.domBuilder || domBuilder\n  if (isHTML) {\n    defaultNSMap[''] = 'http://www.w3.org/1999/xhtml'\n  }\n  defaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace'\n  if (source) {\n    sax.parse(source, defaultNSMap, entityMap)\n  } else {\n    sax.errorHandler.error('invalid doc source')\n  }\n  return domBuilder.doc\n}\nfunction buildErrorHandler(errorImpl, domBuilder, locator) {\n  if (!errorImpl) {\n    if (domBuilder instanceof DOMHandler) {\n      return domBuilder\n    }\n    errorImpl = domBuilder\n  }\n  const errorHandler = {}\n  const isCallback = errorImpl instanceof Function\n  locator = locator || {}\n  function build(key) {\n    let fn = errorImpl[key]\n    if (!fn && isCallback) {\n      fn = errorImpl.length == 2 ? function(msg) { errorImpl(key, msg) } : errorImpl\n    }\n    errorHandler[key] = fn && function(msg) {\n      fn('[xmldom ' + key + ']\\t' + msg + _locator(locator))\n    } || function() {}\n  }\n  build('warning')\n  build('error')\n  build('fatalError')\n  return errorHandler\n}\n\n// console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n  this.cdata = false\n}\nfunction position(locator, node) {\n  node.lineNumber = locator.lineNumber\n  node.columnNumber = locator.columnNumber\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n  startDocument() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null)\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId\n    \t}\n  },\n  startElement(namespaceURI, localName, qName, attrs) {\n    const doc = this.doc\n\t    const el = doc.createElementNS(namespaceURI, qName || localName)\n\t    const len = attrs.length\n\t    appendElement(this, el)\n\t    this.currentElement = el\n\n    this.locator && position(this.locator, el)\n\t    for (let i = 0; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i)\n\t        const value = attrs.getValue(i)\n\t        var qName = attrs.getQName(i)\n      const attr = doc.createAttributeNS(namespaceURI, qName)\n      this.locator && position(attrs.getLocator(i), attr)\n      attr.value = attr.nodeValue = value\n      el.setAttributeNode(attr)\n\t    }\n  },\n  endElement(namespaceURI, localName, qName) {\n    const current = this.currentElement\n    const tagName = current.tagName\n    this.currentElement = current.parentNode\n  },\n  startPrefixMapping(prefix, uri) {\n  },\n  endPrefixMapping(prefix) {\n  },\n  processingInstruction(target, data) {\n\t    const ins = this.doc.createProcessingInstruction(target, data)\n\t    this.locator && position(this.locator, ins)\n\t    appendElement(this, ins)\n  },\n  ignorableWhitespace(ch, start, length) {\n  },\n  characters(chars, start, length) {\n    chars = _toString.apply(this, arguments)\n    // console.log(chars)\n    if (chars) {\n      if (this.cdata) {\n        var charNode = this.doc.createCDATASection(chars)\n      } else {\n        var charNode = this.doc.createTextNode(chars)\n      }\n      if (this.currentElement) {\n        this.currentElement.appendChild(charNode)\n      } else if (/^\\s*$/.test(chars)) {\n        this.doc.appendChild(charNode)\n        // process xml\n      }\n      this.locator && position(this.locator, charNode)\n    }\n  },\n  skippedEntity(name) {\n  },\n  endDocument() {\n    this.doc.normalize()\n  },\n  setDocumentLocator (locator) {\n\t    if (this.locator = locator) { // && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0\n\t    }\n  },\n  // LexicalHandler\n  comment(chars, start, length) {\n    chars = _toString.apply(this, arguments)\n\t    const comm = this.doc.createComment(chars)\n\t    this.locator && position(this.locator, comm)\n\t    appendElement(this, comm)\n  },\n\n  startCDATA() {\n\t    // used in characters() methods\n\t    this.cdata = true\n  },\n  endCDATA() {\n\t    this.cdata = false\n  },\n\n  startDTD(name, publicId, systemId) {\n    const impl = this.doc.implementation\n\t    if (impl && impl.createDocumentType) {\n\t        const dt = impl.createDocumentType(name, publicId, systemId)\n\t        this.locator && position(this.locator, dt)\n\t        appendElement(this, dt)\n\t    }\n  },\n  /**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n  warning(error) {\n    console.warn('[xmldom warning]\\t' + error, _locator(this.locator))\n  },\n  error(error) {\n    console.error('[xmldom error]\\t' + error, _locator(this.locator))\n  },\n  fatalError(error) {\n    console.error('[xmldom fatalError]\\t' + error, _locator(this.locator))\n\t    throw error\n  }\n}\nfunction _locator(l) {\n  if (l) {\n    return '\\n@' + (l.systemId || '') + '#[line:' + l.lineNumber + ',col:' + l.columnNumber + ']'\n  }\n}\nfunction _toString(chars, start, length) {\n  if (typeof chars === 'string') {\n    return chars.substr(start, length)\n  } else { // java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n    if (chars.length >= start + length || start) {\n      return new java.lang.String(chars, start, length) + ''\n    }\n    return chars\n  }\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n'endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl'.replace(/\\w+/g, function(key) {\n  DOMHandler.prototype[key] = function() { return null }\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander, node) {\n  if (!hander.currentElement) {\n    hander.doc.appendChild(node)\n  } else {\n    hander.currentElement.appendChild(node)\n  }\n}// appendChild and setAttributeNS are preformance key\n\n// if(typeof require == 'function'){\nvar htmlEntity = require('./entities')\nvar XMLReader = require('./sax').XMLReader\nvar DOMImplementation = exports.DOMImplementation = require('./dom').DOMImplementation\nexports.XMLSerializer = require('./dom').XMLSerializer\n\nexports.DOMParser = DOMParser\n// }\n","exports.entityMap = {\n  lt: '<',\n  gt: '>',\n  amp: '&',\n  quot: '\"',\n  apos: \"'\",\n  Agrave: '',\n  Aacute: '',\n  Acirc: '',\n  Atilde: '',\n  Auml: '',\n  Aring: '',\n  AElig: '',\n  Ccedil: '',\n  Egrave: '',\n  Eacute: '',\n  Ecirc: '',\n  Euml: '',\n  Igrave: '',\n  Iacute: '',\n  Icirc: '',\n  Iuml: '',\n  ETH: '',\n  Ntilde: '',\n  Ograve: '',\n  Oacute: '',\n  Ocirc: '',\n  Otilde: '',\n  Ouml: '',\n  Oslash: '',\n  Ugrave: '',\n  Uacute: '',\n  Ucirc: '',\n  Uuml: '',\n  Yacute: '',\n  THORN: '',\n  szlig: '',\n  agrave: '',\n  aacute: '',\n  acirc: '',\n  atilde: '',\n  auml: '',\n  aring: '',\n  aelig: '',\n  ccedil: '',\n  egrave: '',\n  eacute: '',\n  ecirc: '',\n  euml: '',\n  igrave: '',\n  iacute: '',\n  icirc: '',\n  iuml: '',\n  eth: '',\n  ntilde: '',\n  ograve: '',\n  oacute: '',\n  ocirc: '',\n  otilde: '',\n  ouml: '',\n  oslash: '',\n  ugrave: '',\n  uacute: '',\n  ucirc: '',\n  uuml: '',\n  yacute: '',\n  thorn: '',\n  yuml: '',\n  nbsp: ' ',\n  iexcl: '',\n  cent: '',\n  pound: '',\n  curren: '',\n  yen: '',\n  brvbar: '',\n  sect: '',\n  uml: '',\n  copy: '',\n  ordf: '',\n  laquo: '',\n  not: '',\n  shy: '',\n  reg: '',\n  macr: '',\n  deg: '',\n  plusmn: '',\n  sup2: '',\n  sup3: '',\n  acute: '',\n  micro: '',\n  para: '',\n  middot: '',\n  cedil: '',\n  sup1: '',\n  ordm: '',\n  raquo: '',\n  frac14: '',\n  frac12: '',\n  frac34: '',\n  iquest: '',\n  times: '',\n  divide: '',\n  forall: '',\n  part: '',\n  exist: '',\n  empty: '',\n  nabla: '',\n  isin: '',\n  notin: '',\n  ni: '',\n  prod: '',\n  sum: '',\n  minus: '',\n  lowast: '',\n  radic: '',\n  prop: '',\n  infin: '',\n  ang: '',\n  and: '',\n  or: '',\n  cap: '',\n  cup: '',\n  int: '',\n  there4: '',\n  sim: '',\n  cong: '',\n  asymp: '',\n  ne: '',\n  equiv: '',\n  le: '',\n  ge: '',\n  sub: '',\n  sup: '',\n  nsub: '',\n  sube: '',\n  supe: '',\n  oplus: '',\n  otimes: '',\n  perp: '',\n  sdot: '',\n  Alpha: '',\n  Beta: '',\n  Gamma: '',\n  Delta: '',\n  Epsilon: '',\n  Zeta: '',\n  Eta: '',\n  Theta: '',\n  Iota: '',\n  Kappa: '',\n  Lambda: '',\n  Mu: '',\n  Nu: '',\n  Xi: '',\n  Omicron: '',\n  Pi: '',\n  Rho: '',\n  Sigma: '',\n  Tau: '',\n  Upsilon: '',\n  Phi: '',\n  Chi: '',\n  Psi: '',\n  Omega: '',\n  alpha: '',\n  beta: '',\n  gamma: '',\n  delta: '',\n  epsilon: '',\n  zeta: '',\n  eta: '',\n  theta: '',\n  iota: '',\n  kappa: '',\n  lambda: '',\n  mu: '',\n  nu: '',\n  xi: '',\n  omicron: '',\n  pi: '',\n  rho: '',\n  sigmaf: '',\n  sigma: '',\n  tau: '',\n  upsilon: '',\n  phi: '',\n  chi: '',\n  psi: '',\n  omega: '',\n  thetasym: '',\n  upsih: '',\n  piv: '',\n  OElig: '',\n  oelig: '',\n  Scaron: '',\n  scaron: '',\n  Yuml: '',\n  fnof: '',\n  circ: '',\n  tilde: '',\n  ensp: '',\n  emsp: '',\n  thinsp: '',\n  zwnj: '',\n  zwj: '',\n  lrm: '',\n  rlm: '',\n  ndash: '',\n  mdash: '',\n  lsquo: '',\n  rsquo: '',\n  sbquo: '',\n  ldquo: '',\n  rdquo: '',\n  bdquo: '',\n  dagger: '',\n  Dagger: '',\n  bull: '',\n  hellip: '',\n  permil: '',\n  prime: '',\n  Prime: '',\n  lsaquo: '',\n  rsaquo: '',\n  oline: '',\n  euro: '',\n  trade: '',\n  larr: '',\n  uarr: '',\n  rarr: '',\n  darr: '',\n  harr: '',\n  crarr: '',\n  lceil: '',\n  rceil: '',\n  lfloor: '',\n  rfloor: '',\n  loz: '',\n  spades: '',\n  clubs: '',\n  hearts: '',\n  diams: ''\n}\n// for(var  n in exports.entityMap){console.log(exports.entityMap[n].charCodeAt())}\n","/* eslint-disable */\n// [4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n// [4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n// [5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nconst nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/// \\u10000-\\uEFFFF\nconst nameChar = new RegExp('[\\\\-\\\\.0-9' + nameStartChar.source.slice(1, -1) + '\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]')\nconst tagNamePattern = new RegExp('^' + nameStartChar.source + nameChar.source + '*(?:\\:' + nameStartChar.source + nameChar.source + '*)?$')\n// var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n// var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n// S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n// S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nconst S_TAG = 0// tag name offerring\nconst S_ATTR = 1// attr name offerring\nconst S_ATTR_SPACE = 2// attr name end and space offer\nconst S_EQ = 3//= space?\nconst S_ATTR_NOQUOT_VALUE = 4// attr value(no quot value only)\nconst S_ATTR_END = 5// attr value end and no space(quot end)\nconst S_TAG_SPACE = 6// (attr value end || tag end ) && (space offer)\nconst S_TAG_CLOSE = 7// closed el<el />\n\nfunction XMLReader() {\n\n}\n\nXMLReader.prototype = {\n  parse(source, defaultNSMap, entityMap) {\n    const domBuilder = this.domBuilder\n    domBuilder.startDocument()\n    _copy(defaultNSMap, defaultNSMap = {})\n    parse(source, defaultNSMap, entityMap,\n      domBuilder, this.errorHandler)\n    domBuilder.endDocument()\n  }\n}\nfunction parse(source, defaultNSMapCopy, entityMap, domBuilder, errorHandler) {\n  function fixedFromCharCode(code) {\n    // String.prototype.fromCharCode does not supports\n    // > 2 bytes unicode chars directly\n    if (code > 0xffff) {\n      code -= 0x10000\n      const surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t const surrogate2 = 0xdc00 + (code & 0x3ff)\n\n      return String.fromCharCode(surrogate1, surrogate2)\n    } else {\n      return String.fromCharCode(code)\n    }\n  }\n  function entityReplacer(a) {\n    const k = a.slice(1, -1)\n    if (k in entityMap) {\n      return entityMap[k]\n    } else if (k.charAt(0) === '#') {\n      return fixedFromCharCode(parseInt(k.substr(1).replace('x', '0x')))\n    } else {\n      errorHandler.error('entity not found:' + a)\n      return a\n    }\n  }\n  function appendText(end) { // has some bugs\n    if (end > start) {\n      const xt = source.substring(start, end).replace(/&#?\\w+;/g, entityReplacer)\n      locator && position(start)\n      domBuilder.characters(xt, 0, end - start)\n      start = end\n    }\n  }\n  function position(p, m) {\n    while (p >= lineEnd && (m = linePattern.exec(source))) {\n      lineStart = m.index\n      lineEnd = lineStart + m[0].length\n      locator.lineNumber++\n      // console.log('line++:',locator,startPos,endPos)\n    }\n    locator.columnNumber = p - lineStart + 1\n  }\n  var lineStart = 0\n  var lineEnd = 0\n  var linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n  var locator = domBuilder.locator\n\n  const parseStack = [{currentNSMap: defaultNSMapCopy}]\n  const closeMap = {}\n  var start = 0\n  while (true) {\n    try {\n      var tagStart = source.indexOf('<', start)\n      if (tagStart < 0) {\n        if (!source.substr(start).match(/^\\s*$/)) {\n          const doc = domBuilder.doc\n\t    \t\t\tconst text = doc.createTextNode(source.substr(start))\n\t    \t\t\tdoc.appendChild(text)\n\t    \t\t\tdomBuilder.currentElement = text\n        }\n        return\n      }\n      if (tagStart > start) {\n        appendText(tagStart)\n      }\n      switch (source.charAt(tagStart + 1)) {\n        case '/':\n          var end = source.indexOf('>', tagStart + 3)\n          var tagName = source.substring(tagStart + 2, end)\n          var config = parseStack.pop()\n          if (end < 0) {\n\t        \t\ttagName = source.substring(tagStart + 2).replace(/[\\s<].*/, '')\n\t        \t\t// console.error('#@@@@@@'+tagName)\n\t        \t\terrorHandler.error('end tag name: ' + tagName + ' is not complete:' + config.tagName)\n\t        \t\tend = tagStart + 1 + tagName.length\n\t        \t} else if (tagName.match(/\\s</)) {\n\t        \t\ttagName = tagName.replace(/[\\s<].*/, '')\n\t        \t\terrorHandler.error('end tag name: ' + tagName + ' maybe not complete')\n\t        \t\tend = tagStart + 1 + tagName.length\n          }\n          // console.error(parseStack.length,parseStack)\n          // console.error(config);\n          var localNSMap = config.localNSMap\n          var endMatch = config.tagName == tagName\n          var endIgnoreCaseMach = endMatch || config.tagName && config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if (endIgnoreCaseMach) {\n\t\t        \tdomBuilder.endElement(config.uri, config.localName, tagName)\n            if (localNSMap) {\n              for (const prefix in localNSMap) {\n                domBuilder.endPrefixMapping(prefix)\n              }\n            }\n            if (!endMatch) {\n\t\t            \terrorHandler.fatalError('end tag name: ' + tagName + ' is not match the current start tagName:' + config.tagName)\n            }\n\t\t        } else {\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n          end++\n          break\n          // end elment\n        case '?':// <?...?>\n          locator && position(tagStart)\n          end = parseInstruction(source, tagStart, domBuilder)\n          break\n        case '!':// <!doctype,<![CDATA,<!--\n          locator && position(tagStart)\n          end = parseDCC(source, tagStart, domBuilder, errorHandler)\n          break\n        default:\n          locator && position(tagStart)\n          var el = new ElementAttributes()\n          var currentNSMap = parseStack[parseStack.length - 1].currentNSMap\n          // elStartEnd\n          var end = parseElementStartPart(source, tagStart, el, currentNSMap, entityReplacer, errorHandler)\n          var len = el.length\n\n\n          if (!el.closed && fixSelfClosed(source, end, el.tagName, closeMap)) {\n            el.closed = true\n            if (!entityMap.nbsp) {\n              errorHandler.warning('unclosed xml attribute')\n            }\n          }\n          if (locator && len) {\n            const locator2 = copyLocator(locator, {})\n            // try{//attribute position fixed\n            for (let i = 0; i < len; i++) {\n              const a = el[i]\n              position(a.offset)\n              a.locator = copyLocator(locator, {})\n            }\n            // }catch(e){console.error('@@@@@'+e)}\n            domBuilder.locator = locator2\n            if (appendElement(el, domBuilder, currentNSMap)) {\n              parseStack.push(el)\n            }\n            domBuilder.locator = locator\n          } else if (appendElement(el, domBuilder, currentNSMap)) {\n            parseStack.push(el)\n          }\n\n\n          if (el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed) {\n            end = parseHtmlSpecialContent(source, end, el.tagName, entityReplacer, domBuilder)\n          } else {\n            end++\n          }\n      }\n    } catch (e) {\n      errorHandler.error('element parse error: ' + e)\n      // errorHandler.error('element parse error: '+e);\n      end = -1\n      // throw e;\n    }\n    if (end > start) {\n      start = end\n    } else {\n      // TODO: sax\n      appendText(Math.max(tagStart, start) + 1)\n    }\n  }\n}\nfunction copyLocator(f, t) {\n  t.lineNumber = f.lineNumber\n  t.columnNumber = f.columnNumber\n  return t\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source, start, el, currentNSMap, entityReplacer, errorHandler) {\n  let attrName\n  var value\n  let p = ++start\n  let s = S_TAG// status\n  while (true) {\n    let c = source.charAt(p)\n    switch (c) {\n      case '=':\n        if (s === S_ATTR) { // attrName\n          attrName = source.slice(start, p)\n          s = S_EQ\n        } else if (s === S_ATTR_SPACE) {\n          s = S_EQ\n        } else {\n          // fatalError: equal must after attrName or space after attrName\n          throw new Error('attribute equal must after attrName')\n        }\n        break\n      case '\\'':\n      case '\"':\n        if (s === S_EQ || s === S_ATTR // || s == S_ATTR_SPACE\n        ) { // equal\n          if (s === S_ATTR) {\n            errorHandler.warning('attribute value must after \"=\"')\n            attrName = source.slice(start, p)\n          }\n          start = p + 1\n          p = source.indexOf(c, start)\n          if (p > 0) {\n            value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer)\n            el.add(attrName, value, start - 1)\n            s = S_ATTR_END\n          } else {\n            // fatalError: no end quot match\n            throw new Error('attribute value no end \\'' + c + '\\' match')\n          }\n        } else if (s == S_ATTR_NOQUOT_VALUE) {\n          value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer)\n          // console.log(attrName,value,start,p)\n          el.add(attrName, value, start)\n          // console.dir(el)\n          errorHandler.warning('attribute \"' + attrName + '\" missed start quot(' + c + ')!!')\n          start = p + 1\n          s = S_ATTR_END\n        } else {\n          // fatalError: no equal before\n          throw new Error('attribute value must after \"=\"')\n        }\n        break\n      case '/':\n        switch (s) {\n          case S_TAG:\n            el.setTagName(source.slice(start, p))\n          case S_ATTR_END:\n          case S_TAG_SPACE:\n          case S_TAG_CLOSE:\n            s = S_TAG_CLOSE\n            el.closed = true\n          case S_ATTR_NOQUOT_VALUE:\n          case S_ATTR:\n          case S_ATTR_SPACE:\n            break\n            // case S_EQ:\n          default:\n            throw new Error(\"attribute invalid close char('/')\")\n        }\n        break\n      case '':// end document\n        // throw new Error('unexpected end of input')\n        errorHandler.error('unexpected end of input')\n        if (s == S_TAG) {\n          el.setTagName(source.slice(start, p))\n        }\n        return p\n      case '>':\n        switch (s) {\n          case S_TAG:\n            el.setTagName(source.slice(start, p))\n          case S_ATTR_END:\n          case S_TAG_SPACE:\n          case S_TAG_CLOSE:\n            break// normal\n          case S_ATTR_NOQUOT_VALUE:// Compatible state\n          case S_ATTR:\n            value = source.slice(start, p)\n            if (value.slice(-1) === '/') {\n              el.closed = true\n              value = value.slice(0, -1)\n            }\n          case S_ATTR_SPACE:\n            if (s === S_ATTR_SPACE) {\n              value = attrName\n            }\n            if (s == S_ATTR_NOQUOT_VALUE) {\n              errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!')\n              el.add(attrName, value.replace(/&#?\\w+;/g, entityReplacer), start)\n            } else {\n              if (currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)) {\n                errorHandler.warning('attribute \"' + value + '\" missed value!! \"' + value + '\" instead!!')\n              }\n              el.add(value, value, start)\n            }\n            break\n          case S_EQ:\n            throw new Error('attribute value missed!!')\n        }\n        //\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n        return p\n        /* xml space '\\x20' | #x9 | #xD | #xA; */\n      case '\\u0080':\n        c = ' '\n      default:\n        if (c <= ' ') { // space\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p))// tagName\n              s = S_TAG_SPACE\n              break\n            case S_ATTR:\n              attrName = source.slice(start, p)\n              s = S_ATTR_SPACE\n              break\n            case S_ATTR_NOQUOT_VALUE:\n              var value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer)\n              errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!')\n              el.add(attrName, value, start)\n            case S_ATTR_END:\n              s = S_TAG_SPACE\n              break\n\t\t\t\t// case S_TAG_SPACE:\n\t\t\t\t// case S_EQ:\n\t\t\t\t// case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t// case S_TAG_CLOSE:\n\t\t\t\t\t// ignore warning\n          }\n        } else { // not space\n          // S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n          // S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n          switch (s) {\n            // case S_TAG:void();break;\n            // case S_ATTR:void();break;\n            // case S_ATTR_NOQUOT_VALUE:void();break;\n            case S_ATTR_SPACE:\n              var tagName = el.tagName\n              if (currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n                errorHandler.warning('attribute \"' + attrName + '\" missed value!! \"' + attrName + '\" instead2!!')\n              }\n              el.add(attrName, attrName, start)\n              start = p\n              s = S_ATTR\n              break\n            case S_ATTR_END:\n              errorHandler.warning('attribute space is required\"' + attrName + '\"!!')\n            case S_TAG_SPACE:\n              s = S_ATTR\n              start = p\n              break\n            case S_EQ:\n              s = S_ATTR_NOQUOT_VALUE\n              start = p\n              break\n            case S_TAG_CLOSE:\n              throw new Error(\"elements closed character '/' and '>' must be connected to\")\n          }\n        }\n    }// end outer switch\n    // console.log('p++',p)\n    p++\n  }\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el, domBuilder, currentNSMap) {\n  const tagName = el.tagName\n  let localNSMap = null\n  // var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n  var i = el.length\n  while (i--) {\n    var a = el[i]\n    const qName = a.qName\n    const value = a.value\n    var nsp = qName.indexOf(':')\n    if (nsp > 0) {\n      var prefix = a.prefix = qName.slice(0, nsp)\n      var localName = qName.slice(nsp + 1)\n      var nsPrefix = prefix === 'xmlns' && localName\n    } else {\n      localName = qName\n      prefix = null\n      nsPrefix = qName === 'xmlns' && ''\n    }\n    // can not set prefix,because prefix !== ''\n    a.localName = localName\n    // prefix == null for no ns prefix attribute\n    if (nsPrefix !== false) { // hack!!\n      if (localNSMap == null) {\n        localNSMap = {}\n        // console.log(currentNSMap,0)\n        _copy(currentNSMap, currentNSMap = {})\n        // console.log(currentNSMap,1)\n      }\n      currentNSMap[nsPrefix] = localNSMap[nsPrefix] = value\n      a.uri = 'http://www.w3.org/2000/xmlns/'\n      domBuilder.startPrefixMapping(nsPrefix, value)\n    }\n  }\n  var i = el.length\n  while (i--) {\n    a = el[i]\n    var prefix = a.prefix\n    if (prefix) { // no prefix attribute has no namespace\n      if (prefix === 'xml') {\n        a.uri = 'http://www.w3.org/XML/1998/namespace'\n      } if (prefix !== 'xmlns') {\n        a.uri = currentNSMap[prefix || '']\n\n        // {console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n      }\n    }\n  }\n  var nsp = tagName.indexOf(':')\n  if (nsp > 0) {\n    prefix = el.prefix = tagName.slice(0, nsp)\n    localName = el.localName = tagName.slice(nsp + 1)\n  } else {\n    prefix = null// important!!\n    localName = el.localName = tagName\n  }\n  // no prefix element has default namespace\n  const ns = el.uri = currentNSMap[prefix || '']\n  domBuilder.startElement(ns, localName, tagName, el)\n  // endPrefixMapping and startPrefixMapping have not any help for dom builder\n  // localNSMap = null\n  if (el.closed) {\n    domBuilder.endElement(ns, localName, tagName)\n    if (localNSMap) {\n      for (prefix in localNSMap) {\n        domBuilder.endPrefixMapping(prefix)\n      }\n    }\n  } else {\n    el.currentNSMap = currentNSMap\n    el.localNSMap = localNSMap\n    // parseStack.push(el);\n    return true\n  }\n}\nfunction parseHtmlSpecialContent(source, elStartEnd, tagName, entityReplacer, domBuilder) {\n  if (/^(?:script|textarea)$/i.test(tagName)) {\n    const elEndStart = source.indexOf('</' + tagName + '>', elStartEnd)\n    let text = source.substring(elStartEnd + 1, elEndStart)\n    if (/[&<]/.test(text)) {\n      if (/^script$/i.test(tagName)) {\n        // if(!/\\]\\]>/.test(text)){\n        // lexHandler.startCDATA();\n        domBuilder.characters(text, 0, text.length)\n        // lexHandler.endCDATA();\n        return elEndStart\n        // }\n      }// }else{//text area\n      text = text.replace(/&#?\\w+;/g, entityReplacer)\n      domBuilder.characters(text, 0, text.length)\n      return elEndStart\n      // }\n    }\n  }\n  return elStartEnd + 1\n}\nfunction fixSelfClosed(source, elStartEnd, tagName, closeMap) {\n  // if(tagName in closeMap){\n  let pos = closeMap[tagName]\n  if (pos == null) {\n    // console.log(tagName)\n    pos = source.lastIndexOf('</' + tagName + '>')\n    if (pos < elStartEnd) { // \n      pos = source.lastIndexOf('</' + tagName)\n    }\n    closeMap[tagName] = pos\n  }\n  return pos < elStartEnd\n  // }\n}\nfunction _copy(source, target) {\n  for (const n in source) { target[n] = source[n] }\n}\nfunction parseDCC(source, start, domBuilder, errorHandler) { // sure start with '<!'\n  const next = source.charAt(start + 2)\n  switch (next) {\n    case '-':\n      if (source.charAt(start + 3) === '-') {\n        var end = source.indexOf('-->', start + 4)\n        // append comment source.substring(4,end)//<!--\n        if (end > start) {\n          domBuilder.comment(source, start + 4, end - start - 4)\n          return end + 3\n        } else {\n          errorHandler.error('Unclosed comment')\n          return -1\n        }\n      } else {\n        // error\n        return -1\n      }\n    default:\n      if (source.substr(start + 3, 6) == 'CDATA[') {\n        var end = source.indexOf(']]>', start + 9)\n        domBuilder.startCDATA()\n        domBuilder.characters(source, start + 9, end - start - 9)\n        domBuilder.endCDATA()\n        return end + 3\n      }\n      // <!DOCTYPE\n      // startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n      var matchs = split(source, start)\n      var len = matchs.length\n      if (len > 1 && /!doctype/i.test(matchs[0][0])) {\n        const name = matchs[1][0]\n        const pubid = len > 3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\n        const sysid = len > 4 && matchs[4][0]\n        const lastMatch = matchs[len - 1]\n        domBuilder.startDTD(name, pubid && pubid.replace(/^(['\"])(.*?)\\1$/, '$2'),\n          sysid && sysid.replace(/^(['\"])(.*?)\\1$/, '$2'))\n        domBuilder.endDTD()\n\n        return lastMatch.index + lastMatch[0].length\n      }\n  }\n  return -1\n}\n\n\nfunction parseInstruction(source, start, domBuilder) {\n  const end = source.indexOf('?>', start)\n  if (end) {\n    const match = source.substring(start, end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/)\n    if (match) {\n      const len = match[0].length\n      domBuilder.processingInstruction(match[1], match[2])\n      return end + 2\n    } else { // error\n      return -1\n    }\n  }\n  return -1\n}\n\n/**\n * @param source\n */\nfunction ElementAttributes(source) {\n\n}\nElementAttributes.prototype = {\n  setTagName(tagName) {\n    if (!tagNamePattern.test(tagName)) {\n      throw new Error('invalid tagName:' + tagName)\n    }\n    this.tagName = tagName\n  },\n  add(qName, value, offset) {\n    if (!tagNamePattern.test(qName)) {\n      throw new Error('invalid attribute:' + qName)\n    }\n    this[this.length++] = {qName, value, offset}\n  },\n  length: 0,\n  getLocalName(i) { return this[i].localName },\n  getLocator(i) { return this[i].locator },\n  getQName(i) { return this[i].qName },\n  getURI(i) { return this[i].uri },\n  getValue(i) { return this[i].value }\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\nfunction split(source, start) {\n  let match\n  const buf = []\n  const reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g\n  reg.lastIndex = start\n  reg.exec(source)// skip <\n  while (match = reg.exec(source)) {\n    buf.push(match)\n    if (match[1]) return buf\n  }\n}\n\nexports.XMLReader = XMLReader\n","/* eslint-disable */\n/*\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n */\nvar __TEMP__ = require('../../CSSStyleDeclaration');var CSSStyleDeclaration = __REQUIRE_DEFAULT__(__TEMP__);\nfunction copy(src, dest) {\n  for (const p in src) {\n    dest[p] = src[p]\n  }\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class, Super) {\n  let pt = Class.prototype\n  if (!(pt instanceof Super)) {\n    function t() { }\n    t.prototype = Super.prototype\n    t = new t()\n    copy(pt, t)\n    Class.prototype = pt = t\n  }\n  if (pt.constructor != Class) {\n    if (typeof Class !== 'function') {\n      console.error('unknow Class:' + Class)\n    }\n    pt.constructor = Class\n  }\n}\nconst htmlns = 'http://www.w3.org/1999/xhtml'\n// Node Types\nconst NodeType = {}\nconst ELEMENT_NODE = NodeType.ELEMENT_NODE = 1\nconst ATTRIBUTE_NODE = NodeType.ATTRIBUTE_NODE = 2\nconst TEXT_NODE = NodeType.TEXT_NODE = 3\nconst CDATA_SECTION_NODE = NodeType.CDATA_SECTION_NODE = 4\nconst ENTITY_REFERENCE_NODE = NodeType.ENTITY_REFERENCE_NODE = 5\nconst ENTITY_NODE = NodeType.ENTITY_NODE = 6\nconst PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7\nconst COMMENT_NODE = NodeType.COMMENT_NODE = 8\nconst DOCUMENT_NODE = NodeType.DOCUMENT_NODE = 9\nconst DOCUMENT_TYPE_NODE = NodeType.DOCUMENT_TYPE_NODE = 10\nconst DOCUMENT_FRAGMENT_NODE = NodeType.DOCUMENT_FRAGMENT_NODE = 11\nconst NOTATION_NODE = NodeType.NOTATION_NODE = 12\n\n// ExceptionCode\nconst ExceptionCode = {}\nconst ExceptionMessage = {}\nconst INDEX_SIZE_ERR = ExceptionCode.INDEX_SIZE_ERR = ((ExceptionMessage[1] = 'Index size error'), 1)\nconst DOMSTRING_SIZE_ERR = ExceptionCode.DOMSTRING_SIZE_ERR = ((ExceptionMessage[2] = 'DOMString size error'), 2)\nconst HIERARCHY_REQUEST_ERR = ExceptionCode.HIERARCHY_REQUEST_ERR = ((ExceptionMessage[3] = 'Hierarchy request error'), 3)\nconst WRONG_DOCUMENT_ERR = ExceptionCode.WRONG_DOCUMENT_ERR = ((ExceptionMessage[4] = 'Wrong document'), 4)\nconst INVALID_CHARACTER_ERR = ExceptionCode.INVALID_CHARACTER_ERR = ((ExceptionMessage[5] = 'Invalid character'), 5)\nconst NO_DATA_ALLOWED_ERR = ExceptionCode.NO_DATA_ALLOWED_ERR = ((ExceptionMessage[6] = 'No data allowed'), 6)\nconst NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7] = 'No modification allowed'), 7)\nconst NOT_FOUND_ERR = ExceptionCode.NOT_FOUND_ERR = ((ExceptionMessage[8] = 'Not found'), 8)\nconst NOT_SUPPORTED_ERR = ExceptionCode.NOT_SUPPORTED_ERR = ((ExceptionMessage[9] = 'Not supported'), 9)\nconst INUSE_ATTRIBUTE_ERR = ExceptionCode.INUSE_ATTRIBUTE_ERR = ((ExceptionMessage[10] = 'Attribute in use'), 10)\n// level2\nconst INVALID_STATE_ERR = ExceptionCode.INVALID_STATE_ERR = ((ExceptionMessage[11] = 'Invalid state'), 11)\nconst SYNTAX_ERR = ExceptionCode.SYNTAX_ERR = ((ExceptionMessage[12] = 'Syntax error'), 12)\nconst INVALID_MODIFICATION_ERR = ExceptionCode.INVALID_MODIFICATION_ERR = ((ExceptionMessage[13] = 'Invalid modification'), 13)\nconst NAMESPACE_ERR = ExceptionCode.NAMESPACE_ERR = ((ExceptionMessage[14] = 'Invalid namespace'), 14)\nconst INVALID_ACCESS_ERR = ExceptionCode.INVALID_ACCESS_ERR = ((ExceptionMessage[15] = 'Invalid access'), 15)\n\n\nfunction DOMException(code, message) {\n  if (message instanceof Error) {\n    var error = message\n  } else {\n    error = this\n    Error.call(this, ExceptionMessage[code])\n    this.message = ExceptionMessage[code]\n    if (Error.captureStackTrace) Error.captureStackTrace(this, DOMException)\n  }\n  error.code = code\n  if (message) this.message = this.message + ': ' + message\n  return error\n}\nDOMException.prototype = Error.prototype\ncopy(ExceptionCode, DOMException)\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n}\nNodeList.prototype = {\n  /**\n   * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n   * @standard level1\n   */\n  length: 0,\n  /**\n   * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n   * @standard level1\n   * @param index  unsigned long\n   *   Index into the collection.\n   * @return Node\n   * \tThe node at the indexth position in the NodeList, or null if that is not a valid index.\n   */\n  item(index) {\n    return this[index] || null\n  },\n  toString(isHTML, nodeFilter) {\n    for (var buf = [], i = 0; i < this.length; i++) {\n      serializeToString(this[i], buf, isHTML, nodeFilter)\n    }\n    return buf.join('')\n  }\n}\nfunction LiveNodeList(node, refresh) {\n  this._node = node\n  this._refresh = refresh\n  _updateLiveList(this)\n}\nfunction _updateLiveList(list) {\n  const inc = list._node._inc || list._node.ownerDocument._inc\n  if (list._inc != inc) {\n    const ls = list._refresh(list._node)\n    // console.log(ls.length)\n    __set__(list, 'length', ls.length)\n    copy(ls, list)\n    list._inc = inc\n  }\n}\nLiveNodeList.prototype.item = function (i) {\n  _updateLiveList(this)\n  return this[i]\n}\n\n_extends(LiveNodeList, NodeList)\n\nfunction NamedNodeMap() {\n}\n\nfunction _findNodeIndex(list, node) {\n  let i = list.length\n  while (i--) {\n    if (list[i] === node) { return i }\n  }\n}\n\nfunction _addNamedNode(el, list, newAttr, oldAttr) {\n  if (oldAttr) {\n    list[_findNodeIndex(list, oldAttr)] = newAttr\n  } else {\n    list[list.length++] = newAttr\n  }\n  if (el) {\n    newAttr.ownerElement = el\n    const doc = el.ownerDocument\n    if (doc) {\n      oldAttr && _onRemoveAttribute(doc, el, oldAttr)\n      _onAddAttribute(doc, el, newAttr)\n    }\n  }\n}\nfunction _removeNamedNode(el, list, attr) {\n  // console.log('remove attr:'+attr)\n  let i = _findNodeIndex(list, attr)\n  if (i >= 0) {\n    const lastIndex = list.length - 1\n    while (i < lastIndex) {\n      list[i] = list[++i]\n    }\n    list.length = lastIndex\n    if (el) {\n      const doc = el.ownerDocument\n      if (doc) {\n        _onRemoveAttribute(doc, el, attr)\n        attr.ownerElement = null\n      }\n    }\n  } else {\n    throw DOMException(NOT_FOUND_ERR, new Error(el.tagName + '@' + attr))\n  }\n}\nNamedNodeMap.prototype = {\n  length: 0,\n  item: NodeList.prototype.item,\n  getNamedItem(key) {\n    //\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n    //\t\t\treturn null;\n    //\t\t}\n    // console.log()\n    let i = this.length\n    while (i--) {\n      const attr = this[i]\n      // console.log(attr.nodeName,key)\n      if (attr.nodeName == key) {\n        return attr\n      }\n    }\n  },\n  setNamedItem(attr) {\n    const el = attr.ownerElement\n    if (el && el != this._ownerElement) {\n      throw new DOMException(INUSE_ATTRIBUTE_ERR)\n    }\n    const oldAttr = this.getNamedItem(attr.nodeName)\n    _addNamedNode(this._ownerElement, this, attr, oldAttr)\n    return oldAttr\n  },\n  /* returns Node */\n  setNamedItemNS(attr) { // raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n    const el = attr.ownerElement; let\n      oldAttr\n    if (el && el != this._ownerElement) {\n      throw new DOMException(INUSE_ATTRIBUTE_ERR)\n    }\n    oldAttr = this.getNamedItemNS(attr.namespaceURI, attr.localName)\n    _addNamedNode(this._ownerElement, this, attr, oldAttr)\n    return oldAttr\n  },\n\n  /* returns Node */\n  removeNamedItem(key) {\n    const attr = this.getNamedItem(key)\n    _removeNamedNode(this._ownerElement, this, attr)\n    return attr\n  }, // raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\n  // for level2\n  removeNamedItemNS(namespaceURI, localName) {\n    const attr = this.getNamedItemNS(namespaceURI, localName)\n    _removeNamedNode(this._ownerElement, this, attr)\n    return attr\n  },\n  getNamedItemNS(namespaceURI, localName) {\n    let i = this.length\n    while (i--) {\n      const node = this[i]\n      if (node.localName == localName && node.namespaceURI == namespaceURI) {\n        return node\n      }\n    }\n    return null\n  }\n}\n/**\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\n */\nfunction DOMImplementation(/* Object */ features) {\n  this._features = {}\n  if (features) {\n    for (const feature in features) {\n      this._features = features[feature]\n    }\n  }\n}\n\nDOMImplementation.prototype = {\n  hasFeature(/* string */ feature, /* string */ version) {\n    const versions = this._features[feature.toLowerCase()]\n    if (versions && (!version || version in versions)) {\n      return true\n    } else {\n      return false\n    }\n  },\n  // Introduced in DOM Level 2:\n  createDocument(namespaceURI, qualifiedName, doctype) { // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n    const doc = new Document()\n    doc.implementation = this\n    doc.childNodes = new NodeList()\n    doc.doctype = doctype\n    if (doctype) {\n      doc.appendChild(doctype)\n    }\n    if (qualifiedName) {\n      const root = doc.createElementNS(namespaceURI, qualifiedName)\n      doc.appendChild(root)\n    }\n    return doc\n  },\n  // Introduced in DOM Level 2:\n  createDocumentType(qualifiedName, publicId, systemId) { // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n    const node = new DocumentType()\n    node.name = qualifiedName\n    node.nodeName = qualifiedName\n    node.publicId = publicId\n    node.systemId = systemId\n    // Introduced in DOM Level 2:\n    // readonly attribute DOMString        internalSubset;\n\n    // TODO:..\n    //  readonly attribute NamedNodeMap     entities;\n    //  readonly attribute NamedNodeMap     notations;\n    return node\n  }\n}\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n}\n\nNode.prototype = {\n  firstChild: null,\n  lastChild: null,\n  previousSibling: null,\n  nextSibling: null,\n  attributes: null,\n  parentNode: null,\n  childNodes: null,\n  ownerDocument: null,\n  nodeValue: null,\n  namespaceURI: null,\n  prefix: null,\n  localName: null,\n  // Modified in DOM Level 2:\n  insertBefore(newChild, refChild) { // raises\n    return _insertBefore(this, newChild, refChild)\n  },\n  replaceChild(newChild, oldChild) { // raises\n    this.insertBefore(newChild, oldChild)\n    if (oldChild) {\n      this.removeChild(oldChild)\n    }\n  },\n  removeChild(oldChild) {\n    return _removeChild(this, oldChild)\n  },\n  appendChild(newChild) {\n    return this.insertBefore(newChild, null)\n  },\n  hasChildNodes() {\n    return this.firstChild != null\n  },\n  cloneNode(deep) {\n    return cloneNode(this.ownerDocument || this, this, deep)\n  },\n  // Modified in DOM Level 2:\n  normalize() {\n    let child = this.firstChild\n    while (child) {\n      const next = child.nextSibling\n      if (next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE) {\n        this.removeChild(next)\n        child.appendData(next.data)\n      } else {\n        child.normalize()\n        child = next\n      }\n    }\n  },\n  // Introduced in DOM Level 2:\n  isSupported(feature, version) {\n    return this.ownerDocument.implementation.hasFeature(feature, version)\n  },\n  // Introduced in DOM Level 2:\n  hasAttributes() {\n    return this.attributes.length > 0\n  },\n  lookupPrefix(namespaceURI) {\n    let el = this\n    while (el) {\n      const map = el._nsMap\n      // console.dir(map)\n      if (map) {\n        for (const n in map) {\n          if (map[n] == namespaceURI) {\n            return n\n          }\n        }\n      }\n      el = el.nodeType == ATTRIBUTE_NODE ? el.ownerDocument : el.parentNode\n    }\n    return null\n  },\n  // Introduced in DOM Level 3:\n  lookupNamespaceURI(prefix) {\n    let el = this\n    while (el) {\n      const map = el._nsMap\n      // console.dir(map)\n      if (map) {\n        if (prefix in map) {\n          return map[prefix]\n        }\n      }\n      el = el.nodeType == ATTRIBUTE_NODE ? el.ownerDocument : el.parentNode\n    }\n    return null\n  },\n  // Introduced in DOM Level 3:\n  isDefaultNamespace(namespaceURI) {\n    const prefix = this.lookupPrefix(namespaceURI)\n    return prefix == null\n  }\n}\n\n\nfunction _xmlEncoder(c) {\n  return c == '<' && '&lt;' ||\n    c == '>' && '&gt;' ||\n    c == '&' && '&amp;' ||\n    c == '\"' && '&quot;' ||\n    '&#' + c.charCodeAt() + ';'\n}\n\n\ncopy(NodeType, Node)\ncopy(NodeType, Node.prototype)\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node, callback) {\n  if (callback(node)) {\n    return true\n  }\n  if (node = node.firstChild) {\n    do {\n      if (_visitNode(node, callback)) { return true }\n    } while (node = node.nextSibling)\n  }\n}\n\n\nfunction Document() {\n}\nfunction _onAddAttribute(doc, el, newAttr) {\n  doc && doc._inc++\n  const ns = newAttr.namespaceURI\n  if (ns == 'http://www.w3.org/2000/xmlns/') {\n    // update namespace\n    el._nsMap[newAttr.prefix ? newAttr.localName : ''] = newAttr.value\n  }\n}\nfunction _onRemoveAttribute(doc, el, newAttr, remove) {\n  doc && doc._inc++\n  const ns = newAttr.namespaceURI\n  if (ns == 'http://www.w3.org/2000/xmlns/') {\n    // update namespace\n    delete el._nsMap[newAttr.prefix ? newAttr.localName : '']\n  }\n}\nfunction _onUpdateChild(doc, el, newChild) {\n  if (doc && doc._inc) {\n    doc._inc++\n    // update childNodes\n    const cs = el.childNodes\n    if (newChild) {\n      cs[cs.length++] = newChild\n    } else {\n      // console.log(1)\n      let child = el.firstChild\n      let i = 0\n      while (child) {\n        cs[i++] = child\n        child = child.nextSibling\n      }\n      cs.length = i\n    }\n  }\n}\n\nfunction _removeChild(parentNode, child) {\n  const previous = child.previousSibling\n  const next = child.nextSibling\n  if (previous) {\n    previous.nextSibling = next\n  } else {\n    parentNode.firstChild = next\n  }\n  if (next) {\n    next.previousSibling = previous\n  } else {\n    parentNode.lastChild = previous\n  }\n  _onUpdateChild(parentNode.ownerDocument, parentNode)\n  return child\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode, newChild, nextChild) {\n  const cp = newChild.parentNode\n  if (cp) {\n    cp.removeChild(newChild)// remove and update\n  }\n  if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n    var newFirst = newChild.firstChild\n    if (newFirst == null) {\n      return newChild\n    }\n    var newLast = newChild.lastChild\n  } else {\n    newFirst = newLast = newChild\n  }\n  const pre = nextChild ? nextChild.previousSibling : parentNode.lastChild\n\n  newFirst.previousSibling = pre\n  newLast.nextSibling = nextChild\n\n\n  if (pre) {\n    pre.nextSibling = newFirst\n  } else {\n    parentNode.firstChild = newFirst\n  }\n  if (nextChild == null) {\n    parentNode.lastChild = newLast\n  } else {\n    nextChild.previousSibling = newLast\n  }\n  do {\n    newFirst.parentNode = parentNode\n  } while (newFirst !== newLast && (newFirst = newFirst.nextSibling))\n  _onUpdateChild(parentNode.ownerDocument || parentNode, parentNode)\n  // console.log(parentNode.lastChild.nextSibling == null)\n  if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n    newChild.firstChild = newChild.lastChild = null\n  }\n  return newChild\n}\nfunction _appendSingleChild(parentNode, newChild) {\n  const cp = newChild.parentNode\n  if (cp) {\n    var pre = parentNode.lastChild\n    cp.removeChild(newChild)// remove and update\n    var pre = parentNode.lastChild\n  }\n  var pre = parentNode.lastChild\n  newChild.parentNode = parentNode\n  newChild.previousSibling = pre\n  newChild.nextSibling = null\n  if (pre) {\n    pre.nextSibling = newChild\n  } else {\n    parentNode.firstChild = newChild\n  }\n  parentNode.lastChild = newChild\n  _onUpdateChild(parentNode.ownerDocument, parentNode, newChild)\n  return newChild\n  // console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\nDocument.prototype = {\n  // implementation : null,\n  nodeName: '#document',\n  nodeType: DOCUMENT_NODE,\n  doctype: null,\n  documentElement: null,\n  _inc: 1,\n\n  insertBefore(newChild, refChild) { // raises\n    if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n      let child = newChild.firstChild\n      while (child) {\n        const next = child.nextSibling\n        this.insertBefore(child, refChild)\n        child = next\n      }\n      return newChild\n    }\n    if (this.documentElement == null && newChild.nodeType == ELEMENT_NODE) {\n      this.documentElement = newChild\n    }\n\n    return _insertBefore(this, newChild, refChild), (newChild.ownerDocument = this), newChild\n  },\n  removeChild(oldChild) {\n    if (this.documentElement == oldChild) {\n      this.documentElement = null\n    }\n    return _removeChild(this, oldChild)\n  },\n  // Introduced in DOM Level 2:\n  importNode(importedNode, deep) {\n    return importNode(this, importedNode, deep)\n  },\n  // Introduced in DOM Level 2:\n  getElementById(id) {\n    let rtv = null\n    _visitNode(this.documentElement, function (node) {\n      if (node.nodeType == ELEMENT_NODE) {\n        if (node.getAttribute('id') == id) {\n          rtv = node\n          return true\n        }\n      }\n    })\n    return rtv\n  },\n\n  // document factory method:\n  createElement(tagName) {\n    const node = new Element()\n    node.ownerDocument = this\n    node.nodeName = tagName\n    node.tagName = tagName\n    node.childNodes = new NodeList()\n    const attrs = node.attributes = new NamedNodeMap()\n    attrs._ownerElement = node\n    return node\n  },\n  createDocumentFragment() {\n    const node = new DocumentFragment()\n    node.ownerDocument = this\n    node.childNodes = new NodeList()\n    return node\n  },\n  createTextNode(data) {\n    const node = new Text()\n    node.ownerDocument = this\n    node.appendData(data)\n    return node\n  },\n  createComment(data) {\n    const node = new Comment()\n    node.ownerDocument = this\n    node.appendData(data)\n    return node\n  },\n  createCDATASection(data) {\n    const node = new CDATASection()\n    node.ownerDocument = this\n    node.appendData(data)\n    return node\n  },\n  createProcessingInstruction(target, data) {\n    const node = new ProcessingInstruction()\n    node.ownerDocument = this\n    node.tagName = node.target = target\n    node.nodeValue = node.data = data\n    return node\n  },\n  createAttribute(name) {\n    const node = new Attr()\n    node.ownerDocument = this\n    node.name = name\n    node.nodeName = name\n    node.localName = name\n    node.specified = true\n    return node\n  },\n  createEntityReference(name) {\n    const node = new EntityReference()\n    node.ownerDocument = this\n    node.nodeName = name\n    return node\n  },\n  // Introduced in DOM Level 2:\n  createElementNS(namespaceURI, qualifiedName) {\n    const node = new Element()\n    const pl = qualifiedName.split(':')\n    const attrs = node.attributes = new NamedNodeMap()\n    node.childNodes = new NodeList()\n    node.ownerDocument = this\n    node.nodeName = qualifiedName\n    node.tagName = qualifiedName\n    node.namespaceURI = namespaceURI\n    if (pl.length == 2) {\n      node.prefix = pl[0]\n      node.localName = pl[1]\n    } else {\n      // el.prefix = null;\n      node.localName = qualifiedName\n    }\n    attrs._ownerElement = node\n    return node\n  },\n  // Introduced in DOM Level 2:\n  createAttributeNS(namespaceURI, qualifiedName) {\n    const node = new Attr()\n    const pl = qualifiedName.split(':')\n    node.ownerDocument = this\n    node.nodeName = qualifiedName\n    node.name = qualifiedName\n    node.namespaceURI = namespaceURI\n    node.specified = true\n    if (pl.length == 2) {\n      node.prefix = pl[0]\n      node.localName = pl[1]\n    } else {\n      // el.prefix = null;\n      node.localName = qualifiedName\n    }\n    return node\n  }\n}\n_extends(Document, Node)\n\n\nfunction Element() {\n  this._nsMap = {}\n}\nElement.prototype = {\n  nodeType: ELEMENT_NODE,\n  hasAttribute(name) {\n    return this.getAttributeNode(name) != null\n  },\n  getAttribute(name) {\n    const attr = this.getAttributeNode(name)\n    return attr && attr.value || ''\n  },\n  getAttributeNode(name) {\n    return this.attributes.getNamedItem(name)\n  },\n  setAttribute(name, value) {\n    const attr = this.ownerDocument.createAttribute(name)\n    attr.value = attr.nodeValue = '' + value\n    this.setAttributeNode(attr)\n  },\n  removeAttribute(name) {\n    const attr = this.getAttributeNode(name)\n    attr && this.removeAttributeNode(attr)\n  },\n\n  // four real opeartion method\n  appendChild(newChild) {\n    if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      return this.insertBefore(newChild, null)\n    } else {\n      return _appendSingleChild(this, newChild)\n    }\n  },\n  setAttributeNode(newAttr) {\n    const value = newAttr.value\n    if(newAttr.name==\"style\"){\n      \n      this.style = CSSStyleDeclaration.parse(value)\n    }\n    this.attributes[newAttr.name] = { value, textContent: value == null ? \"\" : value.toString() }\n    return this.attributes.setNamedItem(newAttr)\n  },\n  setAttributeNodeNS(newAttr) {\n    return this.attributes.setNamedItemNS(newAttr)\n  },\n  removeAttributeNode(oldAttr) {\n    // console.log(this == oldAttr.ownerElement)\n    return this.attributes.removeNamedItem(oldAttr.nodeName)\n  },\n  // get real attribute name,and remove it by removeAttributeNode\n  removeAttributeNS(namespaceURI, localName) {\n    const old = this.getAttributeNodeNS(namespaceURI, localName)\n    old && this.removeAttributeNode(old)\n  },\n\n  hasAttributeNS(namespaceURI, localName) {\n    return this.getAttributeNodeNS(namespaceURI, localName) != null\n  },\n  getAttributeNS(namespaceURI, localName) {\n    const attr = this.getAttributeNodeNS(namespaceURI, localName)\n    return attr && attr.value || ''\n  },\n  setAttributeNS(namespaceURI, qualifiedName, value) {\n    const attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName)\n    attr.value = attr.nodeValue = '' + value\n    this.setAttributeNode(attr)\n  },\n  getAttributeNodeNS(namespaceURI, localName) {\n    return this.attributes.getNamedItemNS(namespaceURI, localName)\n  },\n\n  getElementsByTagName(tagName) {\n    return new LiveNodeList(this, function (base) {\n      const ls = []\n      _visitNode(base, function (node) {\n        if (node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName\n        || node.tagName.endsWith(\":\"+tagName))) {\n          ls.push(node)\n        }\n      })\n      return ls\n    })\n  },\n  getElementsByTagNameNS(namespaceURI, localName) {\n    return new LiveNodeList(this, function (base) {\n      const ls = []\n      _visitNode(base, function (node) {\n        if (node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)) {\n          ls.push(node)\n        }\n      })\n      return ls\n    })\n  }\n}\n\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS\nElement.prototype.querySelectorAll = function (selector) {\n  const paths = selector.split(\" \")\n  let parents = [this]\n  for (const path of paths) {\n    const temp = []\n    for (const parent of parents) {\n      const children = parent.getElementsByTagName(path)\n      for (var i = 0; i < children.length; i++) {\n        temp.push(children[i])\n      }\n    }\n    parents = temp.concat();\n  }\n  return parents\n}\nElement.prototype.querySelector = function (selector) {\n  return this.querySelectorAll(selector)[0]\n}\nDocument.prototype.querySelectorAll = Element.prototype.querySelectorAll \nDocument.prototype.querySelector = Element.prototype.querySelector \n\n_extends(Element, Node)\nfunction Attr() {\n}\nAttr.prototype.nodeType = ATTRIBUTE_NODE\n_extends(Attr, Node)\n\n\nfunction CharacterData() {\n}\nCharacterData.prototype = {\n  data: '',\n  substringData(offset, count) {\n    return this.data.substring(offset, offset + count)\n  },\n  appendData(text) {\n    text = this.data + text\n    this.nodeValue = this.data = text\n    this.length = text.length\n  },\n  insertData(offset, text) {\n    this.replaceData(offset, 0, text)\n  },\n  appendChild(newChild) {\n    throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n  },\n  deleteData(offset, count) {\n    this.replaceData(offset, count, '')\n  },\n  replaceData(offset, count, text) {\n    const start = this.data.substring(0, offset)\n    const end = this.data.substring(offset + count)\n    text = start + text + end\n    this.nodeValue = this.data = text\n    this.length = text.length\n  }\n}\n_extends(CharacterData, Node)\nfunction Text() {\n}\nText.prototype = {\n  nodeName: '#text',\n  nodeType: TEXT_NODE,\n  splitText(offset) {\n    let text = this.data\n    const newText = text.substring(offset)\n    text = text.substring(0, offset)\n    this.data = this.nodeValue = text\n    this.length = text.length\n    const newNode = this.ownerDocument.createTextNode(newText)\n    if (this.parentNode) {\n      this.parentNode.insertBefore(newNode, this.nextSibling)\n    }\n    return newNode\n  }\n}\n_extends(Text, CharacterData)\nfunction Comment() {\n}\nComment.prototype = {\n  nodeName: '#comment',\n  nodeType: COMMENT_NODE\n}\n_extends(Comment, CharacterData)\n\nfunction CDATASection() {\n}\nCDATASection.prototype = {\n  nodeName: '#cdata-section',\n  nodeType: CDATA_SECTION_NODE\n}\n_extends(CDATASection, CharacterData)\n\n\nfunction DocumentType() {\n}\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE\n_extends(DocumentType, Node)\n\nfunction Notation() {\n}\nNotation.prototype.nodeType = NOTATION_NODE\n_extends(Notation, Node)\n\nfunction Entity() {\n}\nEntity.prototype.nodeType = ENTITY_NODE\n_extends(Entity, Node)\n\nfunction EntityReference() {\n}\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE\n_extends(EntityReference, Node)\n\nfunction DocumentFragment() {\n}\nDocumentFragment.prototype.nodeName = '#document-fragment'\nDocumentFragment.prototype.nodeType = DOCUMENT_FRAGMENT_NODE\n_extends(DocumentFragment, Node)\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE\n_extends(ProcessingInstruction, Node)\nfunction XMLSerializer() { }\nXMLSerializer.prototype.serializeToString = function (node, isHtml, nodeFilter) {\n  return nodeSerializeToString.call(node, isHtml, nodeFilter)\n}\nNode.prototype.toString = nodeSerializeToString\nfunction nodeSerializeToString(isHtml, nodeFilter) {\n  const buf = []\n  const refNode = this.nodeType == 9 && this.documentElement || this\n  var prefix = refNode.prefix\n  const uri = refNode.namespaceURI\n\n  if (uri && prefix == null) {\n    // console.log(prefix)\n    var prefix = refNode.lookupPrefix(uri)\n    if (prefix == null) {\n      // isHTML = true;\n      var visibleNamespaces = [\n        { namespace: uri, prefix: null }\n        // {namespace:uri,prefix:''}\n      ]\n    }\n  }\n  serializeToString(this, buf, isHtml, nodeFilter, visibleNamespaces)\n  // console.log('###',this.nodeType,uri,prefix,buf.join(''))\n  return buf.join('')\n}\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n  const prefix = node.prefix || ''\n  const uri = node.namespaceURI\n  if (!prefix && !uri) {\n    return false\n  }\n  if (prefix === 'xml' && uri === 'http://www.w3.org/XML/1998/namespace' ||\n    uri == 'http://www.w3.org/2000/xmlns/') {\n    return false\n  }\n\n  let i = visibleNamespaces.length\n  // console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\n  while (i--) {\n    const ns = visibleNamespaces[i]\n    // get namespace prefix\n    // console.log(node.nodeType,node.tagName,ns.prefix,prefix)\n    if (ns.prefix == prefix) {\n      return ns.namespace != uri\n    }\n  }\n  // console.log(isHTML,uri,prefix=='')\n  // if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\n  //\treturn false;\n  // }\n  // node.flag = '11111'\n  // console.error(3,true,node.flag,node.prefix,node.namespaceURI)\n  return true\n}\nfunction serializeToString(node, buf, isHTML, nodeFilter, visibleNamespaces) {\n  if (nodeFilter) {\n    node = nodeFilter(node)\n    if (node) {\n      if (typeof node === 'string') {\n        buf.push(node)\n        return\n      }\n    } else {\n      return\n    }\n    // buf.sort.apply(attrs, attributeSorter);\n  }\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n      if (!visibleNamespaces) visibleNamespaces = []\n      var startVisibleNamespaces = visibleNamespaces.length\n      var attrs = node.attributes\n      var len = attrs.length\n      var child = node.firstChild\n      var nodeName = node.tagName\n\n      isHTML = (htmlns === node.namespaceURI) || isHTML\n      buf.push('<', nodeName)\n\n\n      for (var i = 0; i < len; i++) {\n        var attr = attrs.item(i)\n        if (attr.prefix == 'xmlns') {\n          visibleNamespaces.push({ prefix: attr.localName, namespace: attr.value })\n        } else if (attr.nodeName == 'xmlns') {\n          visibleNamespaces.push({ prefix: '', namespace: attr.value })\n        }\n      }\n      for (var i = 0; i < len; i++) {\n        var attr = attrs.item(i)\n        if (needNamespaceDefine(attr, isHTML, visibleNamespaces)) {\n          var prefix = attr.prefix || ''\n          var uri = attr.namespaceURI\n          var ns = prefix ? ' xmlns:' + prefix : ' xmlns'\n          buf.push(ns, '=\"', uri, '\"')\n          visibleNamespaces.push({ prefix, namespace: uri })\n        }\n        serializeToString(attr, buf, isHTML, nodeFilter, visibleNamespaces)\n      }\n      // add namespace for current node\n      if (needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n        var prefix = node.prefix || ''\n        var uri = node.namespaceURI\n        var ns = prefix ? ' xmlns:' + prefix : ' xmlns'\n        buf.push(ns, '=\"', uri, '\"')\n        visibleNamespaces.push({ prefix, namespace: uri })\n      }\n\n      if (child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)) {\n        buf.push('>')\n        // if is cdata child node\n        if (isHTML && /^script$/i.test(nodeName)) {\n          while (child) {\n            if (child.data) {\n              buf.push(child.data)\n            } else {\n              serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces)\n            }\n            child = child.nextSibling\n          }\n        } else {\n          while (child) {\n            serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces)\n            child = child.nextSibling\n          }\n        }\n        buf.push('</', nodeName, '>')\n      } else {\n        buf.push('/>')\n      }\n      // remove added visible namespaces\n      // visibleNamespaces.length = startVisibleNamespaces;\n      return\n    case DOCUMENT_NODE:\n    case DOCUMENT_FRAGMENT_NODE:\n      var child = node.firstChild\n      while (child) {\n        serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces)\n        child = child.nextSibling\n      }\n      return\n    case ATTRIBUTE_NODE:\n      return buf.push(' ', node.name, '=\"', node.value.replace(/[<&\"]/g, _xmlEncoder), '\"')\n    case TEXT_NODE:\n      return buf.push(node.data.replace(/[<&]/g, _xmlEncoder))\n    case CDATA_SECTION_NODE:\n      return buf.push('<![CDATA[', node.data, ']]>')\n    case COMMENT_NODE:\n      return buf.push('<!--', node.data, '-->')\n    case DOCUMENT_TYPE_NODE:\n      var pubid = node.publicId\n      var sysid = node.systemId\n      buf.push('<!DOCTYPE ', node.name)\n      if (pubid) {\n        buf.push(' PUBLIC \"', pubid)\n        if (sysid && sysid != '.') {\n          buf.push('\" \"', sysid)\n        }\n        buf.push('\">')\n      } else if (sysid && sysid != '.') {\n        buf.push(' SYSTEM \"', sysid, '\">')\n      } else {\n        const sub = node.internalSubset\n        if (sub) {\n          buf.push(' [', sub, ']')\n        }\n        buf.push('>')\n      }\n      return\n    case PROCESSING_INSTRUCTION_NODE:\n      return buf.push('<?', node.target, ' ', node.data, '?>')\n    case ENTITY_REFERENCE_NODE:\n      return buf.push('&', node.nodeName, ';')\n    // case ENTITY_NODE:\n    // case NOTATION_NODE:\n    default:\n      buf.push('??', node.nodeName)\n  }\n}\nfunction importNode(doc, node, deep) {\n  let node2\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n      node2 = node.cloneNode(false)\n      node2.ownerDocument = doc\n\n    case DOCUMENT_FRAGMENT_NODE:\n      break\n    case ATTRIBUTE_NODE:\n      deep = true\n      break\n    // case ENTITY_REFERENCE_NODE:\n    // case PROCESSING_INSTRUCTION_NODE:\n    // //case TEXT_NODE:\n    // case CDATA_SECTION_NODE:\n    // case COMMENT_NODE:\n    //\tdeep = false;\n    //\tbreak;\n    // case DOCUMENT_NODE:\n    // case DOCUMENT_TYPE_NODE:\n    // cannot be imported.\n    // case ENTITY_NODE:\n    // case NOTATION_NODE\n    // can not hit in level3\n    // default:throw e;\n  }\n  if (!node2) {\n    node2 = node.cloneNode(false)// false\n  }\n  node2.ownerDocument = doc\n  node2.parentNode = null\n  if (deep) {\n    let child = node.firstChild\n    while (child) {\n      node2.appendChild(importNode(doc, child, deep))\n      child = child.nextSibling\n    }\n  }\n  return node2\n}\n//\nfunction cloneNode(doc, node, deep) {\n  const node2 = new node.constructor()\n  for (const n in node) {\n    const v = node[n]\n    if (typeof v !== 'object') {\n      if (v != node2[n]) {\n        node2[n] = v\n      }\n    }\n  }\n  if (node.childNodes) {\n    node2.childNodes = new NodeList()\n  }\n  node2.ownerDocument = doc\n  switch (node2.nodeType) {\n    case ELEMENT_NODE:\n      var attrs = node.attributes\n      var attrs2 = node2.attributes = new NamedNodeMap()\n      var len = attrs.length\n      attrs2._ownerElement = node2\n      for (let i = 0; i < len; i++) {\n        node2.setAttributeNode(cloneNode(doc, attrs.item(i), true))\n      }\n      break\n    case ATTRIBUTE_NODE:\n      deep = true\n  }\n  if (deep) {\n    let child = node.firstChild\n    while (child) {\n      node2.appendChild(cloneNode(doc, child, deep))\n      child = child.nextSibling\n    }\n  }\n  return node2\n}\n\nfunction __set__(object, key, value) {\n  object[key] = value\n}\n// do dynamic\ntry {\n  if (Object.defineProperty) {\n    Object.defineProperty(Element.prototype, 'outerHTML', {\n      get() {\n        return new XMLSerializer().serializeToString(this)\n      },\n      set(){\n\n      }\n    })\n    Object.defineProperty(Element.prototype, 'innerHTML', {\n      get() {\n        var html = new XMLSerializer().serializeToString(this)\n        html = html.substring(html.indexOf(\">\"))\n        html = html.substring(0,html.lastIndexOf(\"</\"))\n        return html\n      },\n      set(){\n        \n      }\n    })\n    Object.defineProperty(Element.prototype, 'firstElementChild', {\n      get() {\n        return this.firstChild\n      }\n    })\n    Object.defineProperty(Element.prototype, 'nextElementSibling', {\n      get() {\n        return this.nextSibling\n      }\n    })\n    Object.defineProperty(LiveNodeList.prototype, 'length', {\n      get() {\n        _updateLiveList(this)\n        return this.$$length\n      }\n    })\n    Object.defineProperty(Node.prototype, 'textContent', {\n      get() {\n        return getTextContent(this)\n      },\n      set(data) {\n        switch (this.nodeType) {\n          case ELEMENT_NODE:\n          case DOCUMENT_FRAGMENT_NODE:\n            while (this.firstChild) {\n              this.removeChild(this.firstChild)\n            }\n            if (data || String(data)) {\n              this.appendChild(this.ownerDocument.createTextNode(data))\n            }\n            break\n          default:\n            // TODO:\n            this.data = data\n            this.value = data\n            this.nodeValue = data\n        }\n      }\n    })\n\n    function getTextContent(node) {\n      switch (node.nodeType) {\n        case ELEMENT_NODE:\n        case DOCUMENT_FRAGMENT_NODE:\n          var buf = []\n          node = node.firstChild\n          while (node) {\n            if (node.nodeType !== 7 && node.nodeType !== 8) {\n              buf.push(getTextContent(node))\n            }\n            node = node.nextSibling\n          }\n          return buf.join('')\n        default:\n          return node.nodeValue\n      }\n    }\n    __set__ = function (object, key, value) {\n      // console.log(value)\n      object['$$' + key] = value\n    }\n  }\n} catch (e) { // ie8\n}\n\n// if(typeof require == 'function'){\nexports.DOMImplementation = DOMImplementation\nexports.XMLSerializer = XMLSerializer\n// }\n","var __TEMP__ = require('./ArrayX');var ArrayX = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Base64');var Base64 = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Canvas');var Canvas = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./GUID');var GUID = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./String');var String = __REQUIRE_DEFAULT__(__TEMP__);\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = {\r\n  ArrayX,\r\n  GUID,\r\n  Base64,\r\n  Canvas,\r\n  String,\r\n  Page\r\n};\r\n","var __TEMP__ = require('../HTMLImageElement');var HTMLImageElement = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('../ImageBitmap');var ImageBitmap = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('../HTMLCanvasElement');var HTMLCanvasElement = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('./Base64');var Base64 = __REQUIRE_DEFAULT__(__TEMP__);\r\nvar __TEMP__ = require('../Blob');var Blob = __REQUIRE_DEFAULT__(__TEMP__);\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Canvas {\r\n  static x2image(x,tobase64,toBuffer) {\r\n    if(!x){\r\n      return x\r\n    }\r\n    var img;\r\n    if (x instanceof HTMLImageElement) {\r\n      img = x.wx_element;\r\n    } else if (x instanceof ImageBitmap) {\r\n      img = x.wx_element;\r\n    } else if (x instanceof HTMLCanvasElement) {\r\n      img = x.wx_element;\r\n      if(tobase64){\r\n        img = img.toDataURL()\r\n        if(toBuffer){\r\n          const prev = \"data:image/png;base64,\"\r\n          img = img.substring(prev.length)\r\n          img = Base64.base64ToArrayBuffer(img)\r\n        }\r\n      }\r\n    } else {\r\n      img = x;\r\n    }\r\n    return img;\r\n  }\r\n  static canvas2image(canvas3d, canvas2d) {\r\n    if (canvas3d.wx_element) {\r\n      canvas3d = canvas3d.wx_element;\r\n    }\r\n    return new Promise((callback) => {\r\n      var image = canvas2d.createImage();\r\n      image.onload = function () {\r\n        callback(image);\r\n      };\r\n      image.src = canvas3d.toDataURL();\r\n    });\r\n  }\r\n  static canvas2img(canvas3d, canvas2d) {\r\n    if (canvas3d.wx_element) {\r\n      canvas3d = canvas3d.wx_element;\r\n    }\r\n    return new Promise((callback) => {\r\n      var img = new HTMLImageElement(canvas2d);\r\n      img.onload = function () {\r\n        callback(img);\r\n      };\r\n      img.src = canvas3d.toDataURL();\r\n    });\r\n  }\r\n  static toBlob(canvas, callback, type, quality) {\r\n    const base64 = canvas.toDataURL(type, quality);\r\n    const prev = `data:${type};base64,`;\r\n    const buffer = Base64.base64ToArrayBuffer(base64.substring(prev.length));\r\n    const blob = new Blob([buffer]);\r\n    callback(blob);\r\n  }\r\n};exports.default = Canvas\r\n"]}