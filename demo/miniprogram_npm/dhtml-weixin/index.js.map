{"version":3,"sources":["index.js","Blob.js","createImageBitmap.js","HTMLImageElement.js","core/Base64.js","btoa.js","core/Page.js","HTMLElement.js","Style.js","core/String.js","Element.js","Node.js","EventTarget.js","core/ArrayX.js","Event.js","ClassCollection.js","CSSStyleDeclaration.js","document.js","HTMLCanvasElement.js","window.js","URL.js","core/GUID.js","Performance.js","Location.js","requestAnimationFrame.js","cancelAnimationFrame.js","ImageBitmap.js","Worker.js","AudioContext.js","ImageData.js","fetch.js","Response.js","Headers.js","navigator.js","Request.js","WebAssembly.js","XMLHttpRequest.js","core/xmldom/dom-parser.js","core/xmldom/entities.js","core/xmldom/sax.js","core/xmldom/dom.js","core/index.js","core/Canvas.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ACHA,AFMA;ACFA,ACHA,AFMA;ACFA,ACHA,AFMA;ACFA,AENA,ADGA,AFMA;ACFA,AENA,ADGA,AFMA;ACFA,AENA,ADGA,AFMA;ACFA,AENA,ACHA,AFMA,AFMA;ACFA,AENA,ACHA,AFMA,AFMA;ACFA,AENA,ACHA,AFMA,AFMA;ACFA,AENA,AENA,ADGA,AFMA,AFMA;ACFA,AENA,AENA,ADGA,AFMA,AFMA;AGRA,AENA,ADGA,AFMA,AFMA;AGRA,AENA,ADGA,AENA,AJYA,AFMA;AGRA,AENA,ADGA,AENA,AJYA,AFMA;AGRA,AENA,ADGA,AENA,AJYA,AFMA;AOpBA,AJYA,AENA,ADGA,AENA,AJYA,AFMA;AOpBA,AJYA,AENA,ADGA,AENA,AJYA,AFMA;AOpBA,AJYA,AENA,ADGA,AENA,AJYA,AFMA;AOpBA,AJYA,AKfA,AHSA,ADGA,AENA,ANkBA;AOpBA,AJYA,AKfA,AHSA,ADGA,AENA,ANkBA;AOpBA,AJYA,AKfA,AHSA,ADGA,AENA,ANkBA;AOpBA,AJYA,AKfA,AHSA,ADGA,AENA,AGTA,AT2BA;AOpBA,AJYA,AKfA,AHSA,ADGA,AENA,AGTA,AT2BA;AOpBA,AJYA,AKfA,AHSA,ADGA,AENA,AGTA,AT2BA;AU7BA,AHSA,AJYA,AKfA,AHSA,ADGA,AENA,AGTA,AT2BA;AU7BA,AHSA,AJYA,AKfA,AHSA,ADGA,AENA,AGTA,AT2BA;AU7BA,AHSA,AJYA,AKfA,AHSA,ADGA,AENA,AGTA,AT2BA;AU7BA,AHSA,AJYA,AQxBA,AHSA,AHSA,ADGA,AENA,AGTA,AT2BA;AU7BA,AHSA,AJYA,AQxBA,AHSA,AHSA,ADGA,AENA,AGTA,AT2BA;AU7BA,AHSA,AJYA,AQxBA,AHSA,AHSA,ADGA,AENA,AGTA,AT2BA;AU7BA,AENA,ALeA,AJYA,AQxBA,AHSA,AHSA,ADGA,AENA,AGTA,AT2BA;AU7BA,AENA,ALeA,AJYA,AQxBA,AHSA,AHSA,ADGA,AENA,AGTA,AT2BA;AU7BA,AENA,ALeA,AJYA,AQxBA,AHSA,AHSA,ADGA,AENA,AGTA,AT2BA;AU7BA,AENA,ALeA,AJYA,AQxBA,AHSA,AHSA,AQxBA,AT2BA,AENA,AGTA,AT2BA;AYnCA,ALeA,AJYA,AQxBA,AHSA,AHSA,AQxBA,AT2BA,AENA,ANkBA;AYnCA,ALeA,AJYA,AQxBA,AHSA,AHSA,AQxBA,AT2BA,AENA,ANkBA;AczCA,AFMA,ALeA,AJYA,AKfA,AHSA,AQxBA,AT2BA,AENA,ANkBA;AczCA,AFMA,ALeA,AJYA,AKfA,AHSA,AQxBA,AT2BA,AENA,ANkBA;AczCA,AFMA,ALeA,AJYA,AKfA,AHSA,AQxBA,AT2BA,AENA,ANkBA;Ae5CA,ADGA,AFMA,ALeA,AJYA,AKfA,AHSA,AQxBA,AT2BA,AJYA;Ae5CA,ADGA,AFMA,ALeA,AJYA,AKfA,AHSA,AQxBA,AT2BA,AJYA;Ae5CA,ADGA,AFMA,ALeA,AJYA,AKfA,AHSA,AQxBA,AT2BA,AJYA;AgB/CA,ADGA,ADGA,AFMA,ALeA,AJYA,AKfA,AHSA,AQxBA,AT2BA,AJYA;AgB/CA,ADGA,ADGA,AFMA,ALeA,AJYA,AKfA,AHSA,ADGA,AJYA;AgB/CA,ADGA,ADGA,AFMA,ALeA,AJYA,AKfA,AJYA,AJYA;AgB/CA,ADGA,ADGA,AFMA,ALeA,AJYA,AKfA,AJYA,AavCA,AjBmDA;AgB/CA,ADGA,ADGA,AFMA,ALeA,AJYA,AKfA,AJYA,AavCA,AjBmDA;AgB/CA,ADGA,ADGA,AFMA,ALeA,AJYA,AKfA,AJYA,AavCA,AjBmDA;AgB/CA,ADGA,ADGA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AJYA,AavCA,AjBmDA;AgB/CA,ADGA,ADGA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AJYA,AavCA,AjBmDA;AgB/CA,ADGA,ADGA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AJYA,AavCA,AjBmDA;AgB/CA,ADGA,ADGA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AJYA,AavCA,AjBmDA,AmBzDA;AHUA,ADGA,ADGA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AJYA,AavCA,AjBmDA,AmBzDA;AHUA,ADGA,ADGA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AJYA,AavCA,AjBmDA,AmBzDA;AHUA,ADGA,ADGA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AYpCA,AhBgDA,AavCA,AjBmDA,AmBzDA;AHUA,ADGA,ADGA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AYpCA,AhBgDA,AavCA,AjBmDA,AmBzDA;AHUA,ADGA,ADGA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AYpCA,AhBgDA,AavCA,AjBmDA,AmBzDA;AHUA,ADGA,ADGA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AYpCA,AhBgDA,AiBnDA,AJYA,AjBmDA,AmBzDA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AYpCA,AhBgDA,AiBnDA,AJYA,AjBmDA,AmBzDA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AKfA,AYpCA,AhBgDA,AiBnDA,AJYA,AjBmDA,AmBzDA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AmBzDA,Ad0CA,AYpCA,AhBgDA,AiBnDA,AJYA,AjBmDA,AmBzDA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AmBzDA,Ad0CA,AYpCA,ACHA,AJYA,AjBmDA,AmBzDA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AmBzDA,Ad0CA,AYpCA,ACHA,AJYA,AjBmDA,AmBzDA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AoB5DA,ADGA,Ad0CA,AYpCA,ACHA,AJYA,AENA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AoB5DA,ADGA,Ad0CA,AYpCA,ACHA,AJYA,AENA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AoB5DA,ADGA,Ad0CA,AYpCA,ACHA,AJYA,AENA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AoB5DA,ADGA,Ad0CA,AYpCA,ACHA,AJYA,AOrBA,ALeA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AoB5DA,ADGA,Ad0CA,AYpCA,AHSA,AOrBA,ALeA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AoB5DA,ADGA,Ad0CA,AYpCA,AHSA,AOrBA,ALeA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AoB5DA,ADGA,Ad0CA,AYpCA,AKfA,ARwBA,AOrBA,ALeA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AoB5DA,Af6CA,AYpCA,AKfA,ARwBA,AOrBA,ALeA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AoB5DA,Af6CA,AYpCA,AKfA,ARwBA,AOrBA,ALeA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AuBrEA,AlBsDA,AYpCA,AKfA,ARwBA,AOrBA,ALeA;AHUA,AFMA,AFMA,AMlBA,AXiCA,AJYA,AuBrEA,AlBsDA,AYpCA,AKfA,ARwBA,AOrBA,ALeA;APsBA,AMlBA,AXiCA,AJYA,AuBrEA,AlBsDA,AYpCA,AKfA,ARwBA,AOrBA,ALeA;APsBA,AMlBA,AXiCA,AJYA,AuBrEA,AlBsDA,AYpCA,AOrBA,AFMA,ARwBA,AOrBA,ALeA;APsBA,AMlBA,AXiCA,AJYA,AuBrEA,AlBsDA,AYpCA,AOrBA,AFMA,ARwBA,AOrBA,ALeA;APsBA,ALeA,AJYA,AuBrEA,AlBsDA,AYpCA,AOrBA,AFMA,ARwBA,AOrBA,ALeA;AS1BA,AhBgDA,ALeA,AJYA,AuBrEA,AlBsDA,AYpCA,AOrBA,AFMA,ARwBA,AENA;AS1BA,AhBgDA,ALeA,AJYA,AuBrEA,AlBsDA,AYpCA,AOrBA,AFMA,ARwBA,AENA;AS1BA,AhBgDA,ALeA,AJYA,AuBrEA,AlBsDA,AYpCA,AOrBA,AFMA,ARwBA,AENA;AS1BA,AhBgDA,ALeA,AJYA,AuBrEA,AGTA,ArB+DA,AmBzDA,AFMA,ARwBA,AENA;AS1BA,AhBgDA,ALeA,AJYA,AuBrEA,AGTA,ArB+DA,AmBzDA,AFMA,ARwBA,AENA;AS1BA,AhBgDA,ALeA,AJYA,AuBrEA,AGTA,ArB+DA,AmBzDA,AFMA,ARwBA,AENA;AS1BA,AhBgDA,ALeA,AJYA,AuBrEA,AGTA,ArB+DA,AmBzDA,AFMA,ARwBA,AavCA,AXiCA;AS1BA,AhBgDA,ALeA,AJYA,AuBrEA,AGTA,ArB+DA,AmBzDA,AFMA,ARwBA,AavCA,AXiCA;AS1BA,AhBgDA,ALeA,AJYA,AuBrEA,AGTA,ArB+DA,AmBzDA,AFMA,ARwBA,AavCA,AXiCA;AS1BA,AhBgDA,ALeA,AJYA,A0B9EA,AENA,AvBqEA,AmBzDA,AV8BA,AavCA,AXiCA;AS1BA,AhBgDA,ALeA,AJYA,A4BpFA,AvBqEA,AmBzDA,AV8BA,AavCA,AXiCA;AS1BA,AhBgDA,ALeA,AJYA,A4BpFA,AvBqEA,AmBzDA,AV8BA,AavCA,AXiCA;AS1BA,AhBgDA,ALeA,AJYA,A6BvFA,ADGA,AvBqEA,AmBzDA,AV8BA,AavCA,AXiCA;AS1BA,AhBgDA,ALeA,AJYA,A6BvFA,ADGA,AvBqEA,AmBzDA,AV8BA,AavCA,AXiCA;AS1BA,AhBgDA,ALeA,AJYA,A6BvFA,ADGA,AvBqEA,AmBzDA,AV8BA,AENA;AS1BA,AhBgDA,ALeA,AJYA,A6BvFA,ADGA,AvBqEA,AmBzDA,AV8BA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,AJYA,A6BvFA,ADGA,AvBqEA,AmBzDA,AV8BA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,AJYA,A6BvFA,ADGA,AvBqEA,AmBzDA,AV8BA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,A2BjFA,AHSA,AvBqEA,AmBzDA,AV8BA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,A2BjFA,AHSA,AvBqEA,AmBzDA,AV8BA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,A2BjFA,AHSA,AvBqEA,AmBzDA,AV8BA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,A2BjFA,AHSA,AvBqEA,A2BjFA,ARwBA,AV8BA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,A2BjFA,AHSA,AvBqEA,A2BjFA,ARwBA,AV8BA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,A2BjFA,AHSA,AvBqEA,A2BjFA,ARwBA,AV8BA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,A2BjFA,AHSA,AvBqEA,A2BjFA,ARwBA,AS3BA,AnByDA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,AwBxEA,AvBqEA,A2BjFA,ARwBA,AS3BA,AnByDA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,AwBxEA,AvBqEA,A2BjFA,ARwBA,AS3BA,AnByDA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,AwBxEA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,ApB4DA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,AwBxEA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,ApB4DA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,AwBxEA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,ApB4DA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,AwBxEA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,ACHA,ArB+DA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,AwBxEA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,ACHA,ArB+DA,AgBhDA,Ad0CA;AS1BA,AhBgDA,ALeA,AwBxEA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,ACHA,ArB+DA,AENA;AS1BA,AhBgDA,AmBzDA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,ACHA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,ACHA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,ACHA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,ACHA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AKfA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AKfA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AKfA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,A2BjFA,ARwBA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ADGA,AJYA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AS1BA,AGTA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,AtBkEA,AENA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,ApB4DA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,ApB4DA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,ApB4DA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,ApB4DA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,ApB4DA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,ApB4DA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,ApB4DA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA,ApB4DA;AYnCA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;ARyBA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;ARyBA,AvBqEA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;A/B8FA,AmBzDA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;AZqCA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;AZqCA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;AZqCA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;AZqCA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;AZqCA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;AZqCA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;AZqCA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;AZqCA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;AZqCA,AS3BA,AMlBA,ALeA,AGTA,AFMA,ACHA;AZqCA,Ae7CA,ALeA,AGTA,AFMA,ACHA;AZqCA,Ae7CA,ALeA,AGTA,AFMA,ACHA;AZqCA,Ae7CA,ALeA,AGTA,AFMA,ACHA;AZqCA,Ae7CA,ALeA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,AFMA,ACHA;AZqCA,AU9BA,AGTA,ADGA;AZqCA,AU9BA,AGTA,ADGA;AZqCA,AU9BA,AGTA,ADGA;AZqCA,AU9BA,AGTA,ADGA;AZqCA,AU9BA,AGTA,ADGA;AZqCA,AU9BA,AGTA,ADGA;AZqCA,AU9BA,AGTA,ADGA;AZqCA,AU9BA,AGTA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;AZqCA,AavCA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["var __TEMP__ = require('./Blob');var Blob = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./createImageBitmap');var createImageBitmap = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./CSSStyleDeclaration');var CSSStyleDeclaration = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./document');var Document = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./fetch');var fetch = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Headers');var Headers = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./HTMLImageElement');var HTMLImageElement = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./HTMLCanvasElement');var HTMLCanvasElement = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./ImageBitmap');var ImageBitmap = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./navigator');var navigator = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Request');var Request = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./requestAnimationFrame');var requestAnimationFrame = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./cancelAnimationFrame');var cancelAnimationFrame = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Response');var Response = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./URL');var URL = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./window');var Window = __REQUIRE_DEFAULT__(__TEMP__);\nconst WebAssembly = require(\"./WebAssembly\");\nvar __TEMP__ = require('./Worker');var Worker = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./XMLHttpRequest');var XMLHttpRequest = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Location');var Location = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./core/xmldom/dom-parser');var DOMParser = __TEMP__['DOMParser'];\nvar __TEMP__ = require('./core/index');var core = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Element');var Element = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Node');var Node = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Event');var Event = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Performance');var Performance = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./btoa');var btoa = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./ImageData');var ImageData = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./AudioContext');var AudioContext = __REQUIRE_DEFAULT__(__TEMP__);\nconst performance = new Performance();\nconst document = new Document();\nconst window = new Window();\nconst self = window;\nconst location = new Location();\nmodule.exports = {\n  AudioContext,\n  ImageData,\n  Blob,\n  btoa,\n  createImageBitmap,\n  CSSStyleDeclaration,\n  performance,\n  document,\n  DOMParser,\n  EventTarget,\n  Element,\n  fetch,\n  Headers,\n  HTMLCanvasElement,\n  HTMLImageElement,\n  ImageBitmap,\n  location,\n  navigator,\n  Node,\n  Event,\n  Request,\n  requestAnimationFrame,\n  cancelAnimationFrame,\n  Response,\n  self,\n  URL,\n  window,\n  WebAssembly,\n  Worker,\n  XMLHttpRequest,\n  core,\n};\n","/* eslint-disable camelcase */\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Blob {\n  constructor(array, options) {\n    this.array = array\n    this.options = options\n  }\n  get size(){\n    return this.array[0].length\n  }\n  arrayBuffer(){\n    return this.array[0]\n  }\n};exports.default = Blob\n","/* eslint-disable no-unused-vars */\nvar __TEMP__ = require('./HTMLImageElement');var HTMLImageElement = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./core/Base64');var Base64 = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Blob');var Blob = __REQUIRE_DEFAULT__(__TEMP__);\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function createImageBitmap(src, options) {\n  return new Promise((resolve) => {\n    const img = new HTMLImageElement()\n    img.onload = function() {\n      resolve(img)\n    }\n    if(src instanceof Blob){\n        src = \"data:image/png;base64,\"+Base64.arrayBufferToBase64(src.array[0])\n    }\n    img.src = src\n  })\n};exports.default = createImageBitmap\n","var __TEMP__ = require('./core/Base64');var Base64 = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./HTMLElement');var HTMLElement = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class HTMLImageElement extends HTMLElement {\n\tconstructor(canvas2d) {\n\t\tsuper();\n\t\tconst canvas = canvas2d || Page.current.canvas.wx_element;\n\t\tthis.wx_element = canvas.createImage();\n\t\tthis.wx_element.onload = () => {\n\t\t\tif (this.onload) {\n\t\t\t\tthis.onload.call(this);\n\t\t\t}\n\t\t\tif (this._all_event_handlers.load) {\n\t\t\t\tthis._all_event_handlers.load.forEach((handler) => {\n\t\t\t\t\thandler.call(this);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tthis.wx_element.onerror = (e) => {\n\t\t\tif (this.onerror) {\n\t\t\t\tthis.onerror.call(this, e);\n\t\t\t}\n\t\t\tif (this._all_event_handlers.error) {\n\t\t\t\tthis._all_event_handlers.error.forEach((handler) => {\n\t\t\t\t\thandler.call(this, e);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tthis.onekit_image = this;\n\t}\n\tget width() {\n\t\treturn this.wx_element.width;\n\t}\n\tget height() {\n\t\treturn this.wx_element.height;\n\t}\n\tget data() {\n\t\treturn this.wx_element.data;\n\t}\n\tget complete() {\n\t\treturn this.wx_element.complete;\n\t}\n\tset crossOrigin(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t}\n\n\tget crossOrigin() {\n\t\treturn this._crossOrigin;\n\t}\n\n\tset src(url) {\n\t\tconst onekit_debug = Page.getApp().onekit_debug\n\t\tif (onekit_debug) {\n\t\t\tif (url.startsWith(\"data:\")) {\n\t\t\t\tconsole[onekit_debug](\"[image]\", \"blob\");\n\t\t\t} else {\n\t\t\t\tconsole[onekit_debug](\"[image]\", url);\n\t\t\t}\n\t\t}\n\t\tif (url.startsWith('data:')) {\n\t\t\tthis._src = url;\n\t\t\tthis.wx_element.src = url\n\t\t\treturn\n\t\t}\n\t\tif (url.startsWith(\"blob:\")) {\n\t\t\ttry {\n\t\t\t\tthis._src = url;\n\t\t\t\tconst arrayBuffer = Page.current.DataURL[url].array[0]\n\t\t\t\tconst base64 = \"data:image/png;base64,\" + Base64.arrayBufferToBase64(arrayBuffer)\n\t\t\t\tthis.wx_element.src = base64\n\t\t\t} catch (ex) {\n\t\t\t\tconsole.error(ex);\n\t\t\t}\n\t\t\treturn\n\t\t}\n\t\tif (url.startsWith(\"./\")) {\n\t\t\turl = url.substring(2)\n\t\t}\n\t\tif (!url.startsWith(\"blob:\") &&\n\t\t\t!url.startsWith(\"data:\") &&\n\t\t\t!url.startsWith(\"http://\") &&\n\t\t\t!url.startsWith(\"https://\")) {\n\t\t\turl = (Page.getApp().onekit_path || \"\") + url\n\t\t}\n\t\tthis.wx_element.src = url;\n\n\t}\n\n\tget src() {\n\t\treturn this._src;\n\t}\n};exports.default = HTMLImageElement\n","/* eslint-disable max-len */\n/* eslint-disable no-useless-escape */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable no-var */\n/* eslint-disable no-mixed-operators */\n/* eslint-disable vars-on-top */\n/* eslint-disable no-bitwise */\nvar __TEMP__ = require('../btoa');var btoa = __REQUIRE_DEFAULT__(__TEMP__);\nfunction b64ToUint6(nChr) {\n  return nChr > 64 && nChr < 91\n    ? nChr - 65\n    : nChr > 96 && nChr < 123\n      ? nChr - 71\n      : nChr > 47 && nChr < 58\n        ? nChr + 4\n        : nChr === 43\n          ? 62\n          : nChr === 47\n            ? 63\n            : 0\n}\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Base64 {\n  static arrayBufferToBase64(array) {\n  //  return String.fromCharCode.apply(null, new Int8Array(buffer))\n  \n      let binary = ''\n      const bytes = new Uint8Array(array)\n      const len = bytes.byteLength\n      for (let i = 0; i < len; i++) {\n        binary += String.fromCharCode(bytes[i])\n      }\n      return btoa(binary)\n  }\n\n  static base64ToArrayBuffer(sBase64, nBlockSize) {\n    const\n      sB64Enc = sBase64.replace(/[^A-Za-z0-9\\+\\/]/g, ''); const nInLen = sB64Enc.length\n    const nOutLen = nBlockSize ? Math.ceil((nInLen * 3 + 1 >>> 2) / nBlockSize) * nBlockSize : nInLen * 3 + 1 >>> 2; const\n      aBytes = new Int8Array(nOutLen)\n\n    for (var nMod3, nMod4, nUint24 = 0, nOutIdx = 0, nInIdx = 0; nInIdx < nInLen; nInIdx++) {\n      nMod4 = nInIdx & 3\n      nUint24 |= b64ToUint6(sB64Enc.charCodeAt(nInIdx)) << 18 - 6 * nMod4\n      if (nMod4 === 3 || nInLen - nInIdx === 1) {\n        for (nMod3 = 0; nMod3 < 3 && nOutIdx < nOutLen; nMod3++, nOutIdx++) {\n          aBytes[nOutIdx] = nUint24 >>> (16 >>> nMod3 & 24) & 255\n        }\n        nUint24 = 0\n      }\n    }\n\n    return aBytes.buffer\n  }\n};exports.default = Base64\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function btoa(string) {\n  const b64 =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  string = String(string);\n  let bitmap;\n  let a;\n  let b;\n  let c;\n  let result = \"\";\n  let i = 0;\n  const rest = string.length % 3; // To determine the final padding\n\n  for (; i < string.length; ) {\n    if (\n      (a = string.charCodeAt(i++)) > 255 ||\n      (b = string.charCodeAt(i++)) > 255 ||\n      (c = string.charCodeAt(i++)) > 255\n    ) {\n      throw new TypeError(\n        \"Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.\"\n      );\n    }\n\n    bitmap = (a << 16) | (b << 8) | c;\n    result +=\n      b64.charAt((bitmap >> 18) & 63) +\n      b64.charAt((bitmap >> 12) & 63) +\n      b64.charAt((bitmap >> 6) & 63) +\n      b64.charAt(bitmap & 63);\n  }\n\n  // If there's need of padding, replace the last 'A's with equal signs\n  return rest ? result.slice(0, rest - 3) + \"===\".substring(rest) : result;\n};exports.default = btoa\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Page{\n    static get current(){\n        const pages = this.getCurrentPages()\n        return pages[pages.length-1]\n    }\n    static getCurrentPages(){\n        if(typeof requireMiniProgram ==\"undefined\"){\n            return getCurrentPages()\n        }else{\n            return requireMiniProgram().getCurrentPages()\n        }\n    }\n    static getApp(){\n        if(typeof requireMiniProgram ==\"undefined\"){\n            return getApp()\n        }else{\n            return requireMiniProgram().getApp()\n        }\n    }\n    static get wx_request(){\n        if(typeof requireMiniProgram ==\"undefined\"){\n            return wx.request\n        }else{\n            return requireMiniProgram().wx_request()\n        }\n    }\n};exports.default = Page","var __TEMP__ = require('./Style');var Style = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Element');var Element = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./ClassCollection');var ClassCollection = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class HTMLElement extends Element {\n  constructor(wx_element) {\n    super();\n    this.wx_element = wx_element;\n    this.style = new Style();\n    this.classList = new ClassCollection();\n    this._children = [];\n    this._childNodes = [];\n    this.textContent = \"\";\n  }\n\n  get ownerDocument() {\n    return {documentElement:new HTMLElement()};\n  }\n\n  get parentElement() {\n    return new HTMLElement();\n  }\n  set id(id) {\n    this._id = id;\n    this.wx_key = id;\n  }\n  get id() {\n    return this._id;\n  }\n  get children() {\n    return this._children;\n  }\n  get childNodes() {\n    return this._childNodes;\n  }\n  set innerHTML(innerHTML) {\n    if (typeof innerHTML != \"string\") {\n      return;\n    }\n    innerHTML = innerHTML.replaceAll(\"<br/>\", \"\\n\");\n    innerHTML = innerHTML.replaceAll(\"<br>\", \"\\n\");\n    innerHTML = innerHTML.replaceAll(\"&nbsp;\", \" \");\n    const key = `${this.wx_key}_innerHTML`;\n    const data = {};\n    data[key] = innerHTML;\n    Page.current.setData(data);\n  }\n  get innerHTML() {\n    return this._innerHTML;\n  }\n  append() {}\n  appendChild() {}\n  removeChild() {}\n  remove() {}\n\n  insertBefore() {}\n\n  setAttribute() {}\n\n  toggleAttribute() {}\n\n  click() {}\n  get clientLeft() {\n    return 0;\n  }\n  get clientTop() {\n    return 0;\n  }\n  getBoundingClientRect() {\n    if (this.wx_element) {\n      const systemInfo = wx.getSystemInfoSync();\n      return {\n        left: 0,\n        top: 0,\n        width: this.wx_element.width / systemInfo.pixelRatio,\n        height: this.wx_element.height / systemInfo.pixelRatio,\n      };\n    }\n    return {\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n  play() {}\n  setPointerCapture() {}\n  releasePointerCapture() {}\n  get clientWidth() {\n    return this.wx_element ? this.wx_element.width : 0;\n  }\n  get clientHeight() {\n    return this.wx_element ? this.wx_element.height : 0;\n  }\n};exports.default = HTMLElement\n","\n/* eslint-disable class-methods-use-this */\nvar __TEMP__ = require('./core/String');var String = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\nfunction fix(value){\n    if(value.endsWith(\"px\")){\n        value = value.substring(0,value.length-2)\n    }\n    return value\n}\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Style {\n\tconstructor(element) {\n\t\t//this.element = element;\n\t\tthis.styles = {};\n\t\tthis.value = \"\";\n\t}\n\tset cssText(cssText) {\n\t\tthis._cssText = cssText;\n\t}\n\n\tget cssText() {\n\t\treturn this._cssText;\n\t}\n\n\tsetProperty() {}\n\trun(key, value) {\n\t\treturn\n        if(!this.element){\n            return\n        }\n\t\tif(!this.element.wx_key){\n\t\t\treturn\n\t\t}\n\t\t/*\n\t\tfunction dict2string(dict) {\n\t\t  var string = \"\";\n\t\t  for (const key of Object.keys(dict)) {\n\t\t    string += `${String.fromHump(key)}:${dict[key]};`;\n\t\t  }\n\t\t  return string;\n\t\t}\n\t\tconst data = {};\n\t\tdata[`${this.element.wx_key}_style`] = dict2string(this.styles);*/\n\n\t\tconst data = {};\n\t\tthis.value += `${String.fromHump(key)}:${value};`;\n\t\tdata[`${this.element.wx_key}_style`] = this.value\n\t\t//\n\t\tif (!this.page) {\n\t\t\tconst pages = page.getCurrentPages();\n\t\t\tthis.page = pages[pages.length - 1];\n\t\t}\n\t\tif(!this.page){\n\t\t\treturn\n\t\t}\n\t\t//this.page.setData(data);\n\t}\n\tset display(value) {\n\t\t//this.styles.display = value;\n\t\tthis.run(\"display\", value);\n\t}\n\tset pointerEvents(value) {\n\t\t//this.styles.pointerEvents = value;\n\t\tthis.run(\"pointerEvents\", value);\n\t}\n\n\tset margin(value) {\n\t\t//this.styles.margin = value;\n\t\tthis.run(\"margin\", value);\n\t}\n\tset marginBottom(value) {\n\t\t//this.styles.marginBottom = value;\n\t\tthis.run(\"marginBottom\", value);\n\t}\n\tset marginTop(value) {\n\t\t//this.styles.marginTop = value;\n\t\tthis.run(\"marginTop\", value);\n\t}\n\tset marginLeft(value) {\n\t\t//this.styles.marginLeft = value;\n\t\tthis.run(\"marginLeft\", value);\n\t}\n\tset marginRight(value) {\n\t\t//this.styles.marginRight = value;\n\t\tthis.run(\"marginRight\", value);\n\t}\n\n\tset padding(value) {\n\t\t//this.styles.padding = value;\n\t\tthis.run(\"padding\", value);\n\t}\n\tset paddingBottom(value) {\n\t\t//this.styles.paddingBottom = value;\n\t\tthis.run(\"paddingBottom\", value);\n\t}\n\tset paddingTop(value) {\n\t\t//this.styles.paddingTop = value;\n\t\tthis.run(\"paddingTop\", value);\n\t}\n\tset paddingLeft(value) {\n\t\t//this.styles.paddingLeft = value;\n\t\tthis.run(\"paddingLeft\", value);\n\t}\n\tset paddingRight(value) {\n\t\t//this.styles.paddingRight = value;\n\t\tthis.run(\"paddingRight\", value);\n\t}\n\n\tset position(value) {\n\t\t//this.styles.position = value;\n\t\tthis.run(\"position\", value);\n\t}\n\tset backfaceVisibility(value) {\n\t\t//this.styles.backfaceVisibility = value;\n\t\tthis.run(\"backfaceVisibility\", value);\n\t}\n\tset transformStyle(value) {\n\t\t//this.styles.transformStyle = value;\n\t\tthis.run(\"transformStyle\", value);\n\t}\n\tset fontFamily(value) {\n\t\t//this.styles.fontFamily = value;\n\t\tthis.run(\"fontFamily\", value);\n\t}\n\tset fontSize(value) {\n\t\t//this.styles.fontSize = value;\n\t\tthis.run(\"fontSize\", value);\n\t}\n\tset fontStyle(value) {\n\t\t//this.styles.fontStyle = value;\n\t\tthis.run(\"fontStyle\", value);\n\t}\n\tset fontWeight(value) {\n\t\t//this.styles.fontWeight = value;\n\t\tthis.run(\"fontWeight\", value);\n\t}\n\tset letterSpacing(value) {\n\t\t//this.styles.letterSpacing = value;\n\t\tthis.run(\"letterSpacing\", value);\n\t}\n\tset color(value) {\n\t\t//this.styles.color = value;\n\t\tthis.run(\"color\", value);\n\t}\n\tset background(value) {\n\t\t//this.styles.background = value;\n\t\tthis.run(\"background\", value);\n\t}\n\tset backgroundColor(value) {\n\t\t//this.styles.backgroundColor = value;\n\t\tthis.run(\"backgroundColor\", value);\n\t}\n\tset touchAction(value) {\n\t\t//this.styles.touchAction = value;\n\t\tthis.run(\"touchAction\", value);\n\t}\n\tset visibility(value) {\n\t\t//this.styles.visibility = value;\n\t\tthis.run(\"visibility\", value);\n\t}\n\tset zoom(value) {\n\t\t//this.styles.zoom = value;\n\t\tthis.run(\"zoom\", value);\n\t}\n\tset userSelect(value) {\n\t\t//this.styles.userSelect = value;\n\t\tthis.run(\"userSelect\", value);\n\t}\n\tset overflow(value) {\n\t\t//this.styles.overflow = value;\n\t\tthis.run(\"overflow\", value);\n\t}\n\n\tset width(value0) {\n\t\tthis.run(\"width\", value0);\n\t}\n\tset height(value0) {\n\t\tthis.run(\"height\", value0);\n\t}\n\tset left(value0) {\n\t\tthis.run(\"left\", value0);\n\t}\n\tset right(value0) {\n\t\tthis.run(\"right\", value0);\n\t}\n\tset top(value0) {\n\t\tthis.run(\"top\", value0);\n\t}\n\tset bottom(value0) {\n\t\tthis.run(\"bottom\", value0);\n    }\n\n\n\tset opacity(value) {\n\t\t//this.styles.opacity = value;\n\t\tthis.run(\"opacity\", value);\n\t}\n\tset transform(value) {\n\t\t//this.styles.transform = value;\n\t\tthis.run(\"transform\", value);\n\t}\n\tset transformOrigin(value) {\n\t\t//this.styles.transformOrigin = value;\n\t\tthis.run(\"transformOrigin\", value);\n\t}\n};exports.default = Style\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class String {\n  static fromHump(s) {\n    return s.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n  }\n  static toHump(name) {\n    return name.replace(/\\-(\\w)/g, function (all, letter) {\n      console.log(all); //\"_T\"\n      console.log(letter); //\"T\"\n      return letter.toUpperCase();\n    });\n  }\n};exports.default = String\n","/* eslint-disable no-useless-constructor */\n/* eslint-disable class-methods-use-this */\nvar __TEMP__ = require('./Node');var Node = __REQUIRE_DEFAULT__(__TEMP__);\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Element extends Node {\n  constructor() {\n    super()\n  }\n};exports.default = Element\n","/* eslint-disable no-useless-constructor */\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Node extends EventTarget {\n  constructor() {\n    super()\n  }\n};exports.default = Node\n","/* eslint-disable class-methods-use-this */\n/* eslint-disable max-len */\nvar __TEMP__ = require('./core/ArrayX');var ArrayX = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Event');var Event = __REQUIRE_DEFAULT__(__TEMP__);\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class EventTarget {\n  constructor() {\n    this._all_event_handlers = {};\n  }\n\n  addEventListener (type, handler) {\n    if (!this._all_event_handlers[type]) {\n      this._all_event_handlers[type] = [];\n    }\n    this._all_event_handlers[type].push(handler);\n  }\n\n  removeEventListener (type, handler) {\n    this._all_event_handlers[type] = ArrayX.remove(\n      this._all_event_handlers[type],\n      handler\n    );\n  }\n\n  createEvent (type) {\n    return new Event(type);\n  }\n  dispatchEvent (e) {\n    setTimeout(() => {\n      var type = e.type;\n      /*switch (e.type) {\n        case \"touchstart\":\n          type = \"pointerdown\";\n          break;\n        case \"touchmove\":\n          type = \"pointermove\";\n         const prev_e = this._prev_e;\n          if (prev_e) {\n            if (\n              Math.abs(prev_e.clientX - e.clientX) < 5 &&\n              Math.abs(prev_e.clientY - e.clientY) < 5\n            ) {\n              return;\n            }\n          }\n          this._prev_e = e;\n          break;\n        case \"touchend\":\n          type = \"pointerup\";\n          break;\n        case \"touchcancel\":\n          type = \"pointercancel\";\n          break;\n        default:\n          break;\n      }*/\n      const Mobile2Web = {\n        \"touchcancel\": [\"pointercancel\"],\n        \"touchstart\": [\"pointerdown\"],\n        \"touchmove\": [\"pointermove\"],\n        \"touchend\": [\"pointerup\", \"click\"],\n        \"touchcancel\": [\"pointercancel\"],\n      }\n      var event_handlers = this._all_event_handlers[type] || [];\n      if (\n        event_handlers.length <= 0 &&\n        Object.keys(Mobile2Web).includes(type)) {\n        const types = Mobile2Web[type]\n        for (const t of types) {\n          const handlers = this._all_event_handlers[t]\n          if (handlers) {\n            event_handlers = event_handlers.concat(handlers)\n          }\n        }\n      }\n      for (var event_handler of event_handlers) {\n        event_handler.call(this, e);\n      }\n    }, 0);\n  }\n};exports.default = EventTarget\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = {\n  remove(array, item) {\n    const index = array.indexOf(item)\n    if (index > -1) {\n      array.splice(index, 1)\n    }\n    return array\n  }\n};\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Event {\n    \n    static fix(wx_e){\n        const web_e = new Event(wx_e.type)\n        web_e.button = null;\n        web_e.ctrlKey = false;\n        web_e.metaKey = false;\n        web_e.shiftKey = false;\n        web_e.code = \"\";\n        web_e.pointerType = \"touch\";\n        //\n        if(wx_e.changedTouches.length>0){\n            const touch = wx_e.changedTouches[0]\n            web_e.pointerId = touch.identifier || 2;\n            web_e.pageX = touch.x;\n            web_e.pageY = touch.y;\n            web_e.clientX = touch.x-wx_e.currentTarget.offsetLeft;\n            web_e.clientY = touch.y-wx_e.currentTarget.offsetTop;\n            //\n            web_e.offsetX = web_e.clientX;\n            web_e.offsetY = web_e.clientY;\n            web_e.deltaX = web_e.offsetX;\n            web_e.deltaY = web_e.offsetY;\n        }\n        return web_e\n    }\n    \n    //////////////////////////////////////////////////////////////\n\n    constructor(type, options) {\n        this.type = type\n        this.options = options\n    }\n    preventDefault() {\n\n    }\n};exports.default = Event\n","/* eslint-disable class-methods-use-this */\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class ClassCollection {\n  constructor(element){\n  //  this.element = element\n    this.classes = []\n  }\n  add(className) {\n   // this.element.wx_key = className\n  }\n\n  remove() {\n\n  }\n\n  toggle() {\n\n  }\n};exports.default = ClassCollection\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class CSSStyleDeclaration {\n  constructor() {\n    this.fill = ''\n    this['fill-opacity'] = ''\n    this['fill-rule'] = ''\n    this.opacity = ''\n    this.stroke = ''\n    this['stroke-opacity'] = ''\n    this['stroke-width'] = ''\n    this['stroke-linejoin'] = ''\n    this['stroke-linecap'] = ''\n    this['stroke-miterlimit'] = ''\n    this.visibility = ''\n  }\n\n  static parse(css) {\n    const style = new CSSStyleDeclaration()\n    const pairs = css.split(';')\n    for (const pair of pairs) {\n      if (!pair) {\n        continue\n      }\n      if (!pair.includes(':')) {\n        continue\n      }\n      const kv = pair.trim().split(':')\n      style[kv[0].trim()] = kv[1].trim()\n    }\n    return style\n  }\n};exports.default = CSSStyleDeclaration\n","var __TEMP__ = require('./HTMLImageElement');var HTMLImageElement = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./HTMLCanvasElement');var HTMLCanvasElement = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./window');var Window = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Location');var Location = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./HTMLElement');var HTMLElement = __REQUIRE_DEFAULT__(__TEMP__);\nconst window = new Window()\n\nclass Head extends HTMLElement {}\n\nclass Body extends HTMLElement {}\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Document extends HTMLElement {\n  constructor() {\n    super();\n    this.window = window;\n  }\n\n  get body() {\n    return new Body();\n  }\n\n  get head() {\n    return new Head();\n  }\n\n  async createElementAsync(nodeName, canvasType = \"2d\", THIS) {\n    switch (nodeName) {\n      case \"canvas\":\n        return new Promise((resolve) => {\n          var query = wx.createSelectorQuery();\n          if (THIS) {\n            query = query.in(THIS);\n          }\n          query\n            .select(`#canvas_${canvasType}`)\n            .fields({ node: true })\n            .exec((res) => {\n              const canvas = res[0].node;\n              resolve(canvasType==\"webgl\"?new HTMLCanvasElement(canvas):canvas);\n            });\n        });\n      default:\n        console.error(\"createElementAsync\", nodeName);\n        throw new Error(nodeName);\n    }\n  }\n\n  async getElementByIdAsync(id,canvasType=\"2d\",THIS) {\n    return new Promise((resolve) => {\n      const query = wx.createSelectorQuery();\n      if (THIS) {\n        query = query.in(THIS);\n      }\n      query\n        .select(`#${id}`)\n        .fields({ node: true })\n        .exec((res) => {\n            const canvas = res[0].node;\n            resolve(canvasType==\"webgl\"?new HTMLCanvasElement(canvas):canvas);\n        });\n    });\n  }\n\n  async getElementsByTagNameAsync(tagName,canvasType=\"2d\",THIS) {\n    return new Promise((resolve) => {\n      const query = wx.createSelectorQuery();\n      if (THIS) {\n        query = query.in(THIS);\n      }\n      query\n        .select(tagName)\n        .fields({ node: true })\n        .exec((res) => {\n            const canvas = res[0].node;\n            resolve(canvasType==\"webgl\"?new HTMLCanvasElement(canvas):canvas);\n        });\n    });\n  }\n\n  async getElementsByClassNameAsync(className,canvasType=\"2d\",THIS) {\n    return new Promise((resolve) => {\n      const query = wx.createSelectorQuery();\n      if (THIS) {\n        query = query.in(THIS);\n      }\n      query\n        .select(`.${className}`)\n        .fields({ node: true })\n        .exec((res) => {\n            const canvas = res[0].node;\n            resolve(canvasType==\"webgl\"?new HTMLCanvasElement(canvas):canvas);\n        });\n    });\n  }\n\n  createElement(nodeName, canvasType = \"2d\",canvas) {\n    switch (nodeName) {\n      case \"canvas\":\n       // if(canvasType==\"webgl\"){\n         return new HTMLCanvasElement(wx.createOffscreenCanvas({ type: canvasType }));\n        //}else{\n          //return new HTMLCanvasElement(wx.createOffscreenCanvas({ type: canvasType })); \n        //}\n      case \"img\":\n        return new HTMLImageElement(canvas);\n      default:\n        return new HTMLElement();\n    }\n  }\n\n  createElementNS(namesspace, nodeName, canvasType) {\n    return this.createElement(nodeName, canvasType);\n  }\n\n  get documentElement() {\n    return new HTMLElement();\n  }\n\n  getElementById() {\n    return new HTMLElement();\n  }\n\n  getElementsByTagName() {\n    return [];\n  }\n\n  getElementsByClassName() {\n    return [];\n  }\n\n  querySelector() {\n    return new HTMLElement();\n  }\n\n  get location() {\n    return new Location();\n  }\n\n  querySelectorAll() {\n    return [];\n  }\n};exports.default = Document\n","var __TEMP__ = require('./HTMLElement');var HTMLElement = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class HTMLCanvasElement extends HTMLElement {\n  constructor(wx_element) {\n    super();\n    this.wx_element = wx_element;\n  }\n  get width() {\n    return this.wx_element.width;\n  }\n  set width(width) {\n    this.wx_element.width = width;\n  }\n  get height() {\n    return this.wx_element.height;\n  }\n  set height(height) {\n    this.wx_element.height = height;\n  }\n  getContext(type, attrs) {\n    if (![\"2d\", \"webgl\"].includes(type)) {\n      return null;\n    }\n    return this.wx_element.getContext(type, attrs);\n  }\n  toDataURL( type,  encoderOptions){\n    return this.wx_element.toDataURL(type, encoderOptions); \n  }\n};exports.default = HTMLCanvasElement\n","/* eslint-disable no-undef */\n/* eslint-disable getter-return */\n/* eslint-disable class-methods-use-this */\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./URL');var URL = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Performance');var Performance = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Location');var Location = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./requestAnimationFrame');var requestAnimationFrame = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./cancelAnimationFrame');var cancelAnimationFrame = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./createImageBitmap');var createImageBitmap = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./HTMLImageElement');var HTMLImageElement = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./HTMLCanvasElement');var HTMLCanvasElement = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./ImageBitmap');var ImageBitmap = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Worker');var Worker = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./btoa');var btoa = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./AudioContext');var AudioContext = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./ImageData');var ImageData = __REQUIRE_DEFAULT__(__TEMP__);\n// ///////////////////////////////////////////////\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Window extends EventTarget {\n\n  get ImageData(){\n    return ImageData\n  }\n  get btoa() {\n    return btoa\n  }\n  get Int8Array() {\n    return Int8Array\n  }\n\n  get Uint8Array() {\n    return Uint8Array\n  }\n\n  get Uint8ClampedArray() {\n    return Uint8ClampedArray\n  }\n\n  get Int16Array() {\n    return Int16Array\n  }\n\n  get Uint16Array() {\n    return Uint16Array\n  }\n\n  get Int32Array() {\n    return Int32Array\n  }\n\n  get Uint32Array() {\n    return Uint32Array\n  }\n\n  get Float32Array() {\n    return Float32Array\n  }\n\n  get Float64Array() {\n    return Float64Array\n  }\n\n  get BigInt64Array() {\n    return BigInt64Array\n  }\n\n  get BigUint64Array() {\n    return BigUint64Array\n  }\n  // /////////////////\n\n  _getSystemInfoSync() {\n    if (!this.onekit_systemInfo) {\n      this.onekit_systemInfo = wx.getSystemInfoSync()\n    }\n  }\n\n  constructor() {\n    super()\n    this.URL = URL\n    this.AudioContext = AudioContext\n    this.performance = new Performance()\n\n    this.setTimeout = setTimeout\n    this.clearTimeout = clearTimeout\n    this.setInterval = setInterval\n    this.clearInterval = clearInterval\n  }\n  get HTMLImageElement() {\n    return HTMLImageElement\n  }\n  get HTMLCanvasElement() {\n    return HTMLCanvasElement\n  }\n  get ImageBitmap() {\n    return ImageBitmap\n  }\n  get devicePixelRatio() {\n    this._getSystemInfoSync()\n    return this.onekit_systemInfo.pixelRatio\n  }\n\n  get innerWidth() {\n    this._getSystemInfoSync()\n    return this.onekit_systemInfo.windowWidth\n  }\n\n  get innerHeight() {\n    this._getSystemInfoSync()\n    return this.onekit_systemInfo.windowHeight\n  }\n\n  get Math() {\n    return this.Math\n  }\n\n  get location() {\n    return new Location()\n  }\n\n  get requestAnimationFrame() {\n    return requestAnimationFrame\n  }\n\n  get cancelAnimationFrame() {\n    return cancelAnimationFrame\n  }\n\n  get createImageBitmap() {\n    return createImageBitmap\n  }\n\n  get localStorage() {\n    return localStorage\n  }\n\n  postMessage(json) {\n    return Worker.self_postMessage(json)\n  }\n  onmessage(msg) {\n    return Worker.self_onmessage(msg)\n  }\n};exports.default = Window\n","var __TEMP__ = require('./core/GUID');var GUID = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class URL {\n  static createObjectURL(blob) {\n    const guid = GUID();\n    const url = `blob:http://localhost/${guid}`;\n    try {\n  const page = Page.current\nif(!page.DataURL){\n    page.DataURL = {}\n}\npage.DataURL[url] = blob\n    } catch (ex) {\n      console.error(ex);\n    }\n    return url;\n  }\n\n  static revokeObjectURL(url) {\n    try {\n        delete  Page.current.DataURL[url]\n    } catch (ex) {\n      console.error(ex);\n    }\n  }\n};exports.default = URL\n","/* eslint-disable no-mixed-operators */\n/* eslint-disable no-bitwise */\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function GUID() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = Math.random() * 16 | 0; const\n      v = c === 'x' ? r : (r & 0x3 | 0x8)\n    return v.toString(16)\n  })\n};exports.default = GUID\n","/* eslint-disable class-methods-use-this */\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Performance {\n  constructor() {\n    this.wx_performance = wx.getPerformance();\n  }\n  now() {\n    return this.wx_performance.now();\n  }\n};exports.default = Performance\n","/* eslint-disable class-methods-use-this */\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Location {\n  constructor() {\n    this.hash = ''\n    this.search = ''\n    this.href = ''\n  }\n};exports.default = Location\n","var __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function requestAnimationFrame(callback,canvas=Page.current.canvas) {\n  if(!canvas){\n    return\n  }\n  if(canvas && canvas.wx_element){\n    canvas = canvas.wx_element\n  }\n  const requestId = canvas.requestAnimationFrame(callback)\n  return requestId\n};exports.default = requestAnimationFrame\n","var __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function cancelAnimationFrame(requestId,canvas=Page.current.canvas) {\n\ttry {\n\t\tif(!canvas){\n\t\t\treturn\n\t\t  }\n\t\tif (!requestId) {\n\t\t\treturn\n\t\t}\n\t\tif (canvas && canvas.wx_element) {\n\t\t\tcanvas = canvas.wx_element\n\t\t}\n\t\tcanvas.cancelAnimationFrame(requestId)\n\t} catch (ex) {\n\t\tconsole.error(ex)\n\t}\n};exports.default = cancelAnimationFrame\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class ImageBitmap {\n  constructor(wx_element) {\n    this.wx_element = wx_element;\n  }\n  get width() {\n    return this.wx_element.width;\n  }\n  get height() {\n    return this.wx_element.height;\n  }\n  get data() {\n    return this.wx_element.data;\n  }\n};exports.default = ImageBitmap\n","/* eslint-disable camelcase */\n/* eslint-disable no-console */\n/* eslint-disable no-tabs */\n/* eslint-disable no-case-declarations */\n/* eslint-disable complexity */\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\nfunction json2message(json) {\n  if (json == null) {\n    return null;\n  }\n  if (json instanceof ArrayBuffer) {\n    return {\n      t: \"ArrayBuffer\",\n      v: json,\n    };\n  }\n  if (json instanceof Int8Array) {\n    return {\n      t: \"Int8Array\",\n      v: json.buffer,\n    };\n  }\n  if (json instanceof Uint8Array) {\n    return {\n      t: \"Uint8Array\",\n      v: json.buffer,\n    };\n  }\n  if (json instanceof Uint8ClampedArray) {\n    return {\n      t: \"Uint8ClampedArray\",\n      v: json.buffer,\n    };\n  }\n  if (json instanceof Int16Array) {\n    return {\n      t: \"Int16Array\",\n      v: json.buffer,\n    };\n  }\n  if (json instanceof Uint16Array) {\n    return {\n      t: \"Uint16Array\",\n      v: json.buffer,\n    };\n  }\n  if (json instanceof Int32Array) {\n    return {\n      t: \"Int32Array\",\n      v: json.buffer,\n    };\n  }\n  if (json instanceof Uint32Array) {\n    return {\n      t: \"Uint32Array\",\n      v: json.buffer,\n    };\n  }\n  if (json instanceof Uint32Array) {\n    return {\n      t: \"Uint32Array\",\n      v: json.buffer,\n    };\n  }\n  if (json instanceof Float32Array) {\n    return {\n      t: \"Float32Array\",\n      v: json.buffer,\n    };\n  }\n  if (json instanceof Float64Array) {\n    return {\n      t: \"Float64Array\",\n      v: json.buffer,\n    };\n  }\n  if (json instanceof Array) {\n    return {\n      t: \"Array\",\n      v: json.map((item) => json2message(item)),\n    };\n  }\n  if (typeof json === \"boolean\") {\n    return {\n      t: \"Boolean\",\n      v: json,\n    };\n  }\n  if (typeof json === \"number\") {\n    return {\n      t: \"Number\",\n      v: json,\n    };\n  }\n  if (typeof json === \"string\") {\n    return {\n      t: \"String\",\n      v: json,\n    };\n  }\n  const dict = {};\n  for (const key of Object.keys(json)) {\n    dict[key] = json2message(json[key]);\n  }\n  return {\n    t: \"Dict\",\n    v: dict,\n  };\n}\n\nfunction message2json(message) {\n  if (message == null) {\n    return null;\n  }\n  const value = message.v;\n  switch (message.t) {\n    case \"ArrayBuffer\":\n      return value;\n    case \"Int8Array\":\n      return new Int8Array(value);\n    case \"Uint8Array\":\n      return new Uint8Array(value);\n    case \"Uint8ClampedArray\":\n      return new Uint8ClampedArray(value);\n    case \"Int16Array\":\n      return new Int16Array(value);\n    case \"Uint16Array\":\n      return new Uint16Array(value);\n    case \"Int32Array\":\n      return new Int32Array(value);\n    case \"Uint32Array\":\n      return new Uint32Array(value);\n    case \"Float32Array\":\n      return new Float32Array(value);\n    case \"Float64Array\":\n      return new Float64Array(value);\n\n    case \"Array\":\n      return value.map((item) => message2json(item));\n    case \"Boolean\":\n    case \"String\":\n    case \"Number\":\n      return value;\n    case \"Dict\":\n      const dict = {};\n      for (const key of Object.keys(value)) {\n        dict[key] = message2json(value[key]);\n      }\n      return dict;\n    default:\n      throw new Error(message.t);\n  }\n}\n/*\nfunction json2message(json) {\n  if (json == null) {\n    return null\n  }\n  if (json instanceof ArrayBuffer) {\n    return {\n      t: 'ArrayBuffer',\n      v: Array.prototype.slice.call(new Uint8Array(json))\n    }\n  }\n  if (json instanceof Int8Array) {\n    return {\n      t: 'Int8Array',\n      v: Array.prototype.slice.call(json)\n    }\n  }\n  if (json instanceof Uint8Array) {\n    return {\n      t: 'Uint8Array',\n      v: Array.prototype.slice.call(json)\n    }\n  }\n  if (json instanceof Uint8ClampedArray) {\n    return {\n      t: 'Uint8ClampedArray',\n      v: Array.prototype.slice.call(json)\n    }\n  }\n  if (json instanceof Int16Array) {\n    return {\n      t: 'Int16Array',\n      v: Array.prototype.slice.call(json)\n    }\n  }\n  if (json instanceof Uint16Array) {\n    return {\n      t: 'Uint16Array',\n      v: Array.prototype.slice.call(json)\n    }\n  }\n  if (json instanceof Int32Array) {\n    return {\n      t: 'Int32Array',\n      v: Array.prototype.slice.call(json)\n    }\n  }\n  if (json instanceof Uint32Array) {\n    return {\n      t: 'Uint32Array',\n      v: Array.prototype.slice.call(json)\n    }\n  }\n  if (json instanceof Uint32Array) {\n    return {\n      t: 'Uint32Array',\n      v: Array.prototype.slice.call(json)\n    }\n  }\n  if (json instanceof Float32Array) {\n    return {\n      t: 'Float32Array',\n      v: Array.prototype.slice.call(json)\n    }\n  }\n  if (json instanceof Float64Array) {\n    return {\n      t: 'Float64Array',\n      v: Array.prototype.slice.call(json)\n    }\n  }\n  if (json instanceof Array) {\n    return {\n      t: 'Array',\n      v: json.map(item => json2message(item))\n    }\n  }\n  if (typeof json === 'boolean') {\n    return {\n      t: 'Boolean',\n      v: json\n    }\n  }\n  if (typeof json === 'number') {\n    return {\n      t: 'Number',\n      v: json\n    }\n  }\n  if (typeof json === 'string') {\n    return {\n      t: 'String',\n      v: json\n    }\n  }\n  const dict = {}\n  for (const key of Object.keys(json)) {\n    dict[key] = json2message(json[key])\n  }\n  return {\n    t: 'Dict',\n    v: dict\n  }\n}\n\nfunction message2json(message) {\n  if (message == null) {\n    return null\n  }\n  const value = message.v\n  switch (message.t) {\n    case 'ArrayBuffer':\n      return new Uint8Array(value).buffer\n    case 'Int8Array':\n      return new Int8Array(value)\n    case 'Uint8Array':\n      return new Uint8Array(value)\n    case 'Uint8ClampedArray':\n      return new Uint8ClampedArray(value)\n    case 'Int16Array':\n      return new Int16Array(value)\n    case 'Uint16Array':\n      return new Uint16Array(value)\n    case 'Int32Array':\n      return new Int32Array(value)\n    case 'Uint32Array':\n      return new Uint32Array(value)\n    case 'Float32Array':\n      return new Float32Array(value)\n    case 'Float64Array':\n      return new Float64Array(value)\n\n    case 'Array':\n      return value.map(item => message2json(item))\n    case 'Boolean':\n    case 'String':\n    case 'Number':\n      return value\n    case 'Dict':\n      const dict = {}\n      for (const key of Object.keys(value)) {\n        dict[key] = message2json(value[key])\n      }\n      return dict\n    default:\n      throw new Error(message.t)\n  }\n}\n*/\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Worker extends EventTarget {\n  static self_onmessage(msg) {\n    return { data: message2json(msg) };\n  }\n\n  static self_postMessage(json) {\n    return worker.postMessage(json2message(json));\n  }\n  // /////////////////\n  constructor(url) {\n    super();\n\t\tconst onekit_debug = Page.getApp().onekit_debug\n    if (onekit_debug) {\n      console[onekit_debug](\"[Worker]\", url);\n    }\n    const createNewWorker = () => {\n      const worker = wx.createWorker(\"workers/\" + url, {\n        useExperimentalWorker: true,\n      });\n      worker.onMessage((msg) => {\n        if (this.onmessage) {\n          this.onmessage({\n            data: message2json(msg),\n          });\n        }\n        if (this._all_event_handlers.message) {\n          this._all_event_handlers.message.forEach((handler) => {\n            handler.apply(this);\n          });\n        }\n      });\n      // 监听 worker 被系统回收事件\n      worker.onProcessKilled(() => {\n        // 重新创建一个worker\n        createNewWorker();\n      });\n      this._worker = worker;\n    };\n    createNewWorker();\n  }\n\n  postMessage(json) {\n    const message = json2message(json);\n    // console.error(message)\n    this._worker.postMessage(message);\n  }\n\n  terminate() {\n    this._worker.terminate();\n  }\n};exports.default = Worker\n","class Gain {\n    constructor(wx_gain) {\n        this.wx_gain = wx_gain\n    }\n    connect() {\n\n    }\n}\nclass BufferSource {\n    constructor(wx_source) {\n        this.wx_source = wx_source\n    }\n    get playbackRate(){\n        return this.wx_source.playbackRate\n    }\n    set buffer(buffer){\n        this.wx_source.buffer = buffer\n    }\n    set loop(loop){\n        this.wx_source.loop = loop\n    }\n    set loopStart(loopStart){\n        this.wx_source.loopStart = loopStart\n    }\n    set loopEnd(loopEnd){\n        this.wx_source.loopEnd = loopEnd\n    }\n    set onended(onended){\n        this.wx_source.onended = onended\n    }\n    start(when, offset, duration){\n        this.wx_source.start(  when, offset, duration)\n    }\n    stop(){\n        this.wx_source.stop( )\n    }\n    connect(data){\n        this.wx_source.connect( data)\n    }\n}\nclass Panner {\n    constructor(wx_panner) {\n        this.wx_panner = wx_panner\n    }\n    set panningModel(panningModel) {\n        this.wx_panner.panningModel = panningModel\n    }\n    connect(gain) {\n      //  this.wx_panner.connct(gain.wx_gain)\n    }\n}\nclass Listener {\n    constructor() {\n    }\n    get positionX() {\n        return 0;\n    }\n    get positionY() {\n        return 0;\n    }\n    setPosition(){\n\n    }\n    setOrientation (){\n        \n    }\n}\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class AudioContext {\n    constructor() {\n        this.wx_context = wx.createWebAudioContext()\n    }\n    createBufferSource() {\n        return new BufferSource(this.wx_context.createBufferSource())\n    }\n    createPanner() {\n        return new Panner(this.wx_context.createPanner())\n    }   \n    get listener() {\n        return new Listener()\n    }\n    get currentTime() {\n        return this.wx_context.currentTime\n    }\n    get destination() {\n        return this.wx_context.destination\n    }\n    createGain() {\n        return new Gain(this.wx_context.createGain())\n    }\n    createMediaElementSource(mediaElement) {\n\n    }\n    createMediaStreamSource(mediaStream) {\n\n    }\n    decodeAudioData(arrayBuffer, successCallback, errorCallback) {\n        this.wx_context.decodeAudioData(arrayBuffer, buffer => {\n            successCallback(buffer)\n        }, err => {\n            errorCallback(err)\n        })\n    }\n};exports.default = AudioContext","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class ImageData{\n    constructor(array,width,height){\n        this.array=array\n        this.width=width\n        this.height=height\n    }\n};exports.default = ImageData","var __TEMP__ = require('./Response');var Response = __REQUIRE_DEFAULT__(__TEMP__);\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function fetch(request) {\n  return new Promise((resolve) => {\n    resolve(new Response(null, {status: 200}, request))\n  })\n};exports.default = fetch\n","/* eslint-disable handle-callback-err */\n/* eslint-disable no-console */\nvar __TEMP__ = require('./core/Base64');var Base64 = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Blob');var Blob = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Response {\n\tconstructor(body, options = {}, request) {\n\t\tif (!request) {\n\t\t\tthis.body = body\n\t\t\tthis.status = options.status\n\t\t\tthis.statusText = options.statusText\n\t\t\tthis.headers = options.headers\n\t\t}\n\t\tif (typeof request == \"string\") {\n\t\t\tthis.request = {\n\t\t\t\turl: request\n\t\t\t}\n\t\t} else {\n\t\t\tthis.request = request\n\t\t}\n\t\tthis.status = 200\n\t}\n\n\t_run(responseType, dataType = 'text') {\n\t\tconst onekit_debug = Page.getApp().onekit_debug\n\t\tif (onekit_debug) {\n\t\t\tconsole[onekit_debug]('[fetch]', this.request.url, responseType, dataType)\n\t\t}\n\t\tvar url = this.request.url\n\t\tif (url.endsWith('.js')) {\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tresolve(url)\n\t\t\t})\n\t\t}\n\t\tif (url.startsWith('data:')) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst BASE64 = 'base64,'\n\t\t\t\t\tconst url = url.substring(url.indexOf(BASE64) + BASE64.length)\n\t\t\t\t\tresolve(Base64.base64ToArrayBuffer(url))\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tconsole.error(ex)\n\t\t\t\t\treject(ex)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tif (url.startsWith('blob:')) {\n\t\t\treturn new Promise((resolve,reject) => {\n\t\t\t\ttry {\n\t\t\t\t\tconst arrayBuffer = Page.current.DataURL[url].array[0]\n\t\t\t\t\tresolve(arrayBuffer)\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tconsole.error(ex);\n\t\t\t\t\treject(ex)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tif (url.startsWith(\"./\")) {\n\t\t\turl = url.substring(2)\n\t\t}\n\t\tif (!url.startsWith(\"blob:\") &&\n\t\t\t!url.startsWith(\"data:\") &&\n\t\t\t!url.startsWith(\"http://\") &&\n\t\t\t!url.startsWith(\"https://\")) {\n\t\t\turl = (Page.getApp().onekit_path || \"\") + url\n\t\t}\n\n\t\t// /////////////////////////\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tPage.wx_request({\n\t\t\t\turl,\n\t\t\t\theaders: ((this.request.options || {}).headers || {}).data || {},\n\t\t\t\tresponseType,\n\t\t\t\tdataType,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tresolve(res.data)\n\t\t\t\t},\n\t\t\t\tfail: (e) => {\n\t\t\t\t\tconsole.error('[fetch.fail]', this.request.url, e)\n\t\t\t\t\t// eslint-disable-next-line prefer-promise-reject-errors\n\t\t\t\t\treject(null)\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\tarrayBuffer() {\n\t\treturn this._run('arraybuffer', 'arraybuffer')\n\t}\n\n\tblob() {\n\t\treturn new Promise((callback, reject) => {\n\n\t\t\tthis._run('arraybuffer', 'blob').then(data => {\n\t\t\t\tcallback(new Blob([data]));\n\t\t\t}).catch((e) => {\n\t\t\t\tconsole.error(e)\n\t\t\t\treject(e.message)\n\t\t\t})\n\n\t\t})\n\t}\n\n\ttext() {\n\t\treturn this._run('text')\n\t}\n\n\tjson() {\n\t\treturn this._run('text', 'json')\n\t}\n};exports.default = Response\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Headers {\n  constructor(data) {\n    this.data = data\n  }\n};exports.default = Headers\n","class Navigator {\n  constructor() {\n    const systemInfo = wx.getSystemInfoSync()\n    this.userAgent = \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36\";\n    this.platform = systemInfo.platform;\n    this.mediaDevices = {\n      getUserMedia() {\n        return new Promise((resolve) => {\n          resolve();\n        });\n      },\n    };\n  }\n}\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = new Navigator();\n","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Request {\n  constructor(url, options = {}) {\n    this.url = url\n    this.options = options\n  }\n};exports.default = Request\n","module.exports = {\n  compile: WXWebAssembly.compile,\n\n  compileStreaming: WXWebAssembly.compileStreaming,\n\n  instantiate: WXWebAssembly.instantiate,\n\n  instantiateStreaming: WXWebAssembly.compileStreaming,\n\n  validate: WXWebAssembly.validate || function() { return true },\n\n  Module: WXWebAssembly.Module,\n\n  Global: WXWebAssembly.Global,\n\n  Instance: WXWebAssembly.Instance,\n\n  Memory: WXWebAssembly.Memory,\n\n  Table: WXWebAssembly.Table,\n\n  Tag: WXWebAssembly.Tag,\n\n  CompileError: Error,\n\n  LinkError: Error,\n\n  RuntimeError: Error,\n\n  Exception: Error\n}\n","/* eslint-disable camelcase */\nvar __TEMP__ = require('./EventTarget');var EventTarget = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./core/Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\n\nfunction run(cb, wx_object) {\n\treturn new Promise((resolve, reject) => {\n\t\twx_object.success = resolve;\n\t\twx_object.fail = reject;\n\t\tcb(Page.wx_request(wx_object));\n\t});\n}\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class XMLHttpRequest extends EventTarget {\n\tconstructor() {\n\t\tsuper();\n\t\tthis._responseType = \"text\";\n\t}\n\n\topen(method, url, async = true, user, password) {\n\t\tthis._method = method;\n\t\tthis._url = url;\n\t\tthis._async = async;\n\t\tthis._user = user;\n\t\tthis._password = password;\n\t}\n\n\tasync send(body) {\n\t\tconst callback = (res) => {\n\t\t\tthis._response = res.data;\n\t\t\tif (this._responseType === \"text\") {\n\t\t\t\tthis._responseText = this._response;\n\t\t\t}\n\t\t\tif (this.onload) {\n\t\t\t\tthis.onload.apply(this);\n\t\t\t}\n\t\t\tif (this._all_event_handlers.load) {\n\t\t\t\tthis._all_event_handlers.load.forEach((handler) => {\n\t\t\t\t\thandler.apply(this);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\tvar url = this._url\n\t\tif (url.startsWith('data:')) {\n\t\t\ttry {\n\t\t\t\tconst BASE64 = 'base64,'\n\t\t\t\t url = url.substring(url.indexOf(BASE64) + BASE64.length)\n\t\t\t\tconst data = Base64.base64ToArrayBuffer(url)\n\t\t\t\tcallback.call(this, {data});\n\t\t\t} catch (ex) {\n\t\t\t\tconsole.error(ex);\n\t\t\t}\n\t\t\treturn\n\t\t}\n\t\tif (url.startsWith('blob:')) {\n\t\t\ttry {\n\t\t\t\tconst data = Page.current.DataURL[url].array[0]\n\t\t\t\tcallback.call(this, {data});\n\t\t\t} catch (ex) {\n\t\t\t\tconsole.error(ex);\n\t\t\t}\n\t\t\treturn\n\t\t}\n\t\tif (url.startsWith(\"./\")) {\n\t\t\turl = url.substring(2)\n\t\t}\n\t\tif (!url.startsWith(\"blob:\") &&\n\t\t\t!url.startsWith(\"data:\") &&\n\t\t\t!url.startsWith(\"http://\") &&\n\t\t\t!url.startsWith(\"https://\")) {\n\t\t\turl = (Page.getApp().onekit_path || \"\") + url\n\t\t}\n\t\tconst wx_object = {\n\t\t\turl,\n\t\t\tdataType: \"text\",\n\t\t\tresponseType: this._responseType,\n\t\t\tmethod: this._method,\n\t\t\tdata: body,\n\t\t};\n\t\tif (this._async) {\n\t\t\twx_object.success = (res) => {\n\t\t\t\tcallback.call(this, res);\n\t\t\t};\n\t\t\twx_object.fail = console.error\n\t\t\tthis._task = Page.wx_request(wx_object);\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tconst res = await run((task) => {\n\t\t\t\t\tthis._task = task;\n\t\t\t\t}, wx_object);\n\t\t\t\tcallback.call(this, res);\n\t\t\t} catch (ex) {\n\t\t\t\tconsole.error(ex);\n\t\t\t}\n\t\t}\n\t}\n\n\tset responseType(responseType) {\n\t\tthis._responseType = responseType;\n\t}\n\n\tget responseType() {\n\t\treturn this._responseType;\n\t}\n\n\tget status() {\n\t\treturn this.response.status;\n\t}\n\n\tget response() {\n\t\treturn this._response;\n\t}\n\n\tget responseText() {\n\t\treturn this._responseText;\n\t}\n\n\tset onload(onload) {\n\t\tthis._onload = onload;\n\t}\n\n\tget onload() {\n\t\treturn this._onload;\n\t}\n\n\tset onerror(onerror) {\n\t\tthis._onerror = onerror;\n\t}\n\n\tget onerror() {\n\t\treturn this._onerror;\n\t}\n};exports.default = XMLHttpRequest\n","/* eslint-disable */\nfunction DOMParser(options) {\n  this.options = options || {locator: {}}\n}\n\nDOMParser.prototype.parseFromString = function(source, mimeType) {\n  const options = this.options\n  const sax = new XMLReader()\n  const domBuilder = options.domBuilder || new DOMHandler()// contentHandler and LexicalHandler\n  const errorHandler = options.errorHandler\n  const locator = options.locator\n  const defaultNSMap = options.xmlns || {}\n  const isHTML = /\\/x?html?$/.test(mimeType)// mimeType.toLowerCase().indexOf('html') > -1;\n  \tconst entityMap = isHTML ? htmlEntity.entityMap : {\n    lt: '<', gt: '>', amp: '&', quot: '\"', apos: \"'\"\n  }\n  if (locator) {\n    domBuilder.setDocumentLocator(locator)\n  }\n\n  sax.errorHandler = buildErrorHandler(errorHandler, domBuilder, locator)\n  sax.domBuilder = options.domBuilder || domBuilder\n  if (isHTML) {\n    defaultNSMap[''] = 'http://www.w3.org/1999/xhtml'\n  }\n  defaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace'\n  if (source) {\n    sax.parse(source, defaultNSMap, entityMap)\n  } else {\n    sax.errorHandler.error('invalid doc source')\n  }\n  return domBuilder.doc\n}\nfunction buildErrorHandler(errorImpl, domBuilder, locator) {\n  if (!errorImpl) {\n    if (domBuilder instanceof DOMHandler) {\n      return domBuilder\n    }\n    errorImpl = domBuilder\n  }\n  const errorHandler = {}\n  const isCallback = errorImpl instanceof Function\n  locator = locator || {}\n  function build(key) {\n    let fn = errorImpl[key]\n    if (!fn && isCallback) {\n      fn = errorImpl.length == 2 ? function(msg) { errorImpl(key, msg) } : errorImpl\n    }\n    errorHandler[key] = fn && function(msg) {\n      fn('[xmldom ' + key + ']\\t' + msg + _locator(locator))\n    } || function() {}\n  }\n  build('warning')\n  build('error')\n  build('fatalError')\n  return errorHandler\n}\n\n// console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n  this.cdata = false\n}\nfunction position(locator, node) {\n  node.lineNumber = locator.lineNumber\n  node.columnNumber = locator.columnNumber\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n  startDocument() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null)\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId\n    \t}\n  },\n  startElement(namespaceURI, localName, qName, attrs) {\n    const doc = this.doc\n\t    const el = doc.createElementNS(namespaceURI, qName || localName)\n\t    const len = attrs.length\n\t    appendElement(this, el)\n\t    this.currentElement = el\n\n    this.locator && position(this.locator, el)\n\t    for (let i = 0; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i)\n\t        const value = attrs.getValue(i)\n\t        var qName = attrs.getQName(i)\n      const attr = doc.createAttributeNS(namespaceURI, qName)\n      this.locator && position(attrs.getLocator(i), attr)\n      attr.value = attr.nodeValue = value\n      el.setAttributeNode(attr)\n\t    }\n  },\n  endElement(namespaceURI, localName, qName) {\n    const current = this.currentElement\n    const tagName = current.tagName\n    this.currentElement = current.parentNode\n  },\n  startPrefixMapping(prefix, uri) {\n  },\n  endPrefixMapping(prefix) {\n  },\n  processingInstruction(target, data) {\n\t    const ins = this.doc.createProcessingInstruction(target, data)\n\t    this.locator && position(this.locator, ins)\n\t    appendElement(this, ins)\n  },\n  ignorableWhitespace(ch, start, length) {\n  },\n  characters(chars, start, length) {\n    chars = _toString.apply(this, arguments)\n    // console.log(chars)\n    if (chars) {\n      if (this.cdata) {\n        var charNode = this.doc.createCDATASection(chars)\n      } else {\n        var charNode = this.doc.createTextNode(chars)\n      }\n      if (this.currentElement) {\n        this.currentElement.appendChild(charNode)\n      } else if (/^\\s*$/.test(chars)) {\n        this.doc.appendChild(charNode)\n        // process xml\n      }\n      this.locator && position(this.locator, charNode)\n    }\n  },\n  skippedEntity(name) {\n  },\n  endDocument() {\n    this.doc.normalize()\n  },\n  setDocumentLocator (locator) {\n\t    if (this.locator = locator) { // && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0\n\t    }\n  },\n  // LexicalHandler\n  comment(chars, start, length) {\n    chars = _toString.apply(this, arguments)\n\t    const comm = this.doc.createComment(chars)\n\t    this.locator && position(this.locator, comm)\n\t    appendElement(this, comm)\n  },\n\n  startCDATA() {\n\t    // used in characters() methods\n\t    this.cdata = true\n  },\n  endCDATA() {\n\t    this.cdata = false\n  },\n\n  startDTD(name, publicId, systemId) {\n    const impl = this.doc.implementation\n\t    if (impl && impl.createDocumentType) {\n\t        const dt = impl.createDocumentType(name, publicId, systemId)\n\t        this.locator && position(this.locator, dt)\n\t        appendElement(this, dt)\n\t    }\n  },\n  /**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n  warning(error) {\n    console.warn('[xmldom warning]\\t' + error, _locator(this.locator))\n  },\n  error(error) {\n    console.error('[xmldom error]\\t' + error, _locator(this.locator))\n  },\n  fatalError(error) {\n    console.error('[xmldom fatalError]\\t' + error, _locator(this.locator))\n\t    throw error\n  }\n}\nfunction _locator(l) {\n  if (l) {\n    return '\\n@' + (l.systemId || '') + '#[line:' + l.lineNumber + ',col:' + l.columnNumber + ']'\n  }\n}\nfunction _toString(chars, start, length) {\n  if (typeof chars === 'string') {\n    return chars.substr(start, length)\n  } else { // java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n    if (chars.length >= start + length || start) {\n      return new java.lang.String(chars, start, length) + ''\n    }\n    return chars\n  }\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n'endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl'.replace(/\\w+/g, function(key) {\n  DOMHandler.prototype[key] = function() { return null }\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander, node) {\n  if (!hander.currentElement) {\n    hander.doc.appendChild(node)\n  } else {\n    hander.currentElement.appendChild(node)\n  }\n}// appendChild and setAttributeNS are preformance key\n\n// if(typeof require == 'function'){\nvar htmlEntity = require('./entities')\nvar XMLReader = require('./sax').XMLReader\nvar DOMImplementation = exports.DOMImplementation = require('./dom').DOMImplementation\nexports.XMLSerializer = require('./dom').XMLSerializer\n\nexports.DOMParser = DOMParser\n// }\n","exports.entityMap = {\n  lt: '<',\n  gt: '>',\n  amp: '&',\n  quot: '\"',\n  apos: \"'\",\n  Agrave: 'À',\n  Aacute: 'Á',\n  Acirc: 'Â',\n  Atilde: 'Ã',\n  Auml: 'Ä',\n  Aring: 'Å',\n  AElig: 'Æ',\n  Ccedil: 'Ç',\n  Egrave: 'È',\n  Eacute: 'É',\n  Ecirc: 'Ê',\n  Euml: 'Ë',\n  Igrave: 'Ì',\n  Iacute: 'Í',\n  Icirc: 'Î',\n  Iuml: 'Ï',\n  ETH: 'Ð',\n  Ntilde: 'Ñ',\n  Ograve: 'Ò',\n  Oacute: 'Ó',\n  Ocirc: 'Ô',\n  Otilde: 'Õ',\n  Ouml: 'Ö',\n  Oslash: 'Ø',\n  Ugrave: 'Ù',\n  Uacute: 'Ú',\n  Ucirc: 'Û',\n  Uuml: 'Ü',\n  Yacute: 'Ý',\n  THORN: 'Þ',\n  szlig: 'ß',\n  agrave: 'à',\n  aacute: 'á',\n  acirc: 'â',\n  atilde: 'ã',\n  auml: 'ä',\n  aring: 'å',\n  aelig: 'æ',\n  ccedil: 'ç',\n  egrave: 'è',\n  eacute: 'é',\n  ecirc: 'ê',\n  euml: 'ë',\n  igrave: 'ì',\n  iacute: 'í',\n  icirc: 'î',\n  iuml: 'ï',\n  eth: 'ð',\n  ntilde: 'ñ',\n  ograve: 'ò',\n  oacute: 'ó',\n  ocirc: 'ô',\n  otilde: 'õ',\n  ouml: 'ö',\n  oslash: 'ø',\n  ugrave: 'ù',\n  uacute: 'ú',\n  ucirc: 'û',\n  uuml: 'ü',\n  yacute: 'ý',\n  thorn: 'þ',\n  yuml: 'ÿ',\n  nbsp: ' ',\n  iexcl: '¡',\n  cent: '¢',\n  pound: '£',\n  curren: '¤',\n  yen: '¥',\n  brvbar: '¦',\n  sect: '§',\n  uml: '¨',\n  copy: '©',\n  ordf: 'ª',\n  laquo: '«',\n  not: '¬',\n  shy: '­­',\n  reg: '®',\n  macr: '¯',\n  deg: '°',\n  plusmn: '±',\n  sup2: '²',\n  sup3: '³',\n  acute: '´',\n  micro: 'µ',\n  para: '¶',\n  middot: '·',\n  cedil: '¸',\n  sup1: '¹',\n  ordm: 'º',\n  raquo: '»',\n  frac14: '¼',\n  frac12: '½',\n  frac34: '¾',\n  iquest: '¿',\n  times: '×',\n  divide: '÷',\n  forall: '∀',\n  part: '∂',\n  exist: '∃',\n  empty: '∅',\n  nabla: '∇',\n  isin: '∈',\n  notin: '∉',\n  ni: '∋',\n  prod: '∏',\n  sum: '∑',\n  minus: '−',\n  lowast: '∗',\n  radic: '√',\n  prop: '∝',\n  infin: '∞',\n  ang: '∠',\n  and: '∧',\n  or: '∨',\n  cap: '∩',\n  cup: '∪',\n  int: '∫',\n  there4: '∴',\n  sim: '∼',\n  cong: '≅',\n  asymp: '≈',\n  ne: '≠',\n  equiv: '≡',\n  le: '≤',\n  ge: '≥',\n  sub: '⊂',\n  sup: '⊃',\n  nsub: '⊄',\n  sube: '⊆',\n  supe: '⊇',\n  oplus: '⊕',\n  otimes: '⊗',\n  perp: '⊥',\n  sdot: '⋅',\n  Alpha: 'Α',\n  Beta: 'Β',\n  Gamma: 'Γ',\n  Delta: 'Δ',\n  Epsilon: 'Ε',\n  Zeta: 'Ζ',\n  Eta: 'Η',\n  Theta: 'Θ',\n  Iota: 'Ι',\n  Kappa: 'Κ',\n  Lambda: 'Λ',\n  Mu: 'Μ',\n  Nu: 'Ν',\n  Xi: 'Ξ',\n  Omicron: 'Ο',\n  Pi: 'Π',\n  Rho: 'Ρ',\n  Sigma: 'Σ',\n  Tau: 'Τ',\n  Upsilon: 'Υ',\n  Phi: 'Φ',\n  Chi: 'Χ',\n  Psi: 'Ψ',\n  Omega: 'Ω',\n  alpha: 'α',\n  beta: 'β',\n  gamma: 'γ',\n  delta: 'δ',\n  epsilon: 'ε',\n  zeta: 'ζ',\n  eta: 'η',\n  theta: 'θ',\n  iota: 'ι',\n  kappa: 'κ',\n  lambda: 'λ',\n  mu: 'μ',\n  nu: 'ν',\n  xi: 'ξ',\n  omicron: 'ο',\n  pi: 'π',\n  rho: 'ρ',\n  sigmaf: 'ς',\n  sigma: 'σ',\n  tau: 'τ',\n  upsilon: 'υ',\n  phi: 'φ',\n  chi: 'χ',\n  psi: 'ψ',\n  omega: 'ω',\n  thetasym: 'ϑ',\n  upsih: 'ϒ',\n  piv: 'ϖ',\n  OElig: 'Œ',\n  oelig: 'œ',\n  Scaron: 'Š',\n  scaron: 'š',\n  Yuml: 'Ÿ',\n  fnof: 'ƒ',\n  circ: 'ˆ',\n  tilde: '˜',\n  ensp: ' ',\n  emsp: ' ',\n  thinsp: ' ',\n  zwnj: '‌',\n  zwj: '‍',\n  lrm: '‎',\n  rlm: '‏',\n  ndash: '–',\n  mdash: '—',\n  lsquo: '‘',\n  rsquo: '’',\n  sbquo: '‚',\n  ldquo: '“',\n  rdquo: '”',\n  bdquo: '„',\n  dagger: '†',\n  Dagger: '‡',\n  bull: '•',\n  hellip: '…',\n  permil: '‰',\n  prime: '′',\n  Prime: '″',\n  lsaquo: '‹',\n  rsaquo: '›',\n  oline: '‾',\n  euro: '€',\n  trade: '™',\n  larr: '←',\n  uarr: '↑',\n  rarr: '→',\n  darr: '↓',\n  harr: '↔',\n  crarr: '↵',\n  lceil: '⌈',\n  rceil: '⌉',\n  lfloor: '⌊',\n  rfloor: '⌋',\n  loz: '◊',\n  spades: '♠',\n  clubs: '♣',\n  hearts: '♥',\n  diams: '♦'\n}\n// for(var  n in exports.entityMap){console.log(exports.entityMap[n].charCodeAt())}\n","/* eslint-disable */\n// [4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n// [4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n// [5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nconst nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/// \\u10000-\\uEFFFF\nconst nameChar = new RegExp('[\\\\-\\\\.0-9' + nameStartChar.source.slice(1, -1) + '\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]')\nconst tagNamePattern = new RegExp('^' + nameStartChar.source + nameChar.source + '*(?:\\:' + nameStartChar.source + nameChar.source + '*)?$')\n// var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n// var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n// S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n// S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nconst S_TAG = 0// tag name offerring\nconst S_ATTR = 1// attr name offerring\nconst S_ATTR_SPACE = 2// attr name end and space offer\nconst S_EQ = 3//= space?\nconst S_ATTR_NOQUOT_VALUE = 4// attr value(no quot value only)\nconst S_ATTR_END = 5// attr value end and no space(quot end)\nconst S_TAG_SPACE = 6// (attr value end || tag end ) && (space offer)\nconst S_TAG_CLOSE = 7// closed el<el />\n\nfunction XMLReader() {\n\n}\n\nXMLReader.prototype = {\n  parse(source, defaultNSMap, entityMap) {\n    const domBuilder = this.domBuilder\n    domBuilder.startDocument()\n    _copy(defaultNSMap, defaultNSMap = {})\n    parse(source, defaultNSMap, entityMap,\n      domBuilder, this.errorHandler)\n    domBuilder.endDocument()\n  }\n}\nfunction parse(source, defaultNSMapCopy, entityMap, domBuilder, errorHandler) {\n  function fixedFromCharCode(code) {\n    // String.prototype.fromCharCode does not supports\n    // > 2 bytes unicode chars directly\n    if (code > 0xffff) {\n      code -= 0x10000\n      const surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t const surrogate2 = 0xdc00 + (code & 0x3ff)\n\n      return String.fromCharCode(surrogate1, surrogate2)\n    } else {\n      return String.fromCharCode(code)\n    }\n  }\n  function entityReplacer(a) {\n    const k = a.slice(1, -1)\n    if (k in entityMap) {\n      return entityMap[k]\n    } else if (k.charAt(0) === '#') {\n      return fixedFromCharCode(parseInt(k.substr(1).replace('x', '0x')))\n    } else {\n      errorHandler.error('entity not found:' + a)\n      return a\n    }\n  }\n  function appendText(end) { // has some bugs\n    if (end > start) {\n      const xt = source.substring(start, end).replace(/&#?\\w+;/g, entityReplacer)\n      locator && position(start)\n      domBuilder.characters(xt, 0, end - start)\n      start = end\n    }\n  }\n  function position(p, m) {\n    while (p >= lineEnd && (m = linePattern.exec(source))) {\n      lineStart = m.index\n      lineEnd = lineStart + m[0].length\n      locator.lineNumber++\n      // console.log('line++:',locator,startPos,endPos)\n    }\n    locator.columnNumber = p - lineStart + 1\n  }\n  var lineStart = 0\n  var lineEnd = 0\n  var linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n  var locator = domBuilder.locator\n\n  const parseStack = [{currentNSMap: defaultNSMapCopy}]\n  const closeMap = {}\n  var start = 0\n  while (true) {\n    try {\n      var tagStart = source.indexOf('<', start)\n      if (tagStart < 0) {\n        if (!source.substr(start).match(/^\\s*$/)) {\n          const doc = domBuilder.doc\n\t    \t\t\tconst text = doc.createTextNode(source.substr(start))\n\t    \t\t\tdoc.appendChild(text)\n\t    \t\t\tdomBuilder.currentElement = text\n        }\n        return\n      }\n      if (tagStart > start) {\n        appendText(tagStart)\n      }\n      switch (source.charAt(tagStart + 1)) {\n        case '/':\n          var end = source.indexOf('>', tagStart + 3)\n          var tagName = source.substring(tagStart + 2, end)\n          var config = parseStack.pop()\n          if (end < 0) {\n\t        \t\ttagName = source.substring(tagStart + 2).replace(/[\\s<].*/, '')\n\t        \t\t// console.error('#@@@@@@'+tagName)\n\t        \t\terrorHandler.error('end tag name: ' + tagName + ' is not complete:' + config.tagName)\n\t        \t\tend = tagStart + 1 + tagName.length\n\t        \t} else if (tagName.match(/\\s</)) {\n\t        \t\ttagName = tagName.replace(/[\\s<].*/, '')\n\t        \t\terrorHandler.error('end tag name: ' + tagName + ' maybe not complete')\n\t        \t\tend = tagStart + 1 + tagName.length\n          }\n          // console.error(parseStack.length,parseStack)\n          // console.error(config);\n          var localNSMap = config.localNSMap\n          var endMatch = config.tagName == tagName\n          var endIgnoreCaseMach = endMatch || config.tagName && config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if (endIgnoreCaseMach) {\n\t\t        \tdomBuilder.endElement(config.uri, config.localName, tagName)\n            if (localNSMap) {\n              for (const prefix in localNSMap) {\n                domBuilder.endPrefixMapping(prefix)\n              }\n            }\n            if (!endMatch) {\n\t\t            \terrorHandler.fatalError('end tag name: ' + tagName + ' is not match the current start tagName:' + config.tagName)\n            }\n\t\t        } else {\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n          end++\n          break\n          // end elment\n        case '?':// <?...?>\n          locator && position(tagStart)\n          end = parseInstruction(source, tagStart, domBuilder)\n          break\n        case '!':// <!doctype,<![CDATA,<!--\n          locator && position(tagStart)\n          end = parseDCC(source, tagStart, domBuilder, errorHandler)\n          break\n        default:\n          locator && position(tagStart)\n          var el = new ElementAttributes()\n          var currentNSMap = parseStack[parseStack.length - 1].currentNSMap\n          // elStartEnd\n          var end = parseElementStartPart(source, tagStart, el, currentNSMap, entityReplacer, errorHandler)\n          var len = el.length\n\n\n          if (!el.closed && fixSelfClosed(source, end, el.tagName, closeMap)) {\n            el.closed = true\n            if (!entityMap.nbsp) {\n              errorHandler.warning('unclosed xml attribute')\n            }\n          }\n          if (locator && len) {\n            const locator2 = copyLocator(locator, {})\n            // try{//attribute position fixed\n            for (let i = 0; i < len; i++) {\n              const a = el[i]\n              position(a.offset)\n              a.locator = copyLocator(locator, {})\n            }\n            // }catch(e){console.error('@@@@@'+e)}\n            domBuilder.locator = locator2\n            if (appendElement(el, domBuilder, currentNSMap)) {\n              parseStack.push(el)\n            }\n            domBuilder.locator = locator\n          } else if (appendElement(el, domBuilder, currentNSMap)) {\n            parseStack.push(el)\n          }\n\n\n          if (el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed) {\n            end = parseHtmlSpecialContent(source, end, el.tagName, entityReplacer, domBuilder)\n          } else {\n            end++\n          }\n      }\n    } catch (e) {\n      errorHandler.error('element parse error: ' + e)\n      // errorHandler.error('element parse error: '+e);\n      end = -1\n      // throw e;\n    }\n    if (end > start) {\n      start = end\n    } else {\n      // TODO: 这里有可能sax回退，有位置错误风险\n      appendText(Math.max(tagStart, start) + 1)\n    }\n  }\n}\nfunction copyLocator(f, t) {\n  t.lineNumber = f.lineNumber\n  t.columnNumber = f.columnNumber\n  return t\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source, start, el, currentNSMap, entityReplacer, errorHandler) {\n  let attrName\n  var value\n  let p = ++start\n  let s = S_TAG// status\n  while (true) {\n    let c = source.charAt(p)\n    switch (c) {\n      case '=':\n        if (s === S_ATTR) { // attrName\n          attrName = source.slice(start, p)\n          s = S_EQ\n        } else if (s === S_ATTR_SPACE) {\n          s = S_EQ\n        } else {\n          // fatalError: equal must after attrName or space after attrName\n          throw new Error('attribute equal must after attrName')\n        }\n        break\n      case '\\'':\n      case '\"':\n        if (s === S_EQ || s === S_ATTR // || s == S_ATTR_SPACE\n        ) { // equal\n          if (s === S_ATTR) {\n            errorHandler.warning('attribute value must after \"=\"')\n            attrName = source.slice(start, p)\n          }\n          start = p + 1\n          p = source.indexOf(c, start)\n          if (p > 0) {\n            value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer)\n            el.add(attrName, value, start - 1)\n            s = S_ATTR_END\n          } else {\n            // fatalError: no end quot match\n            throw new Error('attribute value no end \\'' + c + '\\' match')\n          }\n        } else if (s == S_ATTR_NOQUOT_VALUE) {\n          value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer)\n          // console.log(attrName,value,start,p)\n          el.add(attrName, value, start)\n          // console.dir(el)\n          errorHandler.warning('attribute \"' + attrName + '\" missed start quot(' + c + ')!!')\n          start = p + 1\n          s = S_ATTR_END\n        } else {\n          // fatalError: no equal before\n          throw new Error('attribute value must after \"=\"')\n        }\n        break\n      case '/':\n        switch (s) {\n          case S_TAG:\n            el.setTagName(source.slice(start, p))\n          case S_ATTR_END:\n          case S_TAG_SPACE:\n          case S_TAG_CLOSE:\n            s = S_TAG_CLOSE\n            el.closed = true\n          case S_ATTR_NOQUOT_VALUE:\n          case S_ATTR:\n          case S_ATTR_SPACE:\n            break\n            // case S_EQ:\n          default:\n            throw new Error(\"attribute invalid close char('/')\")\n        }\n        break\n      case '':// end document\n        // throw new Error('unexpected end of input')\n        errorHandler.error('unexpected end of input')\n        if (s == S_TAG) {\n          el.setTagName(source.slice(start, p))\n        }\n        return p\n      case '>':\n        switch (s) {\n          case S_TAG:\n            el.setTagName(source.slice(start, p))\n          case S_ATTR_END:\n          case S_TAG_SPACE:\n          case S_TAG_CLOSE:\n            break// normal\n          case S_ATTR_NOQUOT_VALUE:// Compatible state\n          case S_ATTR:\n            value = source.slice(start, p)\n            if (value.slice(-1) === '/') {\n              el.closed = true\n              value = value.slice(0, -1)\n            }\n          case S_ATTR_SPACE:\n            if (s === S_ATTR_SPACE) {\n              value = attrName\n            }\n            if (s == S_ATTR_NOQUOT_VALUE) {\n              errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!')\n              el.add(attrName, value.replace(/&#?\\w+;/g, entityReplacer), start)\n            } else {\n              if (currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)) {\n                errorHandler.warning('attribute \"' + value + '\" missed value!! \"' + value + '\" instead!!')\n              }\n              el.add(value, value, start)\n            }\n            break\n          case S_EQ:\n            throw new Error('attribute value missed!!')\n        }\n        //\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n        return p\n        /* xml space '\\x20' | #x9 | #xD | #xA; */\n      case '\\u0080':\n        c = ' '\n      default:\n        if (c <= ' ') { // space\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p))// tagName\n              s = S_TAG_SPACE\n              break\n            case S_ATTR:\n              attrName = source.slice(start, p)\n              s = S_ATTR_SPACE\n              break\n            case S_ATTR_NOQUOT_VALUE:\n              var value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer)\n              errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!')\n              el.add(attrName, value, start)\n            case S_ATTR_END:\n              s = S_TAG_SPACE\n              break\n\t\t\t\t// case S_TAG_SPACE:\n\t\t\t\t// case S_EQ:\n\t\t\t\t// case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t// case S_TAG_CLOSE:\n\t\t\t\t\t// ignore warning\n          }\n        } else { // not space\n          // S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n          // S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n          switch (s) {\n            // case S_TAG:void();break;\n            // case S_ATTR:void();break;\n            // case S_ATTR_NOQUOT_VALUE:void();break;\n            case S_ATTR_SPACE:\n              var tagName = el.tagName\n              if (currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n                errorHandler.warning('attribute \"' + attrName + '\" missed value!! \"' + attrName + '\" instead2!!')\n              }\n              el.add(attrName, attrName, start)\n              start = p\n              s = S_ATTR\n              break\n            case S_ATTR_END:\n              errorHandler.warning('attribute space is required\"' + attrName + '\"!!')\n            case S_TAG_SPACE:\n              s = S_ATTR\n              start = p\n              break\n            case S_EQ:\n              s = S_ATTR_NOQUOT_VALUE\n              start = p\n              break\n            case S_TAG_CLOSE:\n              throw new Error(\"elements closed character '/' and '>' must be connected to\")\n          }\n        }\n    }// end outer switch\n    // console.log('p++',p)\n    p++\n  }\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el, domBuilder, currentNSMap) {\n  const tagName = el.tagName\n  let localNSMap = null\n  // var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n  var i = el.length\n  while (i--) {\n    var a = el[i]\n    const qName = a.qName\n    const value = a.value\n    var nsp = qName.indexOf(':')\n    if (nsp > 0) {\n      var prefix = a.prefix = qName.slice(0, nsp)\n      var localName = qName.slice(nsp + 1)\n      var nsPrefix = prefix === 'xmlns' && localName\n    } else {\n      localName = qName\n      prefix = null\n      nsPrefix = qName === 'xmlns' && ''\n    }\n    // can not set prefix,because prefix !== ''\n    a.localName = localName\n    // prefix == null for no ns prefix attribute\n    if (nsPrefix !== false) { // hack!!\n      if (localNSMap == null) {\n        localNSMap = {}\n        // console.log(currentNSMap,0)\n        _copy(currentNSMap, currentNSMap = {})\n        // console.log(currentNSMap,1)\n      }\n      currentNSMap[nsPrefix] = localNSMap[nsPrefix] = value\n      a.uri = 'http://www.w3.org/2000/xmlns/'\n      domBuilder.startPrefixMapping(nsPrefix, value)\n    }\n  }\n  var i = el.length\n  while (i--) {\n    a = el[i]\n    var prefix = a.prefix\n    if (prefix) { // no prefix attribute has no namespace\n      if (prefix === 'xml') {\n        a.uri = 'http://www.w3.org/XML/1998/namespace'\n      } if (prefix !== 'xmlns') {\n        a.uri = currentNSMap[prefix || '']\n\n        // {console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n      }\n    }\n  }\n  var nsp = tagName.indexOf(':')\n  if (nsp > 0) {\n    prefix = el.prefix = tagName.slice(0, nsp)\n    localName = el.localName = tagName.slice(nsp + 1)\n  } else {\n    prefix = null// important!!\n    localName = el.localName = tagName\n  }\n  // no prefix element has default namespace\n  const ns = el.uri = currentNSMap[prefix || '']\n  domBuilder.startElement(ns, localName, tagName, el)\n  // endPrefixMapping and startPrefixMapping have not any help for dom builder\n  // localNSMap = null\n  if (el.closed) {\n    domBuilder.endElement(ns, localName, tagName)\n    if (localNSMap) {\n      for (prefix in localNSMap) {\n        domBuilder.endPrefixMapping(prefix)\n      }\n    }\n  } else {\n    el.currentNSMap = currentNSMap\n    el.localNSMap = localNSMap\n    // parseStack.push(el);\n    return true\n  }\n}\nfunction parseHtmlSpecialContent(source, elStartEnd, tagName, entityReplacer, domBuilder) {\n  if (/^(?:script|textarea)$/i.test(tagName)) {\n    const elEndStart = source.indexOf('</' + tagName + '>', elStartEnd)\n    let text = source.substring(elStartEnd + 1, elEndStart)\n    if (/[&<]/.test(text)) {\n      if (/^script$/i.test(tagName)) {\n        // if(!/\\]\\]>/.test(text)){\n        // lexHandler.startCDATA();\n        domBuilder.characters(text, 0, text.length)\n        // lexHandler.endCDATA();\n        return elEndStart\n        // }\n      }// }else{//text area\n      text = text.replace(/&#?\\w+;/g, entityReplacer)\n      domBuilder.characters(text, 0, text.length)\n      return elEndStart\n      // }\n    }\n  }\n  return elStartEnd + 1\n}\nfunction fixSelfClosed(source, elStartEnd, tagName, closeMap) {\n  // if(tagName in closeMap){\n  let pos = closeMap[tagName]\n  if (pos == null) {\n    // console.log(tagName)\n    pos = source.lastIndexOf('</' + tagName + '>')\n    if (pos < elStartEnd) { // 忘记闭合\n      pos = source.lastIndexOf('</' + tagName)\n    }\n    closeMap[tagName] = pos\n  }\n  return pos < elStartEnd\n  // }\n}\nfunction _copy(source, target) {\n  for (const n in source) { target[n] = source[n] }\n}\nfunction parseDCC(source, start, domBuilder, errorHandler) { // sure start with '<!'\n  const next = source.charAt(start + 2)\n  switch (next) {\n    case '-':\n      if (source.charAt(start + 3) === '-') {\n        var end = source.indexOf('-->', start + 4)\n        // append comment source.substring(4,end)//<!--\n        if (end > start) {\n          domBuilder.comment(source, start + 4, end - start - 4)\n          return end + 3\n        } else {\n          errorHandler.error('Unclosed comment')\n          return -1\n        }\n      } else {\n        // error\n        return -1\n      }\n    default:\n      if (source.substr(start + 3, 6) == 'CDATA[') {\n        var end = source.indexOf(']]>', start + 9)\n        domBuilder.startCDATA()\n        domBuilder.characters(source, start + 9, end - start - 9)\n        domBuilder.endCDATA()\n        return end + 3\n      }\n      // <!DOCTYPE\n      // startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n      var matchs = split(source, start)\n      var len = matchs.length\n      if (len > 1 && /!doctype/i.test(matchs[0][0])) {\n        const name = matchs[1][0]\n        const pubid = len > 3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\n        const sysid = len > 4 && matchs[4][0]\n        const lastMatch = matchs[len - 1]\n        domBuilder.startDTD(name, pubid && pubid.replace(/^(['\"])(.*?)\\1$/, '$2'),\n          sysid && sysid.replace(/^(['\"])(.*?)\\1$/, '$2'))\n        domBuilder.endDTD()\n\n        return lastMatch.index + lastMatch[0].length\n      }\n  }\n  return -1\n}\n\n\nfunction parseInstruction(source, start, domBuilder) {\n  const end = source.indexOf('?>', start)\n  if (end) {\n    const match = source.substring(start, end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/)\n    if (match) {\n      const len = match[0].length\n      domBuilder.processingInstruction(match[1], match[2])\n      return end + 2\n    } else { // error\n      return -1\n    }\n  }\n  return -1\n}\n\n/**\n * @param source\n */\nfunction ElementAttributes(source) {\n\n}\nElementAttributes.prototype = {\n  setTagName(tagName) {\n    if (!tagNamePattern.test(tagName)) {\n      throw new Error('invalid tagName:' + tagName)\n    }\n    this.tagName = tagName\n  },\n  add(qName, value, offset) {\n    if (!tagNamePattern.test(qName)) {\n      throw new Error('invalid attribute:' + qName)\n    }\n    this[this.length++] = {qName, value, offset}\n  },\n  length: 0,\n  getLocalName(i) { return this[i].localName },\n  getLocator(i) { return this[i].locator },\n  getQName(i) { return this[i].qName },\n  getURI(i) { return this[i].uri },\n  getValue(i) { return this[i].value }\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\nfunction split(source, start) {\n  let match\n  const buf = []\n  const reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g\n  reg.lastIndex = start\n  reg.exec(source)// skip <\n  while (match = reg.exec(source)) {\n    buf.push(match)\n    if (match[1]) return buf\n  }\n}\n\nexports.XMLReader = XMLReader\n","/* eslint-disable */\n/*\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n */\nvar __TEMP__ = require('../../CSSStyleDeclaration');var CSSStyleDeclaration = __REQUIRE_DEFAULT__(__TEMP__);\nfunction copy(src, dest) {\n  for (const p in src) {\n    dest[p] = src[p]\n  }\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class, Super) {\n  let pt = Class.prototype\n  if (!(pt instanceof Super)) {\n    function t() { }\n    t.prototype = Super.prototype\n    t = new t()\n    copy(pt, t)\n    Class.prototype = pt = t\n  }\n  if (pt.constructor != Class) {\n    if (typeof Class !== 'function') {\n      console.error('unknow Class:' + Class)\n    }\n    pt.constructor = Class\n  }\n}\nconst htmlns = 'http://www.w3.org/1999/xhtml'\n// Node Types\nconst NodeType = {}\nconst ELEMENT_NODE = NodeType.ELEMENT_NODE = 1\nconst ATTRIBUTE_NODE = NodeType.ATTRIBUTE_NODE = 2\nconst TEXT_NODE = NodeType.TEXT_NODE = 3\nconst CDATA_SECTION_NODE = NodeType.CDATA_SECTION_NODE = 4\nconst ENTITY_REFERENCE_NODE = NodeType.ENTITY_REFERENCE_NODE = 5\nconst ENTITY_NODE = NodeType.ENTITY_NODE = 6\nconst PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7\nconst COMMENT_NODE = NodeType.COMMENT_NODE = 8\nconst DOCUMENT_NODE = NodeType.DOCUMENT_NODE = 9\nconst DOCUMENT_TYPE_NODE = NodeType.DOCUMENT_TYPE_NODE = 10\nconst DOCUMENT_FRAGMENT_NODE = NodeType.DOCUMENT_FRAGMENT_NODE = 11\nconst NOTATION_NODE = NodeType.NOTATION_NODE = 12\n\n// ExceptionCode\nconst ExceptionCode = {}\nconst ExceptionMessage = {}\nconst INDEX_SIZE_ERR = ExceptionCode.INDEX_SIZE_ERR = ((ExceptionMessage[1] = 'Index size error'), 1)\nconst DOMSTRING_SIZE_ERR = ExceptionCode.DOMSTRING_SIZE_ERR = ((ExceptionMessage[2] = 'DOMString size error'), 2)\nconst HIERARCHY_REQUEST_ERR = ExceptionCode.HIERARCHY_REQUEST_ERR = ((ExceptionMessage[3] = 'Hierarchy request error'), 3)\nconst WRONG_DOCUMENT_ERR = ExceptionCode.WRONG_DOCUMENT_ERR = ((ExceptionMessage[4] = 'Wrong document'), 4)\nconst INVALID_CHARACTER_ERR = ExceptionCode.INVALID_CHARACTER_ERR = ((ExceptionMessage[5] = 'Invalid character'), 5)\nconst NO_DATA_ALLOWED_ERR = ExceptionCode.NO_DATA_ALLOWED_ERR = ((ExceptionMessage[6] = 'No data allowed'), 6)\nconst NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7] = 'No modification allowed'), 7)\nconst NOT_FOUND_ERR = ExceptionCode.NOT_FOUND_ERR = ((ExceptionMessage[8] = 'Not found'), 8)\nconst NOT_SUPPORTED_ERR = ExceptionCode.NOT_SUPPORTED_ERR = ((ExceptionMessage[9] = 'Not supported'), 9)\nconst INUSE_ATTRIBUTE_ERR = ExceptionCode.INUSE_ATTRIBUTE_ERR = ((ExceptionMessage[10] = 'Attribute in use'), 10)\n// level2\nconst INVALID_STATE_ERR = ExceptionCode.INVALID_STATE_ERR = ((ExceptionMessage[11] = 'Invalid state'), 11)\nconst SYNTAX_ERR = ExceptionCode.SYNTAX_ERR = ((ExceptionMessage[12] = 'Syntax error'), 12)\nconst INVALID_MODIFICATION_ERR = ExceptionCode.INVALID_MODIFICATION_ERR = ((ExceptionMessage[13] = 'Invalid modification'), 13)\nconst NAMESPACE_ERR = ExceptionCode.NAMESPACE_ERR = ((ExceptionMessage[14] = 'Invalid namespace'), 14)\nconst INVALID_ACCESS_ERR = ExceptionCode.INVALID_ACCESS_ERR = ((ExceptionMessage[15] = 'Invalid access'), 15)\n\n\nfunction DOMException(code, message) {\n  if (message instanceof Error) {\n    var error = message\n  } else {\n    error = this\n    Error.call(this, ExceptionMessage[code])\n    this.message = ExceptionMessage[code]\n    if (Error.captureStackTrace) Error.captureStackTrace(this, DOMException)\n  }\n  error.code = code\n  if (message) this.message = this.message + ': ' + message\n  return error\n}\nDOMException.prototype = Error.prototype\ncopy(ExceptionCode, DOMException)\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n}\nNodeList.prototype = {\n  /**\n   * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n   * @standard level1\n   */\n  length: 0,\n  /**\n   * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n   * @standard level1\n   * @param index  unsigned long\n   *   Index into the collection.\n   * @return Node\n   * \tThe node at the indexth position in the NodeList, or null if that is not a valid index.\n   */\n  item(index) {\n    return this[index] || null\n  },\n  toString(isHTML, nodeFilter) {\n    for (var buf = [], i = 0; i < this.length; i++) {\n      serializeToString(this[i], buf, isHTML, nodeFilter)\n    }\n    return buf.join('')\n  }\n}\nfunction LiveNodeList(node, refresh) {\n  this._node = node\n  this._refresh = refresh\n  _updateLiveList(this)\n}\nfunction _updateLiveList(list) {\n  const inc = list._node._inc || list._node.ownerDocument._inc\n  if (list._inc != inc) {\n    const ls = list._refresh(list._node)\n    // console.log(ls.length)\n    __set__(list, 'length', ls.length)\n    copy(ls, list)\n    list._inc = inc\n  }\n}\nLiveNodeList.prototype.item = function (i) {\n  _updateLiveList(this)\n  return this[i]\n}\n\n_extends(LiveNodeList, NodeList)\n\nfunction NamedNodeMap() {\n}\n\nfunction _findNodeIndex(list, node) {\n  let i = list.length\n  while (i--) {\n    if (list[i] === node) { return i }\n  }\n}\n\nfunction _addNamedNode(el, list, newAttr, oldAttr) {\n  if (oldAttr) {\n    list[_findNodeIndex(list, oldAttr)] = newAttr\n  } else {\n    list[list.length++] = newAttr\n  }\n  if (el) {\n    newAttr.ownerElement = el\n    const doc = el.ownerDocument\n    if (doc) {\n      oldAttr && _onRemoveAttribute(doc, el, oldAttr)\n      _onAddAttribute(doc, el, newAttr)\n    }\n  }\n}\nfunction _removeNamedNode(el, list, attr) {\n  // console.log('remove attr:'+attr)\n  let i = _findNodeIndex(list, attr)\n  if (i >= 0) {\n    const lastIndex = list.length - 1\n    while (i < lastIndex) {\n      list[i] = list[++i]\n    }\n    list.length = lastIndex\n    if (el) {\n      const doc = el.ownerDocument\n      if (doc) {\n        _onRemoveAttribute(doc, el, attr)\n        attr.ownerElement = null\n      }\n    }\n  } else {\n    throw DOMException(NOT_FOUND_ERR, new Error(el.tagName + '@' + attr))\n  }\n}\nNamedNodeMap.prototype = {\n  length: 0,\n  item: NodeList.prototype.item,\n  getNamedItem(key) {\n    //\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n    //\t\t\treturn null;\n    //\t\t}\n    // console.log()\n    let i = this.length\n    while (i--) {\n      const attr = this[i]\n      // console.log(attr.nodeName,key)\n      if (attr.nodeName == key) {\n        return attr\n      }\n    }\n  },\n  setNamedItem(attr) {\n    const el = attr.ownerElement\n    if (el && el != this._ownerElement) {\n      throw new DOMException(INUSE_ATTRIBUTE_ERR)\n    }\n    const oldAttr = this.getNamedItem(attr.nodeName)\n    _addNamedNode(this._ownerElement, this, attr, oldAttr)\n    return oldAttr\n  },\n  /* returns Node */\n  setNamedItemNS(attr) { // raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n    const el = attr.ownerElement; let\n      oldAttr\n    if (el && el != this._ownerElement) {\n      throw new DOMException(INUSE_ATTRIBUTE_ERR)\n    }\n    oldAttr = this.getNamedItemNS(attr.namespaceURI, attr.localName)\n    _addNamedNode(this._ownerElement, this, attr, oldAttr)\n    return oldAttr\n  },\n\n  /* returns Node */\n  removeNamedItem(key) {\n    const attr = this.getNamedItem(key)\n    _removeNamedNode(this._ownerElement, this, attr)\n    return attr\n  }, // raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\n  // for level2\n  removeNamedItemNS(namespaceURI, localName) {\n    const attr = this.getNamedItemNS(namespaceURI, localName)\n    _removeNamedNode(this._ownerElement, this, attr)\n    return attr\n  },\n  getNamedItemNS(namespaceURI, localName) {\n    let i = this.length\n    while (i--) {\n      const node = this[i]\n      if (node.localName == localName && node.namespaceURI == namespaceURI) {\n        return node\n      }\n    }\n    return null\n  }\n}\n/**\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\n */\nfunction DOMImplementation(/* Object */ features) {\n  this._features = {}\n  if (features) {\n    for (const feature in features) {\n      this._features = features[feature]\n    }\n  }\n}\n\nDOMImplementation.prototype = {\n  hasFeature(/* string */ feature, /* string */ version) {\n    const versions = this._features[feature.toLowerCase()]\n    if (versions && (!version || version in versions)) {\n      return true\n    } else {\n      return false\n    }\n  },\n  // Introduced in DOM Level 2:\n  createDocument(namespaceURI, qualifiedName, doctype) { // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n    const doc = new Document()\n    doc.implementation = this\n    doc.childNodes = new NodeList()\n    doc.doctype = doctype\n    if (doctype) {\n      doc.appendChild(doctype)\n    }\n    if (qualifiedName) {\n      const root = doc.createElementNS(namespaceURI, qualifiedName)\n      doc.appendChild(root)\n    }\n    return doc\n  },\n  // Introduced in DOM Level 2:\n  createDocumentType(qualifiedName, publicId, systemId) { // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n    const node = new DocumentType()\n    node.name = qualifiedName\n    node.nodeName = qualifiedName\n    node.publicId = publicId\n    node.systemId = systemId\n    // Introduced in DOM Level 2:\n    // readonly attribute DOMString        internalSubset;\n\n    // TODO:..\n    //  readonly attribute NamedNodeMap     entities;\n    //  readonly attribute NamedNodeMap     notations;\n    return node\n  }\n}\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n}\n\nNode.prototype = {\n  firstChild: null,\n  lastChild: null,\n  previousSibling: null,\n  nextSibling: null,\n  attributes: null,\n  parentNode: null,\n  childNodes: null,\n  ownerDocument: null,\n  nodeValue: null,\n  namespaceURI: null,\n  prefix: null,\n  localName: null,\n  // Modified in DOM Level 2:\n  insertBefore(newChild, refChild) { // raises\n    return _insertBefore(this, newChild, refChild)\n  },\n  replaceChild(newChild, oldChild) { // raises\n    this.insertBefore(newChild, oldChild)\n    if (oldChild) {\n      this.removeChild(oldChild)\n    }\n  },\n  removeChild(oldChild) {\n    return _removeChild(this, oldChild)\n  },\n  appendChild(newChild) {\n    return this.insertBefore(newChild, null)\n  },\n  hasChildNodes() {\n    return this.firstChild != null\n  },\n  cloneNode(deep) {\n    return cloneNode(this.ownerDocument || this, this, deep)\n  },\n  // Modified in DOM Level 2:\n  normalize() {\n    let child = this.firstChild\n    while (child) {\n      const next = child.nextSibling\n      if (next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE) {\n        this.removeChild(next)\n        child.appendData(next.data)\n      } else {\n        child.normalize()\n        child = next\n      }\n    }\n  },\n  // Introduced in DOM Level 2:\n  isSupported(feature, version) {\n    return this.ownerDocument.implementation.hasFeature(feature, version)\n  },\n  // Introduced in DOM Level 2:\n  hasAttributes() {\n    return this.attributes.length > 0\n  },\n  lookupPrefix(namespaceURI) {\n    let el = this\n    while (el) {\n      const map = el._nsMap\n      // console.dir(map)\n      if (map) {\n        for (const n in map) {\n          if (map[n] == namespaceURI) {\n            return n\n          }\n        }\n      }\n      el = el.nodeType == ATTRIBUTE_NODE ? el.ownerDocument : el.parentNode\n    }\n    return null\n  },\n  // Introduced in DOM Level 3:\n  lookupNamespaceURI(prefix) {\n    let el = this\n    while (el) {\n      const map = el._nsMap\n      // console.dir(map)\n      if (map) {\n        if (prefix in map) {\n          return map[prefix]\n        }\n      }\n      el = el.nodeType == ATTRIBUTE_NODE ? el.ownerDocument : el.parentNode\n    }\n    return null\n  },\n  // Introduced in DOM Level 3:\n  isDefaultNamespace(namespaceURI) {\n    const prefix = this.lookupPrefix(namespaceURI)\n    return prefix == null\n  }\n}\n\n\nfunction _xmlEncoder(c) {\n  return c == '<' && '&lt;' ||\n    c == '>' && '&gt;' ||\n    c == '&' && '&amp;' ||\n    c == '\"' && '&quot;' ||\n    '&#' + c.charCodeAt() + ';'\n}\n\n\ncopy(NodeType, Node)\ncopy(NodeType, Node.prototype)\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node, callback) {\n  if (callback(node)) {\n    return true\n  }\n  if (node = node.firstChild) {\n    do {\n      if (_visitNode(node, callback)) { return true }\n    } while (node = node.nextSibling)\n  }\n}\n\n\nfunction Document() {\n}\nfunction _onAddAttribute(doc, el, newAttr) {\n  doc && doc._inc++\n  const ns = newAttr.namespaceURI\n  if (ns == 'http://www.w3.org/2000/xmlns/') {\n    // update namespace\n    el._nsMap[newAttr.prefix ? newAttr.localName : ''] = newAttr.value\n  }\n}\nfunction _onRemoveAttribute(doc, el, newAttr, remove) {\n  doc && doc._inc++\n  const ns = newAttr.namespaceURI\n  if (ns == 'http://www.w3.org/2000/xmlns/') {\n    // update namespace\n    delete el._nsMap[newAttr.prefix ? newAttr.localName : '']\n  }\n}\nfunction _onUpdateChild(doc, el, newChild) {\n  if (doc && doc._inc) {\n    doc._inc++\n    // update childNodes\n    const cs = el.childNodes\n    if (newChild) {\n      cs[cs.length++] = newChild\n    } else {\n      // console.log(1)\n      let child = el.firstChild\n      let i = 0\n      while (child) {\n        cs[i++] = child\n        child = child.nextSibling\n      }\n      cs.length = i\n    }\n  }\n}\n\nfunction _removeChild(parentNode, child) {\n  const previous = child.previousSibling\n  const next = child.nextSibling\n  if (previous) {\n    previous.nextSibling = next\n  } else {\n    parentNode.firstChild = next\n  }\n  if (next) {\n    next.previousSibling = previous\n  } else {\n    parentNode.lastChild = previous\n  }\n  _onUpdateChild(parentNode.ownerDocument, parentNode)\n  return child\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode, newChild, nextChild) {\n  const cp = newChild.parentNode\n  if (cp) {\n    cp.removeChild(newChild)// remove and update\n  }\n  if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n    var newFirst = newChild.firstChild\n    if (newFirst == null) {\n      return newChild\n    }\n    var newLast = newChild.lastChild\n  } else {\n    newFirst = newLast = newChild\n  }\n  const pre = nextChild ? nextChild.previousSibling : parentNode.lastChild\n\n  newFirst.previousSibling = pre\n  newLast.nextSibling = nextChild\n\n\n  if (pre) {\n    pre.nextSibling = newFirst\n  } else {\n    parentNode.firstChild = newFirst\n  }\n  if (nextChild == null) {\n    parentNode.lastChild = newLast\n  } else {\n    nextChild.previousSibling = newLast\n  }\n  do {\n    newFirst.parentNode = parentNode\n  } while (newFirst !== newLast && (newFirst = newFirst.nextSibling))\n  _onUpdateChild(parentNode.ownerDocument || parentNode, parentNode)\n  // console.log(parentNode.lastChild.nextSibling == null)\n  if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n    newChild.firstChild = newChild.lastChild = null\n  }\n  return newChild\n}\nfunction _appendSingleChild(parentNode, newChild) {\n  const cp = newChild.parentNode\n  if (cp) {\n    var pre = parentNode.lastChild\n    cp.removeChild(newChild)// remove and update\n    var pre = parentNode.lastChild\n  }\n  var pre = parentNode.lastChild\n  newChild.parentNode = parentNode\n  newChild.previousSibling = pre\n  newChild.nextSibling = null\n  if (pre) {\n    pre.nextSibling = newChild\n  } else {\n    parentNode.firstChild = newChild\n  }\n  parentNode.lastChild = newChild\n  _onUpdateChild(parentNode.ownerDocument, parentNode, newChild)\n  return newChild\n  // console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\nDocument.prototype = {\n  // implementation : null,\n  nodeName: '#document',\n  nodeType: DOCUMENT_NODE,\n  doctype: null,\n  documentElement: null,\n  _inc: 1,\n\n  insertBefore(newChild, refChild) { // raises\n    if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n      let child = newChild.firstChild\n      while (child) {\n        const next = child.nextSibling\n        this.insertBefore(child, refChild)\n        child = next\n      }\n      return newChild\n    }\n    if (this.documentElement == null && newChild.nodeType == ELEMENT_NODE) {\n      this.documentElement = newChild\n    }\n\n    return _insertBefore(this, newChild, refChild), (newChild.ownerDocument = this), newChild\n  },\n  removeChild(oldChild) {\n    if (this.documentElement == oldChild) {\n      this.documentElement = null\n    }\n    return _removeChild(this, oldChild)\n  },\n  // Introduced in DOM Level 2:\n  importNode(importedNode, deep) {\n    return importNode(this, importedNode, deep)\n  },\n  // Introduced in DOM Level 2:\n  getElementById(id) {\n    let rtv = null\n    _visitNode(this.documentElement, function (node) {\n      if (node.nodeType == ELEMENT_NODE) {\n        if (node.getAttribute('id') == id) {\n          rtv = node\n          return true\n        }\n      }\n    })\n    return rtv\n  },\n\n  // document factory method:\n  createElement(tagName) {\n    const node = new Element()\n    node.ownerDocument = this\n    node.nodeName = tagName\n    node.tagName = tagName\n    node.childNodes = new NodeList()\n    const attrs = node.attributes = new NamedNodeMap()\n    attrs._ownerElement = node\n    return node\n  },\n  createDocumentFragment() {\n    const node = new DocumentFragment()\n    node.ownerDocument = this\n    node.childNodes = new NodeList()\n    return node\n  },\n  createTextNode(data) {\n    const node = new Text()\n    node.ownerDocument = this\n    node.appendData(data)\n    return node\n  },\n  createComment(data) {\n    const node = new Comment()\n    node.ownerDocument = this\n    node.appendData(data)\n    return node\n  },\n  createCDATASection(data) {\n    const node = new CDATASection()\n    node.ownerDocument = this\n    node.appendData(data)\n    return node\n  },\n  createProcessingInstruction(target, data) {\n    const node = new ProcessingInstruction()\n    node.ownerDocument = this\n    node.tagName = node.target = target\n    node.nodeValue = node.data = data\n    return node\n  },\n  createAttribute(name) {\n    const node = new Attr()\n    node.ownerDocument = this\n    node.name = name\n    node.nodeName = name\n    node.localName = name\n    node.specified = true\n    return node\n  },\n  createEntityReference(name) {\n    const node = new EntityReference()\n    node.ownerDocument = this\n    node.nodeName = name\n    return node\n  },\n  // Introduced in DOM Level 2:\n  createElementNS(namespaceURI, qualifiedName) {\n    const node = new Element()\n    const pl = qualifiedName.split(':')\n    const attrs = node.attributes = new NamedNodeMap()\n    node.childNodes = new NodeList()\n    node.ownerDocument = this\n    node.nodeName = qualifiedName\n    node.tagName = qualifiedName\n    node.namespaceURI = namespaceURI\n    if (pl.length == 2) {\n      node.prefix = pl[0]\n      node.localName = pl[1]\n    } else {\n      // el.prefix = null;\n      node.localName = qualifiedName\n    }\n    attrs._ownerElement = node\n    return node\n  },\n  // Introduced in DOM Level 2:\n  createAttributeNS(namespaceURI, qualifiedName) {\n    const node = new Attr()\n    const pl = qualifiedName.split(':')\n    node.ownerDocument = this\n    node.nodeName = qualifiedName\n    node.name = qualifiedName\n    node.namespaceURI = namespaceURI\n    node.specified = true\n    if (pl.length == 2) {\n      node.prefix = pl[0]\n      node.localName = pl[1]\n    } else {\n      // el.prefix = null;\n      node.localName = qualifiedName\n    }\n    return node\n  }\n}\n_extends(Document, Node)\n\n\nfunction Element() {\n  this._nsMap = {}\n}\nElement.prototype = {\n  nodeType: ELEMENT_NODE,\n  hasAttribute(name) {\n    return this.getAttributeNode(name) != null\n  },\n  getAttribute(name) {\n    const attr = this.getAttributeNode(name)\n    return attr && attr.value || ''\n  },\n  getAttributeNode(name) {\n    return this.attributes.getNamedItem(name)\n  },\n  setAttribute(name, value) {\n    const attr = this.ownerDocument.createAttribute(name)\n    attr.value = attr.nodeValue = '' + value\n    this.setAttributeNode(attr)\n  },\n  removeAttribute(name) {\n    const attr = this.getAttributeNode(name)\n    attr && this.removeAttributeNode(attr)\n  },\n\n  // four real opeartion method\n  appendChild(newChild) {\n    if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      return this.insertBefore(newChild, null)\n    } else {\n      return _appendSingleChild(this, newChild)\n    }\n  },\n  setAttributeNode(newAttr) {\n    const value = newAttr.value\n    if(newAttr.name==\"style\"){\n      \n      this.style = CSSStyleDeclaration.parse(value)\n    }\n    this.attributes[newAttr.name] = { value, textContent: value == null ? \"\" : value.toString() }\n    return this.attributes.setNamedItem(newAttr)\n  },\n  setAttributeNodeNS(newAttr) {\n    return this.attributes.setNamedItemNS(newAttr)\n  },\n  removeAttributeNode(oldAttr) {\n    // console.log(this == oldAttr.ownerElement)\n    return this.attributes.removeNamedItem(oldAttr.nodeName)\n  },\n  // get real attribute name,and remove it by removeAttributeNode\n  removeAttributeNS(namespaceURI, localName) {\n    const old = this.getAttributeNodeNS(namespaceURI, localName)\n    old && this.removeAttributeNode(old)\n  },\n\n  hasAttributeNS(namespaceURI, localName) {\n    return this.getAttributeNodeNS(namespaceURI, localName) != null\n  },\n  getAttributeNS(namespaceURI, localName) {\n    const attr = this.getAttributeNodeNS(namespaceURI, localName)\n    return attr && attr.value || ''\n  },\n  setAttributeNS(namespaceURI, qualifiedName, value) {\n    const attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName)\n    attr.value = attr.nodeValue = '' + value\n    this.setAttributeNode(attr)\n  },\n  getAttributeNodeNS(namespaceURI, localName) {\n    return this.attributes.getNamedItemNS(namespaceURI, localName)\n  },\n\n  getElementsByTagName(tagName) {\n    return new LiveNodeList(this, function (base) {\n      const ls = []\n      _visitNode(base, function (node) {\n        if (node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName\n        || node.tagName.endsWith(\":\"+tagName))) {\n          ls.push(node)\n        }\n      })\n      return ls\n    })\n  },\n  getElementsByTagNameNS(namespaceURI, localName) {\n    return new LiveNodeList(this, function (base) {\n      const ls = []\n      _visitNode(base, function (node) {\n        if (node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)) {\n          ls.push(node)\n        }\n      })\n      return ls\n    })\n  }\n}\n\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS\nElement.prototype.querySelectorAll = function (selector) {\n  const paths = selector.split(\" \")\n  let parents = [this]\n  for (const path of paths) {\n    const temp = []\n    for (const parent of parents) {\n      const children = parent.getElementsByTagName(path)\n      for (var i = 0; i < children.length; i++) {\n        temp.push(children[i])\n      }\n    }\n    parents = temp.concat();\n  }\n  return parents\n}\nElement.prototype.querySelector = function (selector) {\n  return this.querySelectorAll(selector)[0]\n}\nDocument.prototype.querySelectorAll = Element.prototype.querySelectorAll \nDocument.prototype.querySelector = Element.prototype.querySelector \n\n_extends(Element, Node)\nfunction Attr() {\n}\nAttr.prototype.nodeType = ATTRIBUTE_NODE\n_extends(Attr, Node)\n\n\nfunction CharacterData() {\n}\nCharacterData.prototype = {\n  data: '',\n  substringData(offset, count) {\n    return this.data.substring(offset, offset + count)\n  },\n  appendData(text) {\n    text = this.data + text\n    this.nodeValue = this.data = text\n    this.length = text.length\n  },\n  insertData(offset, text) {\n    this.replaceData(offset, 0, text)\n  },\n  appendChild(newChild) {\n    throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n  },\n  deleteData(offset, count) {\n    this.replaceData(offset, count, '')\n  },\n  replaceData(offset, count, text) {\n    const start = this.data.substring(0, offset)\n    const end = this.data.substring(offset + count)\n    text = start + text + end\n    this.nodeValue = this.data = text\n    this.length = text.length\n  }\n}\n_extends(CharacterData, Node)\nfunction Text() {\n}\nText.prototype = {\n  nodeName: '#text',\n  nodeType: TEXT_NODE,\n  splitText(offset) {\n    let text = this.data\n    const newText = text.substring(offset)\n    text = text.substring(0, offset)\n    this.data = this.nodeValue = text\n    this.length = text.length\n    const newNode = this.ownerDocument.createTextNode(newText)\n    if (this.parentNode) {\n      this.parentNode.insertBefore(newNode, this.nextSibling)\n    }\n    return newNode\n  }\n}\n_extends(Text, CharacterData)\nfunction Comment() {\n}\nComment.prototype = {\n  nodeName: '#comment',\n  nodeType: COMMENT_NODE\n}\n_extends(Comment, CharacterData)\n\nfunction CDATASection() {\n}\nCDATASection.prototype = {\n  nodeName: '#cdata-section',\n  nodeType: CDATA_SECTION_NODE\n}\n_extends(CDATASection, CharacterData)\n\n\nfunction DocumentType() {\n}\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE\n_extends(DocumentType, Node)\n\nfunction Notation() {\n}\nNotation.prototype.nodeType = NOTATION_NODE\n_extends(Notation, Node)\n\nfunction Entity() {\n}\nEntity.prototype.nodeType = ENTITY_NODE\n_extends(Entity, Node)\n\nfunction EntityReference() {\n}\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE\n_extends(EntityReference, Node)\n\nfunction DocumentFragment() {\n}\nDocumentFragment.prototype.nodeName = '#document-fragment'\nDocumentFragment.prototype.nodeType = DOCUMENT_FRAGMENT_NODE\n_extends(DocumentFragment, Node)\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE\n_extends(ProcessingInstruction, Node)\nfunction XMLSerializer() { }\nXMLSerializer.prototype.serializeToString = function (node, isHtml, nodeFilter) {\n  return nodeSerializeToString.call(node, isHtml, nodeFilter)\n}\nNode.prototype.toString = nodeSerializeToString\nfunction nodeSerializeToString(isHtml, nodeFilter) {\n  const buf = []\n  const refNode = this.nodeType == 9 && this.documentElement || this\n  var prefix = refNode.prefix\n  const uri = refNode.namespaceURI\n\n  if (uri && prefix == null) {\n    // console.log(prefix)\n    var prefix = refNode.lookupPrefix(uri)\n    if (prefix == null) {\n      // isHTML = true;\n      var visibleNamespaces = [\n        { namespace: uri, prefix: null }\n        // {namespace:uri,prefix:''}\n      ]\n    }\n  }\n  serializeToString(this, buf, isHtml, nodeFilter, visibleNamespaces)\n  // console.log('###',this.nodeType,uri,prefix,buf.join(''))\n  return buf.join('')\n}\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n  const prefix = node.prefix || ''\n  const uri = node.namespaceURI\n  if (!prefix && !uri) {\n    return false\n  }\n  if (prefix === 'xml' && uri === 'http://www.w3.org/XML/1998/namespace' ||\n    uri == 'http://www.w3.org/2000/xmlns/') {\n    return false\n  }\n\n  let i = visibleNamespaces.length\n  // console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\n  while (i--) {\n    const ns = visibleNamespaces[i]\n    // get namespace prefix\n    // console.log(node.nodeType,node.tagName,ns.prefix,prefix)\n    if (ns.prefix == prefix) {\n      return ns.namespace != uri\n    }\n  }\n  // console.log(isHTML,uri,prefix=='')\n  // if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\n  //\treturn false;\n  // }\n  // node.flag = '11111'\n  // console.error(3,true,node.flag,node.prefix,node.namespaceURI)\n  return true\n}\nfunction serializeToString(node, buf, isHTML, nodeFilter, visibleNamespaces) {\n  if (nodeFilter) {\n    node = nodeFilter(node)\n    if (node) {\n      if (typeof node === 'string') {\n        buf.push(node)\n        return\n      }\n    } else {\n      return\n    }\n    // buf.sort.apply(attrs, attributeSorter);\n  }\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n      if (!visibleNamespaces) visibleNamespaces = []\n      var startVisibleNamespaces = visibleNamespaces.length\n      var attrs = node.attributes\n      var len = attrs.length\n      var child = node.firstChild\n      var nodeName = node.tagName\n\n      isHTML = (htmlns === node.namespaceURI) || isHTML\n      buf.push('<', nodeName)\n\n\n      for (var i = 0; i < len; i++) {\n        var attr = attrs.item(i)\n        if (attr.prefix == 'xmlns') {\n          visibleNamespaces.push({ prefix: attr.localName, namespace: attr.value })\n        } else if (attr.nodeName == 'xmlns') {\n          visibleNamespaces.push({ prefix: '', namespace: attr.value })\n        }\n      }\n      for (var i = 0; i < len; i++) {\n        var attr = attrs.item(i)\n        if (needNamespaceDefine(attr, isHTML, visibleNamespaces)) {\n          var prefix = attr.prefix || ''\n          var uri = attr.namespaceURI\n          var ns = prefix ? ' xmlns:' + prefix : ' xmlns'\n          buf.push(ns, '=\"', uri, '\"')\n          visibleNamespaces.push({ prefix, namespace: uri })\n        }\n        serializeToString(attr, buf, isHTML, nodeFilter, visibleNamespaces)\n      }\n      // add namespace for current node\n      if (needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n        var prefix = node.prefix || ''\n        var uri = node.namespaceURI\n        var ns = prefix ? ' xmlns:' + prefix : ' xmlns'\n        buf.push(ns, '=\"', uri, '\"')\n        visibleNamespaces.push({ prefix, namespace: uri })\n      }\n\n      if (child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)) {\n        buf.push('>')\n        // if is cdata child node\n        if (isHTML && /^script$/i.test(nodeName)) {\n          while (child) {\n            if (child.data) {\n              buf.push(child.data)\n            } else {\n              serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces)\n            }\n            child = child.nextSibling\n          }\n        } else {\n          while (child) {\n            serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces)\n            child = child.nextSibling\n          }\n        }\n        buf.push('</', nodeName, '>')\n      } else {\n        buf.push('/>')\n      }\n      // remove added visible namespaces\n      // visibleNamespaces.length = startVisibleNamespaces;\n      return\n    case DOCUMENT_NODE:\n    case DOCUMENT_FRAGMENT_NODE:\n      var child = node.firstChild\n      while (child) {\n        serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces)\n        child = child.nextSibling\n      }\n      return\n    case ATTRIBUTE_NODE:\n      return buf.push(' ', node.name, '=\"', node.value.replace(/[<&\"]/g, _xmlEncoder), '\"')\n    case TEXT_NODE:\n      return buf.push(node.data.replace(/[<&]/g, _xmlEncoder))\n    case CDATA_SECTION_NODE:\n      return buf.push('<![CDATA[', node.data, ']]>')\n    case COMMENT_NODE:\n      return buf.push('<!--', node.data, '-->')\n    case DOCUMENT_TYPE_NODE:\n      var pubid = node.publicId\n      var sysid = node.systemId\n      buf.push('<!DOCTYPE ', node.name)\n      if (pubid) {\n        buf.push(' PUBLIC \"', pubid)\n        if (sysid && sysid != '.') {\n          buf.push('\" \"', sysid)\n        }\n        buf.push('\">')\n      } else if (sysid && sysid != '.') {\n        buf.push(' SYSTEM \"', sysid, '\">')\n      } else {\n        const sub = node.internalSubset\n        if (sub) {\n          buf.push(' [', sub, ']')\n        }\n        buf.push('>')\n      }\n      return\n    case PROCESSING_INSTRUCTION_NODE:\n      return buf.push('<?', node.target, ' ', node.data, '?>')\n    case ENTITY_REFERENCE_NODE:\n      return buf.push('&', node.nodeName, ';')\n    // case ENTITY_NODE:\n    // case NOTATION_NODE:\n    default:\n      buf.push('??', node.nodeName)\n  }\n}\nfunction importNode(doc, node, deep) {\n  let node2\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n      node2 = node.cloneNode(false)\n      node2.ownerDocument = doc\n\n    case DOCUMENT_FRAGMENT_NODE:\n      break\n    case ATTRIBUTE_NODE:\n      deep = true\n      break\n    // case ENTITY_REFERENCE_NODE:\n    // case PROCESSING_INSTRUCTION_NODE:\n    // //case TEXT_NODE:\n    // case CDATA_SECTION_NODE:\n    // case COMMENT_NODE:\n    //\tdeep = false;\n    //\tbreak;\n    // case DOCUMENT_NODE:\n    // case DOCUMENT_TYPE_NODE:\n    // cannot be imported.\n    // case ENTITY_NODE:\n    // case NOTATION_NODE：\n    // can not hit in level3\n    // default:throw e;\n  }\n  if (!node2) {\n    node2 = node.cloneNode(false)// false\n  }\n  node2.ownerDocument = doc\n  node2.parentNode = null\n  if (deep) {\n    let child = node.firstChild\n    while (child) {\n      node2.appendChild(importNode(doc, child, deep))\n      child = child.nextSibling\n    }\n  }\n  return node2\n}\n//\nfunction cloneNode(doc, node, deep) {\n  const node2 = new node.constructor()\n  for (const n in node) {\n    const v = node[n]\n    if (typeof v !== 'object') {\n      if (v != node2[n]) {\n        node2[n] = v\n      }\n    }\n  }\n  if (node.childNodes) {\n    node2.childNodes = new NodeList()\n  }\n  node2.ownerDocument = doc\n  switch (node2.nodeType) {\n    case ELEMENT_NODE:\n      var attrs = node.attributes\n      var attrs2 = node2.attributes = new NamedNodeMap()\n      var len = attrs.length\n      attrs2._ownerElement = node2\n      for (let i = 0; i < len; i++) {\n        node2.setAttributeNode(cloneNode(doc, attrs.item(i), true))\n      }\n      break\n    case ATTRIBUTE_NODE:\n      deep = true\n  }\n  if (deep) {\n    let child = node.firstChild\n    while (child) {\n      node2.appendChild(cloneNode(doc, child, deep))\n      child = child.nextSibling\n    }\n  }\n  return node2\n}\n\nfunction __set__(object, key, value) {\n  object[key] = value\n}\n// do dynamic\ntry {\n  if (Object.defineProperty) {\n    Object.defineProperty(Element.prototype, 'outerHTML', {\n      get() {\n        return new XMLSerializer().serializeToString(this)\n      },\n      set(){\n\n      }\n    })\n    Object.defineProperty(Element.prototype, 'innerHTML', {\n      get() {\n        var html = new XMLSerializer().serializeToString(this)\n        html = html.substring(html.indexOf(\">\"))\n        html = html.substring(0,html.lastIndexOf(\"</\"))\n        return html\n      },\n      set(){\n        \n      }\n    })\n    Object.defineProperty(Element.prototype, 'firstElementChild', {\n      get() {\n        return this.firstChild\n      }\n    })\n    Object.defineProperty(Element.prototype, 'nextElementSibling', {\n      get() {\n        return this.nextSibling\n      }\n    })\n    Object.defineProperty(LiveNodeList.prototype, 'length', {\n      get() {\n        _updateLiveList(this)\n        return this.$$length\n      }\n    })\n    Object.defineProperty(Node.prototype, 'textContent', {\n      get() {\n        return getTextContent(this)\n      },\n      set(data) {\n        switch (this.nodeType) {\n          case ELEMENT_NODE:\n          case DOCUMENT_FRAGMENT_NODE:\n            while (this.firstChild) {\n              this.removeChild(this.firstChild)\n            }\n            if (data || String(data)) {\n              this.appendChild(this.ownerDocument.createTextNode(data))\n            }\n            break\n          default:\n            // TODO:\n            this.data = data\n            this.value = data\n            this.nodeValue = data\n        }\n      }\n    })\n\n    function getTextContent(node) {\n      switch (node.nodeType) {\n        case ELEMENT_NODE:\n        case DOCUMENT_FRAGMENT_NODE:\n          var buf = []\n          node = node.firstChild\n          while (node) {\n            if (node.nodeType !== 7 && node.nodeType !== 8) {\n              buf.push(getTextContent(node))\n            }\n            node = node.nextSibling\n          }\n          return buf.join('')\n        default:\n          return node.nodeValue\n      }\n    }\n    __set__ = function (object, key, value) {\n      // console.log(value)\n      object['$$' + key] = value\n    }\n  }\n} catch (e) { // ie8\n}\n\n// if(typeof require == 'function'){\nexports.DOMImplementation = DOMImplementation\nexports.XMLSerializer = XMLSerializer\n// }\n","var __TEMP__ = require('./ArrayX');var ArrayX = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Base64');var Base64 = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Canvas');var Canvas = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./GUID');var GUID = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Page');var Page = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./String');var String = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = {\n  ArrayX,\n  GUID,\n  Base64,\n  Canvas,\n  String,\n  Page\n};\n","var __TEMP__ = require('../HTMLImageElement');var HTMLImageElement = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('../HTMLCanvasElement');var HTMLCanvasElement = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('../ImageBitmap');var ImageBitmap = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('./Base64');var Base64 = __REQUIRE_DEFAULT__(__TEMP__);\nvar __TEMP__ = require('../Blob');var Blob = __REQUIRE_DEFAULT__(__TEMP__);\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });class Canvas {\n\t/*\n\tstatic x2image(x, tobase64, toBuffer) {\n\t\tif (!x) {\n\t\t\treturn x;\n\t\t}\n\t\tvar img;\n\t\tif (x instanceof HTMLImageElement) {\n\t\t\timg = x.wx_element;\n\t\t} else if (x instanceof ImageBitmap) {\n\t\t\timg = x.wx_element;\n\t\t} else if (x instanceof HTMLCanvasElement) {\n\t\t\timg = x.wx_element;\n\t\t\tif (tobase64) {\n\t\t\t\timg = img.toDataURL();\n\t\t\t\tif (toBuffer) {\n\t\t\t\t\tconst prev = \"data:image/png;base64,\";\n\t\t\t\t\timg = img.substring(prev.length);\n\t\t\t\t\timg = Base64.base64ToArrayBuffer(img);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\timg = x;\n\t\t}\n\t\treturn img;\n\t}*/\n\tstatic fix(canvas, canvas_image) {\n\t\tif (canvas.wx_element) {\n\t\t\tcanvas = canvas.wx_element;\n\t\t}\n\t\tif (canvas_image.wx_element) {\n\t\t\tcanvas_image = canvas_image.wx_element;\n\t\t}\n\t\treturn new Promise((callback, reject) => {\n\t\t\ttry {\n\t\t\t\tvar image = canvas.createImage();\n\t\t\t\timage.onload = function () {\n\t\t\t\t\tvar result = new HTMLCanvasElement(canvas_image)\n\t\t\t\t\tresult.image = image\n\t\t\t\t\tcallback(result);\n\t\t\t\t};\n\t\t\t\timage.onerror = function (e) {\n\t\t\t\t\treject(e)\n\t\t\t\t}\n\t\t\t\timage.src = canvas_image.toDataURL();\n\n\t\t\t} catch (e) {\n\t\t\t\treject(e)\n\t\t\t}\n\t\t});\n    }\n\tstatic toImage(canvas, canvas_image) {\n\t\tif (canvas.wx_element) {\n\t\t\tcanvas = canvas.wx_element;\n\t\t}\n\t\tif (canvas_image.wx_element) {\n\t\t\tcanvas_image = canvas_image.wx_element;\n\t\t}\n\t\treturn new Promise((callback, reject) => {\n\t\t\ttry {\n\t\t\t\tvar image = canvas.createImage();\n\t\t\t\timage.onload = function () {\n\t\t\t\t\tcallback(image);\n\t\t\t\t};\n\t\t\t\timage.onerror = function (e) {\n\t\t\t\t\treject(e)\n\t\t\t\t}\n\t\t\t\timage.src = canvas_image.toDataURL();\n\n\t\t\t} catch (e) {\n\t\t\t\treject(e)\n\t\t\t}\n\t\t});\n    }\n\tstatic toBlob(canvas, callback, type, quality) {\n\t\tconst base64 = canvas.toDataURL(type, quality);\n\t\tconst prev = `data:${type};base64,`;\n\t\tconst buffer = Base64.base64ToArrayBuffer(base64.substring(prev.length));\n\t\tconst blob = new Blob([buffer]);\n\t\tcallback(blob);\n\t}\n\n\tstatic putImageData(\n\t\tctx,\n\t\timageData,\n\t\tdx,\n\t\tdy,\n\t\tdirtyX,\n\t\tdirtyY,\n\t\tdirtyWidth,\n\t\tdirtyHeight\n\t) {\n\t\tconst data = imageData.data;\n\t\tconst height = imageData.height;\n\t\tconst width = imageData.width;\n\t\tdirtyX = dirtyX || 0;\n\t\tdirtyY = dirtyY || 0;\n\t\tdirtyWidth = dirtyWidth !== undefined ? dirtyWidth : width;\n\t\tdirtyHeight = dirtyHeight !== undefined ? dirtyHeight : height;\n\t\tconst limitBottom = dirtyY + dirtyHeight;\n\t\tconst limitRight = dirtyX + dirtyWidth;\n\t\tfor (let y = dirtyY; y < limitBottom; y++) {\n\t\t\tfor (let x = dirtyX; x < limitRight; x++) {\n\t\t\t\tconst pos = y * width + x;\n\t\t\t\tctx.fillStyle = `rgba(${data[pos * 4 + 0]}, ${data[pos * 4 + 1]}, ${\n          data[pos * 4 + 2]\n        }, ${data[pos * 4 + 3] / 255})`;\n\t\t\t\tctx.fillRect(x + dx, y + dy, 1, 1);\n\t\t\t}\n\t\t}\n\t}\n};exports.default = Canvas\n"]}